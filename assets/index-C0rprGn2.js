var HB=Object.defineProperty;var $B=(e,t,n)=>t in e?HB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var l0=(e,t,n)=>$B(e,typeof t!="symbol"?t+"":t,n);function qB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c0={exports:{}},Yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function GB(){if(tN)return Yc;tN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Yc.Fragment=t,Yc.jsx=n,Yc.jsxs=n,Yc}var nN;function YB(){return nN||(nN=1,c0.exports=GB()),c0.exports}var f=YB(),u0={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function KB(){if(rN)return Ae;rN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function j(R,G,ie){this.props=R,this.context=G,this.refs=E,this.updater=ie||S}j.prototype.isReactComponent={},j.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=j.prototype;function N(R,G,ie){this.props=R,this.context=G,this.refs=E,this.updater=ie||S}var P=N.prototype=new A;P.constructor=N,_(P,j.prototype),P.isPureReactComponent=!0;var T=Array.isArray;function D(){}var I={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function $(R,G,ie){var ue=ie.ref;return{$$typeof:e,type:R,key:G,ref:ue!==void 0?ue:null,props:ie}}function Z(R,G){return $(R.type,G,R.props)}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function J(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return G[ie]})}var oe=/\/+/g;function de(R,G){return typeof R=="object"&&R!==null&&R.key!=null?J(""+R.key):G.toString(36)}function ae(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(D,D):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function M(R,G,ie,ue,ge){var Ce=typeof R;(Ce==="undefined"||Ce==="boolean")&&(R=null);var te=!1;if(R===null)te=!0;else switch(Ce){case"bigint":case"string":case"number":te=!0;break;case"object":switch(R.$$typeof){case e:case t:te=!0;break;case p:return te=R._init,M(te(R._payload),G,ie,ue,ge)}}if(te)return ge=ge(R),te=ue===""?"."+de(R,0):ue,T(ge)?(ie="",te!=null&&(ie=te.replace(oe,"$&/")+"/"),M(ge,G,ie,"",function(Ee){return Ee})):ge!=null&&(U(ge)&&(ge=Z(ge,ie+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(oe,"$&/")+"/")+te)),G.push(ge)),1;te=0;var ve=ue===""?".":ue+":";if(T(R))for(var W=0;W<R.length;W++)ue=R[W],Ce=ve+de(ue,W),te+=M(ue,G,ie,Ce,ge);else if(W=x(R),typeof W=="function")for(R=W.call(R),W=0;!(ue=R.next()).done;)ue=ue.value,Ce=ve+de(ue,W++),te+=M(ue,G,ie,Ce,ge);else if(Ce==="object"){if(typeof R.then=="function")return M(ae(R),G,ie,ue,ge);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return te}function k(R,G,ie){if(R==null)return R;var ue=[],ge=0;return M(R,ue,"","",function(Ce){return G.call(ie,Ce,ge++)}),ue}function Y(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var F=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},se={map:k,forEach:function(R,G,ie){k(R,function(){G.apply(this,arguments)},ie)},count:function(R){var G=0;return k(R,function(){G++}),G},toArray:function(R){return k(R,function(G){return G})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=g,Ae.Children=se,Ae.Component=j,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=N,Ae.StrictMode=r,Ae.Suspense=d,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,G,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=_({},R.props),ge=R.key;if(G!=null)for(Ce in G.key!==void 0&&(ge=""+G.key),G)!B.call(G,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&G.ref===void 0||(ue[Ce]=G[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ie;else if(1<Ce){for(var te=Array(Ce),ve=0;ve<Ce;ve++)te[ve]=arguments[ve+2];ue.children=te}return $(R.type,ge,ue)},Ae.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Ae.createElement=function(R,G,ie){var ue,ge={},Ce=null;if(G!=null)for(ue in G.key!==void 0&&(Ce=""+G.key),G)B.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=G[ue]);var te=arguments.length-2;if(te===1)ge.children=ie;else if(1<te){for(var ve=Array(te),W=0;W<te;W++)ve[W]=arguments[W+2];ge.children=ve}if(R&&R.defaultProps)for(ue in te=R.defaultProps,te)ge[ue]===void 0&&(ge[ue]=te[ue]);return $(R,Ce,ge)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:u,render:R}},Ae.isValidElement=U,Ae.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:Y}},Ae.memo=function(R,G){return{$$typeof:h,type:R,compare:G===void 0?null:G}},Ae.startTransition=function(R){var G=I.T,ie={};I.T=ie;try{var ue=R(),ge=I.S;ge!==null&&ge(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(D,F)}catch(Ce){F(Ce)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),I.T=G}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(R){return I.H.use(R)},Ae.useActionState=function(R,G,ie){return I.H.useActionState(R,G,ie)},Ae.useCallback=function(R,G){return I.H.useCallback(R,G)},Ae.useContext=function(R){return I.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,G){return I.H.useDeferredValue(R,G)},Ae.useEffect=function(R,G){return I.H.useEffect(R,G)},Ae.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(R,G,ie){return I.H.useImperativeHandle(R,G,ie)},Ae.useInsertionEffect=function(R,G){return I.H.useInsertionEffect(R,G)},Ae.useLayoutEffect=function(R,G){return I.H.useLayoutEffect(R,G)},Ae.useMemo=function(R,G){return I.H.useMemo(R,G)},Ae.useOptimistic=function(R,G){return I.H.useOptimistic(R,G)},Ae.useReducer=function(R,G,ie){return I.H.useReducer(R,G,ie)},Ae.useRef=function(R){return I.H.useRef(R)},Ae.useState=function(R){return I.H.useState(R)},Ae.useSyncExternalStore=function(R,G,ie){return I.H.useSyncExternalStore(R,G,ie)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var iN;function Dl(){return iN||(iN=1,u0.exports=KB()),u0.exports}var w=Dl();const Fi=gi(w),WB=qB({__proto__:null,default:Fi},[w]);var d0={exports:{}},Kc={},f0={exports:{}},h0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function XB(){return aN||(aN=1,(function(e){function t(M,k){var Y=M.length;M.push(k);e:for(;0<Y;){var F=Y-1>>>1,se=M[F];if(0<i(se,k))M[F]=k,M[Y]=se,Y=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var k=M[0],Y=M.pop();if(Y!==k){M[0]=Y;e:for(var F=0,se=M.length,R=se>>>1;F<R;){var G=2*(F+1)-1,ie=M[G],ue=G+1,ge=M[ue];if(0>i(ie,Y))ue<se&&0>i(ge,ie)?(M[F]=ge,M[ue]=Y,F=ue):(M[F]=ie,M[G]=Y,F=G);else if(ue<se&&0>i(ge,Y))M[F]=ge,M[ue]=Y,F=ue;else break e}}return k}function i(M,k){var Y=M.sortIndex-k.sortIndex;return Y!==0?Y:M.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,v=3,x=!1,S=!1,_=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function P(M){for(var k=n(h);k!==null;){if(k.callback===null)r(h);else if(k.startTime<=M)r(h),k.sortIndex=k.expirationTime,t(d,k);else break;k=n(h)}}function T(M){if(_=!1,P(M),!S)if(n(d)!==null)S=!0,D||(D=!0,J());else{var k=n(h);k!==null&&ae(T,k.startTime-M)}}var D=!1,I=-1,B=5,$=-1;function Z(){return E?!0:!(e.unstable_now()-$<B)}function U(){if(E=!1,D){var M=e.unstable_now();$=M;var k=!0;try{e:{S=!1,_&&(_=!1,A(I),I=-1),x=!0;var Y=v;try{t:{for(P(M),g=n(d);g!==null&&!(g.expirationTime>M&&Z());){var F=g.callback;if(typeof F=="function"){g.callback=null,v=g.priorityLevel;var se=F(g.expirationTime<=M);if(M=e.unstable_now(),typeof se=="function"){g.callback=se,P(M),k=!0;break t}g===n(d)&&r(d),P(M)}else r(d);g=n(d)}if(g!==null)k=!0;else{var R=n(h);R!==null&&ae(T,R.startTime-M),k=!1}}break e}finally{g=null,v=Y,x=!1}k=void 0}}finally{k?J():D=!1}}}var J;if(typeof N=="function")J=function(){N(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,de=oe.port2;oe.port1.onmessage=U,J=function(){de.postMessage(null)}}else J=function(){j(U,0)};function ae(M,k){I=j(function(){M(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var Y=v;v=k;try{return M()}finally{v=Y}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=v;v=M;try{return k()}finally{v=Y}},e.unstable_scheduleCallback=function(M,k,Y){var F=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,M){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,M={id:p++,callback:k,priorityLevel:M,startTime:Y,expirationTime:se,sortIndex:-1},Y>F?(M.sortIndex=Y,t(h,M),n(d)===null&&M===n(h)&&(_?(A(I),I=-1):_=!0,ae(T,Y-F))):(M.sortIndex=se,t(d,M),S||x||(S=!0,D||(D=!0,J()))),M},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(M){var k=v;return function(){var Y=v;v=k;try{return M.apply(this,arguments)}finally{v=Y}}}})(h0)),h0}var sN;function QB(){return sN||(sN=1,f0.exports=XB()),f0.exports}var m0={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function ZB(){if(oN)return xn;oN=1;var e=Dl();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,p)},xn.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},xn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},xn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},xn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},xn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},xn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},xn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},xn.requestFormReset=function(d){r.d.r(d)},xn.unstable_batchedUpdates=function(d,h){return d(h)},xn.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},xn.version="19.2.0",xn}var lN;function _D(){if(lN)return m0.exports;lN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),m0.exports=ZB(),m0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN;function JB(){if(cN)return Kc;cN=1;var e=QB(),t=Dl(),n=_D();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),a;if(b===m)return d(y),o;b=b.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=b;else{for(var C=!1,O=y.child;O;){if(O===c){C=!0,c=y,m=b;break}if(O===m){C=!0,m=y,c=b;break}O=O.sibling}if(!C){for(O=b.child;O;){if(O===c){C=!0,c=b,m=y;break}if(O===m){C=!0,m=b,c=y;break}O=O.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case P:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:de(a.type)||"Memo";case B:o=a._payload,a=a._init;try{return de(a(o))}catch{}}return null}var ae=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},F=[],se=-1;function R(a){return{current:a}}function G(a){0>se||(a.current=F[se],F[se]=null,se--)}function ie(a,o){se++,F[se]=a.current,a.current=o}var ue=R(null),ge=R(null),Ce=R(null),te=R(null);function ve(a,o){switch(ie(Ce,o),ie(ge,a),ie(ue,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?EC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=EC(o),a=jC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}G(ue),ie(ue,a)}function W(){G(ue),G(ge),G(Ce)}function Ee(a){a.memoizedState!==null&&ie(te,a);var o=ue.current,c=jC(o,a.type);o!==c&&(ie(ge,a),ie(ue,c))}function De(a){ge.current===a&&(G(ue),G(ge)),te.current===a&&(G(te),Hc._currentValue=Y)}var le,sn;function Fe(a){if(le===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);le=o&&o[1]||"",sn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+sn}var on=!1;function ln(a,o){if(!a||on)return"";on=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var K=X}Reflect.construct(a,[],re)}else{try{re.call()}catch(X){K=X}a.call(re.prototype)}}else{try{throw Error()}catch(X){K=X}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),C=b[0],O=b[1];if(C&&O){var L=C.split(`
`),q=O.split(`
`);for(y=m=0;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;for(;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;if(m===L.length||y===q.length)for(m=L.length-1,y=q.length-1;1<=m&&0<=y&&L[m]!==q[y];)y--;for(;1<=m&&0<=y;m--,y--)if(L[m]!==q[y]){if(m!==1||y!==1)do if(m--,y--,0>y||L[m]!==q[y]){var ee=`
`+L[m].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=m&&0<=y);break}}}finally{on=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Fe(c):""}function yi(a,o){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==o&&o!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return ln(a.type,!1);case 11:return ln(a.type.render,!1);case 1:return ln(a.type,!0);case 31:return Fe("Activity");default:return""}}function ec(a){try{var o="",c=null;do o+=yi(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Yp=Object.prototype.hasOwnProperty,Kp=e.unstable_scheduleCallback,Wp=e.unstable_cancelCallback,w6=e.unstable_shouldYield,S6=e.unstable_requestPaint,Jn=e.unstable_now,_6=e.unstable_getCurrentPriorityLevel,n_=e.unstable_ImmediatePriority,r_=e.unstable_UserBlockingPriority,Nd=e.unstable_NormalPriority,E6=e.unstable_LowPriority,i_=e.unstable_IdlePriority,j6=e.log,C6=e.unstable_setDisableYieldValue,tc=null,er=null;function ga(a){if(typeof j6=="function"&&C6(a),er&&typeof er.setStrictMode=="function")try{er.setStrictMode(tc,a)}catch{}}var tr=Math.clz32?Math.clz32:A6,N6=Math.log,T6=Math.LN2;function A6(a){return a>>>=0,a===0?32:31-(N6(a)/T6|0)|0}var Td=256,Ad=262144,Od=4194304;function ls(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function kd(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var O=m&134217727;return O!==0?(m=O&~b,m!==0?y=ls(m):(C&=O,C!==0?y=ls(C):c||(c=O&~a,c!==0&&(y=ls(c))))):(O=m&~b,O!==0?y=ls(O):C!==0?y=ls(C):c||(c=m&~a,c!==0&&(y=ls(c)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:y}function nc(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function O6(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a_(){var a=Od;return Od<<=1,(Od&62914560)===0&&(Od=4194304),a}function Xp(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function rc(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function k6(a,o,c,m,y,b){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var O=a.entanglements,L=a.expirationTimes,q=a.hiddenUpdates;for(c=C&~c;0<c;){var ee=31-tr(c),re=1<<ee;O[ee]=0,L[ee]=-1;var K=q[ee];if(K!==null)for(q[ee]=null,ee=0;ee<K.length;ee++){var X=K[ee];X!==null&&(X.lane&=-536870913)}c&=~re}m!==0&&s_(a,m,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~o))}function s_(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-tr(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function o_(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-tr(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function l_(a,o){var c=o&-o;return c=(c&42)!==0?1:Qp(c),(c&(a.suspendedLanes|o))!==0?0:c}function Qp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zp(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function c_(){var a=k.p;return a!==0?a:(a=window.event,a===void 0?32:KC(a.type))}function u_(a,o){var c=k.p;try{return k.p=a,o()}finally{k.p=c}}var va=Math.random().toString(36).slice(2),cn="__reactFiber$"+va,Mn="__reactProps$"+va,mo="__reactContainer$"+va,Jp="__reactEvents$"+va,D6="__reactListeners$"+va,P6="__reactHandles$"+va,d_="__reactResources$"+va,ic="__reactMarker$"+va;function eg(a){delete a[cn],delete a[Mn],delete a[Jp],delete a[D6],delete a[P6]}function po(a){var o=a[cn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[mo]||c[cn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=DC(a);a!==null;){if(c=a[cn])return c;a=DC(a)}return o}a=c,c=a.parentNode}return null}function go(a){if(a=a[cn]||a[mo]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function ac(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function vo(a){var o=a[d_];return o||(o=a[d_]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Yt(a){a[ic]=!0}var f_=new Set,h_={};function cs(a,o){yo(a,o),yo(a+"Capture",o)}function yo(a,o){for(h_[a]=o,a=0;a<o.length;a++)f_.add(o[a])}var M6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),m_={},p_={};function R6(a){return Yp.call(p_,a)?!0:Yp.call(m_,a)?!1:M6.test(a)?p_[a]=!0:(m_[a]=!0,!1)}function Dd(a,o,c){if(R6(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Pd(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function xi(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function xr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function g_(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function I6(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,b=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,b.call(this,C)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function tg(a){if(!a._valueTracker){var o=g_(a)?"checked":"value";a._valueTracker=I6(a,o,""+a[o])}}function v_(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=g_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Md(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var L6=/[\n"\\]/g;function br(a){return a.replace(L6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ng(a,o,c,m,y,b,C,O){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+xr(o)):a.value!==""+xr(o)&&(a.value=""+xr(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?rg(a,C,xr(o)):c!=null?rg(a,C,xr(c)):m!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+xr(O):a.removeAttribute("name")}function y_(a,o,c,m,y,b,C,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){tg(a);return}c=c!=null?""+xr(c):"",o=o!=null?""+xr(o):c,O||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=O?a.checked:!!m,a.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),tg(a)}function rg(a,o,c){o==="number"&&Md(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function xo(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+xr(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function x_(a,o,c){if(o!=null&&(o=""+xr(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+xr(c):""}function b_(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=xr(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),tg(a)}function bo(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var B6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function w_(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||B6.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function S_(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&w_(a,y,m)}else for(var b in o)o.hasOwnProperty(b)&&w_(a,b,o[b])}function ig(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rd(a){return U6.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function bi(){}var ag=null;function sg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wo=null,So=null;function __(a){var o=go(a);if(o&&(a=o.stateNode)){var c=a[Mn]||null;e:switch(a=o.stateNode,o.type){case"input":if(ng(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+br(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[Mn]||null;if(!y)throw Error(r(90));ng(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&v_(m)}break e;case"textarea":x_(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&xo(a,!!c.multiple,o,!1)}}}var og=!1;function E_(a,o,c){if(og)return a(o,c);og=!0;try{var m=a(o);return m}finally{if(og=!1,(wo!==null||So!==null)&&(_f(),wo&&(o=wo,a=So,So=wo=null,__(o),a)))for(o=0;o<a.length;o++)__(a[o])}}function sc(a,o){var c=a.stateNode;if(c===null)return null;var m=c[Mn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=!1;if(wi)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){lg=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{lg=!1}var ya=null,cg=null,Id=null;function j_(){if(Id)return Id;var a,o=cg,c=o.length,m,y="value"in ya?ya.value:ya.textContent,b=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(m=1;m<=C&&o[c-m]===y[b-m];m++);return Id=y.slice(a,1<m?1-m:void 0)}function Ld(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Bd(){return!0}function C_(){return!1}function Rn(a){function o(c,m,y,b,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(c=a[O],this[O]=c?c(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Bd:C_,this.isPropagationStopped=C_,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),o}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=Rn(us),lc=g({},us,{view:0,detail:0}),V6=Rn(lc),ug,dg,cc,Ud=g({},lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cc&&(cc&&a.type==="mousemove"?(ug=a.screenX-cc.screenX,dg=a.screenY-cc.screenY):dg=ug=0,cc=a),ug)},movementY:function(a){return"movementY"in a?a.movementY:dg}}),N_=Rn(Ud),F6=g({},Ud,{dataTransfer:0}),H6=Rn(F6),$6=g({},lc,{relatedTarget:0}),fg=Rn($6),q6=g({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),G6=Rn(q6),Y6=g({},us,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),K6=Rn(Y6),W6=g({},us,{data:0}),T_=Rn(W6),X6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J6(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Z6[a])?!!o[a]:!1}function hg(){return J6}var e8=g({},lc,{key:function(a){if(a.key){var o=X6[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ld(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Q6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hg,charCode:function(a){return a.type==="keypress"?Ld(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ld(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),t8=Rn(e8),n8=g({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A_=Rn(n8),r8=g({},lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hg}),i8=Rn(r8),a8=g({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),s8=Rn(a8),o8=g({},Ud,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),l8=Rn(o8),c8=g({},us,{newState:0,oldState:0}),u8=Rn(c8),d8=[9,13,27,32],mg=wi&&"CompositionEvent"in window,uc=null;wi&&"documentMode"in document&&(uc=document.documentMode);var f8=wi&&"TextEvent"in window&&!uc,O_=wi&&(!mg||uc&&8<uc&&11>=uc),k_=" ",D_=!1;function P_(a,o){switch(a){case"keyup":return d8.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _o=!1;function h8(a,o){switch(a){case"compositionend":return M_(o);case"keypress":return o.which!==32?null:(D_=!0,k_);case"textInput":return a=o.data,a===k_&&D_?null:a;default:return null}}function m8(a,o){if(_o)return a==="compositionend"||!mg&&P_(a,o)?(a=j_(),Id=cg=ya=null,_o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return O_&&o.locale!=="ko"?null:o.data;default:return null}}var p8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!p8[a.type]:o==="textarea"}function I_(a,o,c,m){wo?So?So.push(m):So=[m]:wo=m,o=Of(o,"onChange"),0<o.length&&(c=new zd("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var dc=null,fc=null;function g8(a){yC(a,0)}function Vd(a){var o=ac(a);if(v_(o))return a}function L_(a,o){if(a==="change")return o}var B_=!1;if(wi){var pg;if(wi){var gg="oninput"in document;if(!gg){var z_=document.createElement("div");z_.setAttribute("oninput","return;"),gg=typeof z_.oninput=="function"}pg=gg}else pg=!1;B_=pg&&(!document.documentMode||9<document.documentMode)}function U_(){dc&&(dc.detachEvent("onpropertychange",V_),fc=dc=null)}function V_(a){if(a.propertyName==="value"&&Vd(fc)){var o=[];I_(o,fc,a,sg(a)),E_(g8,o)}}function v8(a,o,c){a==="focusin"?(U_(),dc=o,fc=c,dc.attachEvent("onpropertychange",V_)):a==="focusout"&&U_()}function y8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vd(fc)}function x8(a,o){if(a==="click")return Vd(o)}function b8(a,o){if(a==="input"||a==="change")return Vd(o)}function w8(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var nr=typeof Object.is=="function"?Object.is:w8;function hc(a,o){if(nr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!Yp.call(o,y)||!nr(a[y],o[y]))return!1}return!0}function F_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function H_(a,o){var c=F_(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=F_(c)}}function $_(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?$_(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function q_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Md(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Md(a.document)}return o}function vg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var S8=wi&&"documentMode"in document&&11>=document.documentMode,Eo=null,yg=null,mc=null,xg=!1;function G_(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xg||Eo==null||Eo!==Md(m)||(m=Eo,"selectionStart"in m&&vg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mc&&hc(mc,m)||(mc=m,m=Of(yg,"onSelect"),0<m.length&&(o=new zd("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Eo)))}function ds(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var jo={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},bg={},Y_={};wi&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function fs(a){if(bg[a])return bg[a];if(!jo[a])return a;var o=jo[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in Y_)return bg[a]=o[c];return a}var K_=fs("animationend"),W_=fs("animationiteration"),X_=fs("animationstart"),_8=fs("transitionrun"),E8=fs("transitionstart"),j8=fs("transitioncancel"),Q_=fs("transitionend"),Z_=new Map,wg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wg.push("scrollEnd");function Fr(a,o){Z_.set(a,o),cs(o,[a])}var Fd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},wr=[],Co=0,Sg=0;function Hd(){for(var a=Co,o=Sg=Co=0;o<a;){var c=wr[o];wr[o++]=null;var m=wr[o];wr[o++]=null;var y=wr[o];wr[o++]=null;var b=wr[o];if(wr[o++]=null,m!==null&&y!==null){var C=m.pending;C===null?y.next=y:(y.next=C.next,C.next=y),m.pending=y}b!==0&&J_(c,y,b)}}function $d(a,o,c,m){wr[Co++]=a,wr[Co++]=o,wr[Co++]=c,wr[Co++]=m,Sg|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function _g(a,o,c,m){return $d(a,o,c,m),qd(a)}function hs(a,o){return $d(a,null,null,o),qd(a)}function J_(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,b=a.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-tr(c),a=b.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),b):null}function qd(a){if(50<Ic)throw Ic=0,Dv=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var No={};function C8(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(a,o,c,m){return new C8(a,o,c,m)}function Eg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Si(a,o){var c=a.alternate;return c===null?(c=rr(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function eE(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Gd(a,o,c,m,y,b){var C=0;if(m=a,typeof a=="function")Eg(a)&&(C=1);else if(typeof a=="string")C=kB(a,c,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=rr(31,c,o,y),a.elementType=$,a.lanes=b,a;case _:return ms(c.children,y,b,o);case E:C=8,y|=24;break;case j:return a=rr(12,c,o,y|2),a.elementType=j,a.lanes=b,a;case T:return a=rr(13,c,o,y),a.elementType=T,a.lanes=b,a;case D:return a=rr(19,c,o,y),a.elementType=D,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:C=10;break e;case A:C=9;break e;case P:C=11;break e;case I:C=14;break e;case B:C=16,m=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=rr(C,c,o,y),o.elementType=a,o.type=m,o.lanes=b,o}function ms(a,o,c,m){return a=rr(7,a,m,o),a.lanes=c,a}function jg(a,o,c){return a=rr(6,a,null,o),a.lanes=c,a}function tE(a){var o=rr(18,null,null,0);return o.stateNode=a,o}function Cg(a,o,c){return o=rr(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var nE=new WeakMap;function Sr(a,o){if(typeof a=="object"&&a!==null){var c=nE.get(a);return c!==void 0?c:(o={value:a,source:o,stack:ec(o)},nE.set(a,o),o)}return{value:a,source:o,stack:ec(o)}}var To=[],Ao=0,Yd=null,pc=0,_r=[],Er=0,xa=null,ti=1,ni="";function _i(a,o){To[Ao++]=pc,To[Ao++]=Yd,Yd=a,pc=o}function rE(a,o,c){_r[Er++]=ti,_r[Er++]=ni,_r[Er++]=xa,xa=a;var m=ti;a=ni;var y=32-tr(m)-1;m&=~(1<<y),c+=1;var b=32-tr(o)+y;if(30<b){var C=y-y%5;b=(m&(1<<C)-1).toString(32),m>>=C,y-=C,ti=1<<32-tr(o)+y|c<<y|m,ni=b+a}else ti=1<<b|c<<y|m,ni=a}function Ng(a){a.return!==null&&(_i(a,1),rE(a,1,0))}function Tg(a){for(;a===Yd;)Yd=To[--Ao],To[Ao]=null,pc=To[--Ao],To[Ao]=null;for(;a===xa;)xa=_r[--Er],_r[Er]=null,ni=_r[--Er],_r[Er]=null,ti=_r[--Er],_r[Er]=null}function iE(a,o){_r[Er++]=ti,_r[Er++]=ni,_r[Er++]=xa,ti=o.id,ni=o.overflow,xa=a}var un=null,ut=null,Ve=!1,ba=null,jr=!1,Ag=Error(r(519));function wa(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gc(Sr(o,a)),Ag}function aE(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[cn]=a,o[Mn]=m,c){case"dialog":Le("cancel",o),Le("close",o);break;case"iframe":case"object":case"embed":Le("load",o);break;case"video":case"audio":for(c=0;c<Bc.length;c++)Le(Bc[c],o);break;case"source":Le("error",o);break;case"img":case"image":case"link":Le("error",o),Le("load",o);break;case"details":Le("toggle",o);break;case"input":Le("invalid",o),y_(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Le("invalid",o);break;case"textarea":Le("invalid",o),b_(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||SC(o.textContent,c)?(m.popover!=null&&(Le("beforetoggle",o),Le("toggle",o)),m.onScroll!=null&&Le("scroll",o),m.onScrollEnd!=null&&Le("scrollend",o),m.onClick!=null&&(o.onclick=bi),o=!0):o=!1,o||wa(a,!0)}function sE(a){for(un=a.return;un;)switch(un.tag){case 5:case 31:case 13:jr=!1;return;case 27:case 3:jr=!0;return;default:un=un.return}}function Oo(a){if(a!==un)return!1;if(!Ve)return sE(a),Ve=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Yv(a.type,a.memoizedProps)),c=!c),c&&ut&&wa(a),sE(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ut=kC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ut=kC(a)}else o===27?(o=ut,Ra(a.type)?(a=Zv,Zv=null,ut=a):ut=o):ut=un?Nr(a.stateNode.nextSibling):null;return!0}function ps(){ut=un=null,Ve=!1}function Og(){var a=ba;return a!==null&&(zn===null?zn=a:zn.push.apply(zn,a),ba=null),a}function gc(a){ba===null?ba=[a]:ba.push(a)}var kg=R(null),gs=null,Ei=null;function Sa(a,o,c){ie(kg,o._currentValue),o._currentValue=c}function ji(a){a._currentValue=kg.current,G(kg)}function Dg(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Pg(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=y;for(var L=0;L<o.length;L++)if(O.context===o[L]){b.lanes|=c,O=b.alternate,O!==null&&(O.lanes|=c),Dg(b.return,c,a),m||(C=null);break e}b=O.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,b=C.alternate,b!==null&&(b.lanes|=c),Dg(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function ko(a,o,c,m){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var O=y.type;nr(y.pendingProps.value,C.value)||(a!==null?a.push(O):a=[O])}}else if(y===te.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Hc):a=[Hc])}y=y.return}a!==null&&Pg(o,a,c,m),o.flags|=262144}function Kd(a){for(a=a.firstContext;a!==null;){if(!nr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vs(a){gs=a,Ei=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function dn(a){return oE(gs,a)}function Wd(a,o){return gs===null&&vs(a),oE(a,o)}function oE(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ei===null){if(a===null)throw Error(r(308));Ei=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ei=Ei.next=o;return c}var N8=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},T8=e.unstable_scheduleCallback,A8=e.unstable_NormalPriority,Ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mg(){return{controller:new N8,data:new Map,refCount:0}}function vc(a){a.refCount--,a.refCount===0&&T8(A8,function(){a.controller.abort()})}var yc=null,Rg=0,Do=0,Po=null;function O8(a,o){if(yc===null){var c=yc=[];Rg=0,Do=Bv(),Po={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Rg++,o.then(lE,lE),o}function lE(){if(--Rg===0&&yc!==null){Po!==null&&(Po.status="fulfilled");var a=yc;yc=null,Do=0,Po=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function k8(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var cE=M.S;M.S=function(a,o){Gj=Jn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&O8(a,o),cE!==null&&cE(a,o)};var ys=R(null);function Ig(){var a=ys.current;return a!==null?a:nt.pooledCache}function Xd(a,o){o===null?ie(ys,ys.current):ie(ys,o.pool)}function uE(){var a=Ig();return a===null?null:{parent:Ot._currentValue,pool:a}}var Mo=Error(r(460)),Lg=Error(r(474)),Qd=Error(r(542)),Zd={then:function(){}};function dE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fE(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(bi,bi),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,mE(a),a;default:if(typeof o.status=="string")o.then(bi,bi);else{if(a=nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,mE(a),a}throw bs=o,Mo}}function xs(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(bs=c,Mo):c}}var bs=null;function hE(){if(bs===null)throw Error(r(459));var a=bs;return bs=null,a}function mE(a){if(a===Mo||a===Qd)throw Error(r(483))}var Ro=null,xc=0;function Jd(a){var o=xc;return xc+=1,Ro===null&&(Ro=[]),fE(Ro,a,o)}function bc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function ef(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function pE(a){function o(V,z){if(a){var H=V.deletions;H===null?(V.deletions=[z],V.flags|=16):H.push(z)}}function c(V,z){if(!a)return null;for(;z!==null;)o(V,z),z=z.sibling;return null}function m(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function y(V,z){return V=Si(V,z),V.index=0,V.sibling=null,V}function b(V,z,H){return V.index=H,a?(H=V.alternate,H!==null?(H=H.index,H<z?(V.flags|=67108866,z):H):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function C(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function O(V,z,H,ne){return z===null||z.tag!==6?(z=jg(H,V.mode,ne),z.return=V,z):(z=y(z,H),z.return=V,z)}function L(V,z,H,ne){var xe=H.type;return xe===_?ee(V,z,H.props.children,ne,H.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===B&&xs(xe)===z.type)?(z=y(z,H.props),bc(z,H),z.return=V,z):(z=Gd(H.type,H.key,H.props,null,V.mode,ne),bc(z,H),z.return=V,z)}function q(V,z,H,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Cg(H,V.mode,ne),z.return=V,z):(z=y(z,H.children||[]),z.return=V,z)}function ee(V,z,H,ne,xe){return z===null||z.tag!==7?(z=ms(H,V.mode,ne,xe),z.return=V,z):(z=y(z,H),z.return=V,z)}function re(V,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=jg(""+z,V.mode,H),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=Gd(z.type,z.key,z.props,null,V.mode,H),bc(H,z),H.return=V,H;case S:return z=Cg(z,V.mode,H),z.return=V,z;case B:return z=xs(z),re(V,z,H)}if(ae(z)||J(z))return z=ms(z,V.mode,H,null),z.return=V,z;if(typeof z.then=="function")return re(V,Jd(z),H);if(z.$$typeof===N)return re(V,Wd(V,z),H);ef(V,z)}return null}function K(V,z,H,ne){var xe=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xe!==null?null:O(V,z,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===xe?L(V,z,H,ne):null;case S:return H.key===xe?q(V,z,H,ne):null;case B:return H=xs(H),K(V,z,H,ne)}if(ae(H)||J(H))return xe!==null?null:ee(V,z,H,ne,null);if(typeof H.then=="function")return K(V,z,Jd(H),ne);if(H.$$typeof===N)return K(V,z,Wd(V,H),ne);ef(V,H)}return null}function X(V,z,H,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return V=V.get(H)||null,O(z,V,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return V=V.get(ne.key===null?H:ne.key)||null,L(z,V,ne,xe);case S:return V=V.get(ne.key===null?H:ne.key)||null,q(z,V,ne,xe);case B:return ne=xs(ne),X(V,z,H,ne,xe)}if(ae(ne)||J(ne))return V=V.get(H)||null,ee(z,V,ne,xe,null);if(typeof ne.then=="function")return X(V,z,H,Jd(ne),xe);if(ne.$$typeof===N)return X(V,z,H,Wd(z,ne),xe);ef(z,ne)}return null}function he(V,z,H,ne){for(var xe=null,He=null,pe=z,Pe=z=0,Ue=null;pe!==null&&Pe<H.length;Pe++){pe.index>Pe?(Ue=pe,pe=null):Ue=pe.sibling;var $e=K(V,pe,H[Pe],ne);if($e===null){pe===null&&(pe=Ue);break}a&&pe&&$e.alternate===null&&o(V,pe),z=b($e,z,Pe),He===null?xe=$e:He.sibling=$e,He=$e,pe=Ue}if(Pe===H.length)return c(V,pe),Ve&&_i(V,Pe),xe;if(pe===null){for(;Pe<H.length;Pe++)pe=re(V,H[Pe],ne),pe!==null&&(z=b(pe,z,Pe),He===null?xe=pe:He.sibling=pe,He=pe);return Ve&&_i(V,Pe),xe}for(pe=m(pe);Pe<H.length;Pe++)Ue=X(pe,V,Pe,H[Pe],ne),Ue!==null&&(a&&Ue.alternate!==null&&pe.delete(Ue.key===null?Pe:Ue.key),z=b(Ue,z,Pe),He===null?xe=Ue:He.sibling=Ue,He=Ue);return a&&pe.forEach(function(Ua){return o(V,Ua)}),Ve&&_i(V,Pe),xe}function _e(V,z,H,ne){if(H==null)throw Error(r(151));for(var xe=null,He=null,pe=z,Pe=z=0,Ue=null,$e=H.next();pe!==null&&!$e.done;Pe++,$e=H.next()){pe.index>Pe?(Ue=pe,pe=null):Ue=pe.sibling;var Ua=K(V,pe,$e.value,ne);if(Ua===null){pe===null&&(pe=Ue);break}a&&pe&&Ua.alternate===null&&o(V,pe),z=b(Ua,z,Pe),He===null?xe=Ua:He.sibling=Ua,He=Ua,pe=Ue}if($e.done)return c(V,pe),Ve&&_i(V,Pe),xe;if(pe===null){for(;!$e.done;Pe++,$e=H.next())$e=re(V,$e.value,ne),$e!==null&&(z=b($e,z,Pe),He===null?xe=$e:He.sibling=$e,He=$e);return Ve&&_i(V,Pe),xe}for(pe=m(pe);!$e.done;Pe++,$e=H.next())$e=X(pe,V,Pe,$e.value,ne),$e!==null&&(a&&$e.alternate!==null&&pe.delete($e.key===null?Pe:$e.key),z=b($e,z,Pe),He===null?xe=$e:He.sibling=$e,He=$e);return a&&pe.forEach(function(FB){return o(V,FB)}),Ve&&_i(V,Pe),xe}function tt(V,z,H,ne){if(typeof H=="object"&&H!==null&&H.type===_&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var xe=H.key;z!==null;){if(z.key===xe){if(xe=H.type,xe===_){if(z.tag===7){c(V,z.sibling),ne=y(z,H.props.children),ne.return=V,V=ne;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===B&&xs(xe)===z.type){c(V,z.sibling),ne=y(z,H.props),bc(ne,H),ne.return=V,V=ne;break e}c(V,z);break}else o(V,z);z=z.sibling}H.type===_?(ne=ms(H.props.children,V.mode,ne,H.key),ne.return=V,V=ne):(ne=Gd(H.type,H.key,H.props,null,V.mode,ne),bc(ne,H),ne.return=V,V=ne)}return C(V);case S:e:{for(xe=H.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){c(V,z.sibling),ne=y(z,H.children||[]),ne.return=V,V=ne;break e}else{c(V,z);break}else o(V,z);z=z.sibling}ne=Cg(H,V.mode,ne),ne.return=V,V=ne}return C(V);case B:return H=xs(H),tt(V,z,H,ne)}if(ae(H))return he(V,z,H,ne);if(J(H)){if(xe=J(H),typeof xe!="function")throw Error(r(150));return H=xe.call(H),_e(V,z,H,ne)}if(typeof H.then=="function")return tt(V,z,Jd(H),ne);if(H.$$typeof===N)return tt(V,z,Wd(V,H),ne);ef(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(c(V,z.sibling),ne=y(z,H),ne.return=V,V=ne):(c(V,z),ne=jg(H,V.mode,ne),ne.return=V,V=ne),C(V)):c(V,z)}return function(V,z,H,ne){try{xc=0;var xe=tt(V,z,H,ne);return Ro=null,xe}catch(pe){if(pe===Mo||pe===Qd)throw pe;var He=rr(29,pe,null,V.mode);return He.lanes=ne,He.return=V,He}finally{}}}var ws=pE(!0),gE=pE(!1),_a=!1;function Bg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ea(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ja(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ye&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=qd(a),J_(a,null,c),o}return $d(a,m,o,c),qd(a)}function wc(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,o_(a,c)}}function Ug(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var Vg=!1;function Sc(){if(Vg){var a=Po;if(a!==null)throw a}}function _c(a,o,c,m){Vg=!1;var y=a.updateQueue;_a=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var L=O,q=L.next;L.next=null,C===null?b=q:C.next=q,C=L;var ee=a.alternate;ee!==null&&(ee=ee.updateQueue,O=ee.lastBaseUpdate,O!==C&&(O===null?ee.firstBaseUpdate=q:O.next=q,ee.lastBaseUpdate=L))}if(b!==null){var re=y.baseState;C=0,ee=q=L=null,O=b;do{var K=O.lane&-536870913,X=K!==O.lane;if(X?(ze&K)===K:(m&K)===K){K!==0&&K===Do&&(Vg=!0),ee!==null&&(ee=ee.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var he=a,_e=O;K=o;var tt=c;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){re=he.call(tt,re,K);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,K=typeof he=="function"?he.call(tt,re,K):he,K==null)break e;re=g({},re,K);break e;case 2:_a=!0}}K=O.callback,K!==null&&(a.flags|=64,X&&(a.flags|=8192),X=y.callbacks,X===null?y.callbacks=[K]:X.push(K))}else X={lane:K,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ee===null?(q=ee=X,L=re):ee=ee.next=X,C|=K;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;X=O,O=X.next,X.next=null,y.lastBaseUpdate=X,y.shared.pending=null}}while(!0);ee===null&&(L=re),y.baseState=L,y.firstBaseUpdate=q,y.lastBaseUpdate=ee,b===null&&(y.shared.lanes=0),Oa|=C,a.lanes=C,a.memoizedState=re}}function vE(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function yE(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)vE(c[a],o)}var Io=R(null),tf=R(0);function xE(a,o){a=Mi,ie(tf,a),ie(Io,o),Mi=a|o.baseLanes}function Fg(){ie(tf,Mi),ie(Io,Io.current)}function Hg(){Mi=tf.current,G(Io),G(tf)}var ir=R(null),Cr=null;function Ca(a){var o=a.alternate;ie(jt,jt.current&1),ie(ir,a),Cr===null&&(o===null||Io.current!==null||o.memoizedState!==null)&&(Cr=a)}function $g(a){ie(jt,jt.current),ie(ir,a),Cr===null&&(Cr=a)}function bE(a){a.tag===22?(ie(jt,jt.current),ie(ir,a),Cr===null&&(Cr=a)):Na()}function Na(){ie(jt,jt.current),ie(ir,ir.current)}function ar(a){G(ir),Cr===a&&(Cr=null),G(jt)}var jt=R(0);function nf(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Xv(c)||Qv(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ci=0,Oe=null,Je=null,kt=null,rf=!1,Lo=!1,Ss=!1,af=0,Ec=0,Bo=null,D8=0;function wt(){throw Error(r(321))}function qg(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!nr(a[c],o[c]))return!1;return!0}function Gg(a,o,c,m,y,b){return Ci=b,Oe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=a===null||a.memoizedState===null?rj:ov,Ss=!1,b=c(m,y),Ss=!1,Lo&&(b=SE(o,c,m,y)),wE(a),b}function wE(a){M.H=Nc;var o=Je!==null&&Je.next!==null;if(Ci=0,kt=Je=Oe=null,rf=!1,Ec=0,Bo=null,o)throw Error(r(300));a===null||Dt||(a=a.dependencies,a!==null&&Kd(a)&&(Dt=!0))}function SE(a,o,c,m){Oe=a;var y=0;do{if(Lo&&(Bo=null),Ec=0,Lo=!1,25<=y)throw Error(r(301));if(y+=1,kt=Je=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=ij,b=o(c,m)}while(Lo);return b}function P8(){var a=M.H,o=a.useState()[0];return o=typeof o.then=="function"?jc(o):o,a=a.useState()[0],(Je!==null?Je.memoizedState:null)!==a&&(Oe.flags|=1024),o}function Yg(){var a=af!==0;return af=0,a}function Kg(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function Wg(a){if(rf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}rf=!1}Ci=0,kt=Je=Oe=null,Lo=!1,Ec=af=0,Bo=null}function Cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Oe.memoizedState=kt=a:kt=kt.next=a,kt}function Ct(){if(Je===null){var a=Oe.alternate;a=a!==null?a.memoizedState:null}else a=Je.next;var o=kt===null?Oe.memoizedState:kt.next;if(o!==null)kt=o,Je=a;else{if(a===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Je=a,a={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},kt===null?Oe.memoizedState=kt=a:kt=kt.next=a}return kt}function sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jc(a){var o=Ec;return Ec+=1,Bo===null&&(Bo=[]),a=fE(Bo,a,o),o=Oe,(kt===null?o.memoizedState:kt.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?rj:ov),a}function of(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return jc(a);if(a.$$typeof===N)return dn(a)}throw Error(r(438,String(a)))}function Xg(a){var o=null,c=Oe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=Oe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=sf(),Oe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=Z;return o.index++,c}function Ni(a,o){return typeof o=="function"?o(a):o}function lf(a){var o=Ct();return Qg(o,Je,a)}function Qg(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,b=m.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}o.baseQueue=y=b,m.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var O=C=null,L=null,q=o,ee=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(ze&re)===re:(Ci&re)===re){var K=q.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===Do&&(ee=!0);else if((Ci&K)===K){q=q.next,K===Do&&(ee=!0);continue}else re={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(O=L=re,C=b):L=L.next=re,Oe.lanes|=K,Oa|=K;re=q.action,Ss&&c(b,re),b=q.hasEagerState?q.eagerState:c(b,re)}else K={lane:re,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(O=L=K,C=b):L=L.next=K,Oe.lanes|=re,Oa|=re;q=q.next}while(q!==null&&q!==o);if(L===null?C=b:L.next=O,!nr(b,a.memoizedState)&&(Dt=!0,ee&&(c=Po,c!==null)))throw c;a.memoizedState=b,a.baseState=C,a.baseQueue=L,m.lastRenderedState=b}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Zg(a){var o=Ct(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do b=a(b,C.action),C=C.next;while(C!==y);nr(b,o.memoizedState)||(Dt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,m]}function _E(a,o,c){var m=Oe,y=Ct(),b=Ve;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!nr((Je||y).memoizedState,c);if(C&&(y.memoizedState=c,Dt=!0),y=y.queue,tv(CE.bind(null,m,y,a),[a]),y.getSnapshot!==o||C||kt!==null&&kt.memoizedState.tag&1){if(m.flags|=2048,zo(9,{destroy:void 0},jE.bind(null,m,y,c,o),null),nt===null)throw Error(r(349));b||(Ci&127)!==0||EE(m,o,c)}return c}function EE(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=Oe.updateQueue,o===null?(o=sf(),Oe.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function jE(a,o,c,m){o.value=c,o.getSnapshot=m,NE(o)&&TE(a)}function CE(a,o,c){return c(function(){NE(o)&&TE(a)})}function NE(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!nr(a,c)}catch{return!0}}function TE(a){var o=hs(a,2);o!==null&&Un(o,a,2)}function Jg(a){var o=Cn();if(typeof a=="function"){var c=a;if(a=c(),Ss){ga(!0);try{c()}finally{ga(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},o}function AE(a,o,c,m){return a.baseState=c,Qg(a,Je,typeof m=="function"?m:Ni)}function M8(a,o,c,m,y){if(df(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};M.T!==null?c(!0):b.isTransition=!1,m(b),c=o.pending,c===null?(b.next=o.pending=b,OE(o,b)):(b.next=c.next,o.pending=c.next=b)}}function OE(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var b=M.T,C={};M.T=C;try{var O=c(y,m),L=M.S;L!==null&&L(C,O),kE(a,o,O)}catch(q){ev(a,o,q)}finally{b!==null&&C.types!==null&&(b.types=C.types),M.T=b}}else try{b=c(y,m),kE(a,o,b)}catch(q){ev(a,o,q)}}function kE(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){DE(a,o,m)},function(m){return ev(a,o,m)}):DE(a,o,c)}function DE(a,o,c){o.status="fulfilled",o.value=c,PE(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,OE(a,c)))}function ev(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,PE(o),o=o.next;while(o!==m)}a.action=null}function PE(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function ME(a,o){return o}function RE(a,o){if(Ve){var c=nt.formState;if(c!==null){e:{var m=Oe;if(Ve){if(ut){t:{for(var y=ut,b=jr;y.nodeType!==8;){if(!b){y=null;break t}if(y=Nr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ut=Nr(y.nextSibling),m=y.data==="F!";break e}}wa(m)}m=!1}m&&(o=c[0])}}return c=Cn(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ME,lastRenderedState:o},c.queue=m,c=ej.bind(null,Oe,m),m.dispatch=c,m=Jg(!1),b=sv.bind(null,Oe,!1,m.queue),m=Cn(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=M8.bind(null,Oe,y,b,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function IE(a){var o=Ct();return LE(o,Je,a)}function LE(a,o,c){if(o=Qg(a,o,ME)[0],a=lf(Ni)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=jc(o)}catch(C){throw C===Mo?Qd:C}else m=o;o=Ct();var y=o.queue,b=y.dispatch;return c!==o.memoizedState&&(Oe.flags|=2048,zo(9,{destroy:void 0},R8.bind(null,y,c),null)),[m,b,a]}function R8(a,o){a.action=o}function BE(a){var o=Ct(),c=Je;if(c!==null)return LE(o,c,a);Ct(),o=o.memoizedState,c=Ct();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function zo(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=Oe.updateQueue,o===null&&(o=sf(),Oe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function zE(){return Ct().memoizedState}function cf(a,o,c,m){var y=Cn();Oe.flags|=a,y.memoizedState=zo(1|o,{destroy:void 0},c,m===void 0?null:m)}function uf(a,o,c,m){var y=Ct();m=m===void 0?null:m;var b=y.memoizedState.inst;Je!==null&&m!==null&&qg(m,Je.memoizedState.deps)?y.memoizedState=zo(o,b,c,m):(Oe.flags|=a,y.memoizedState=zo(1|o,b,c,m))}function UE(a,o){cf(8390656,8,a,o)}function tv(a,o){uf(2048,8,a,o)}function I8(a){Oe.flags|=4;var o=Oe.updateQueue;if(o===null)o=sf(),Oe.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function VE(a){var o=Ct().memoizedState;return I8({ref:o,nextImpl:a}),function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function FE(a,o){return uf(4,2,a,o)}function HE(a,o){return uf(4,4,a,o)}function $E(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function qE(a,o,c){c=c!=null?c.concat([a]):null,uf(4,4,$E.bind(null,o,a),c)}function nv(){}function GE(a,o){var c=Ct();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&qg(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function YE(a,o){var c=Ct();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&qg(o,m[1]))return m[0];if(m=a(),Ss){ga(!0);try{a()}finally{ga(!1)}}return c.memoizedState=[m,o],m}function rv(a,o,c){return c===void 0||(Ci&1073741824)!==0&&(ze&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=Kj(),Oe.lanes|=a,Oa|=a,c)}function KE(a,o,c,m){return nr(c,o)?c:Io.current!==null?(a=rv(a,c,m),nr(a,o)||(Dt=!0),a):(Ci&42)===0||(Ci&1073741824)!==0&&(ze&261930)===0?(Dt=!0,a.memoizedState=c):(a=Kj(),Oe.lanes|=a,Oa|=a,o)}function WE(a,o,c,m,y){var b=k.p;k.p=b!==0&&8>b?b:8;var C=M.T,O={};M.T=O,sv(a,!1,o,c);try{var L=y(),q=M.S;if(q!==null&&q(O,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=k8(L,m);Cc(a,o,ee,lr(a))}else Cc(a,o,m,lr(a))}catch(re){Cc(a,o,{then:function(){},status:"rejected",reason:re},lr())}finally{k.p=b,C!==null&&O.types!==null&&(C.types=O.types),M.T=C}}function L8(){}function iv(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=XE(a).queue;WE(a,y,o,Y,c===null?L8:function(){return QE(a),c(m)})}function XE(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Y},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function QE(a){var o=XE(a);o.next===null&&(o=a.alternate.memoizedState),Cc(a,o.next.queue,{},lr())}function av(){return dn(Hc)}function ZE(){return Ct().memoizedState}function JE(){return Ct().memoizedState}function B8(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=lr();a=Ea(c);var m=ja(o,a,c);m!==null&&(Un(m,o,c),wc(m,o,c)),o={cache:Mg()},a.payload=o;return}o=o.return}}function z8(a,o,c){var m=lr();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},df(a)?tj(o,c):(c=_g(a,o,c,m),c!==null&&(Un(c,a,m),nj(c,o,m)))}function ej(a,o,c){var m=lr();Cc(a,o,c,m)}function Cc(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(df(a))tj(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,O=b(C,c);if(y.hasEagerState=!0,y.eagerState=O,nr(O,C))return $d(a,o,y,0),nt===null&&Hd(),!1}catch{}finally{}if(c=_g(a,o,y,m),c!==null)return Un(c,a,m),nj(c,o,m),!0}return!1}function sv(a,o,c,m){if(m={lane:2,revertLane:Bv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},df(a)){if(o)throw Error(r(479))}else o=_g(a,c,m,2),o!==null&&Un(o,a,2)}function df(a){var o=a.alternate;return a===Oe||o!==null&&o===Oe}function tj(a,o){Lo=rf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function nj(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,o_(a,c)}}var Nc={readContext:dn,use:of,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Nc.useEffectEvent=wt;var rj={readContext:dn,use:of,useCallback:function(a,o){return Cn().memoizedState=[a,o===void 0?null:o],a},useContext:dn,useEffect:UE,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,cf(4194308,4,$E.bind(null,o,a),c)},useLayoutEffect:function(a,o){return cf(4194308,4,a,o)},useInsertionEffect:function(a,o){cf(4,2,a,o)},useMemo:function(a,o){var c=Cn();o=o===void 0?null:o;var m=a();if(Ss){ga(!0);try{a()}finally{ga(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=Cn();if(c!==void 0){var y=c(o);if(Ss){ga(!0);try{c(o)}finally{ga(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=z8.bind(null,Oe,a),[m.memoizedState,a]},useRef:function(a){var o=Cn();return a={current:a},o.memoizedState=a},useState:function(a){a=Jg(a);var o=a.queue,c=ej.bind(null,Oe,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:nv,useDeferredValue:function(a,o){var c=Cn();return rv(c,a,o)},useTransition:function(){var a=Jg(!1);return a=WE.bind(null,Oe,a.queue,!0,!1),Cn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=Oe,y=Cn();if(Ve){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),nt===null)throw Error(r(349));(ze&127)!==0||EE(m,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,UE(CE.bind(null,m,b,a),[a]),m.flags|=2048,zo(9,{destroy:void 0},jE.bind(null,m,b,c,o),null),c},useId:function(){var a=Cn(),o=nt.identifierPrefix;if(Ve){var c=ni,m=ti;c=(m&~(1<<32-tr(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=af++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=D8++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:av,useFormState:RE,useActionState:RE,useOptimistic:function(a){var o=Cn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=sv.bind(null,Oe,!0,c),c.dispatch=o,[a,o]},useMemoCache:Xg,useCacheRefresh:function(){return Cn().memoizedState=B8.bind(null,Oe)},useEffectEvent:function(a){var o=Cn(),c={impl:a};return o.memoizedState=c,function(){if((Ye&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},ov={readContext:dn,use:of,useCallback:GE,useContext:dn,useEffect:tv,useImperativeHandle:qE,useInsertionEffect:FE,useLayoutEffect:HE,useMemo:YE,useReducer:lf,useRef:zE,useState:function(){return lf(Ni)},useDebugValue:nv,useDeferredValue:function(a,o){var c=Ct();return KE(c,Je.memoizedState,a,o)},useTransition:function(){var a=lf(Ni)[0],o=Ct().memoizedState;return[typeof a=="boolean"?a:jc(a),o]},useSyncExternalStore:_E,useId:ZE,useHostTransitionStatus:av,useFormState:IE,useActionState:IE,useOptimistic:function(a,o){var c=Ct();return AE(c,Je,a,o)},useMemoCache:Xg,useCacheRefresh:JE};ov.useEffectEvent=VE;var ij={readContext:dn,use:of,useCallback:GE,useContext:dn,useEffect:tv,useImperativeHandle:qE,useInsertionEffect:FE,useLayoutEffect:HE,useMemo:YE,useReducer:Zg,useRef:zE,useState:function(){return Zg(Ni)},useDebugValue:nv,useDeferredValue:function(a,o){var c=Ct();return Je===null?rv(c,a,o):KE(c,Je.memoizedState,a,o)},useTransition:function(){var a=Zg(Ni)[0],o=Ct().memoizedState;return[typeof a=="boolean"?a:jc(a),o]},useSyncExternalStore:_E,useId:ZE,useHostTransitionStatus:av,useFormState:BE,useActionState:BE,useOptimistic:function(a,o){var c=Ct();return Je!==null?AE(c,Je,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Xg,useCacheRefresh:JE};ij.useEffectEvent=VE;function lv(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var cv={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=lr(),y=Ea(m);y.payload=o,c!=null&&(y.callback=c),o=ja(a,y,m),o!==null&&(Un(o,a,m),wc(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=lr(),y=Ea(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ja(a,y,m),o!==null&&(Un(o,a,m),wc(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=lr(),m=Ea(c);m.tag=2,o!=null&&(m.callback=o),o=ja(a,m,c),o!==null&&(Un(o,a,c),wc(o,a,c))}};function aj(a,o,c,m,y,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,C):o.prototype&&o.prototype.isPureReactComponent?!hc(c,m)||!hc(y,b):!0}function sj(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&cv.enqueueReplaceState(o,o.state,null)}function _s(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function oj(a){Fd(a)}function lj(a){console.error(a)}function cj(a){Fd(a)}function ff(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function uj(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function uv(a,o,c){return c=Ea(c),c.tag=3,c.payload={element:null},c.callback=function(){ff(a,o)},c}function dj(a){return a=Ea(a),a.tag=3,a}function fj(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;a.payload=function(){return y(b)},a.callback=function(){uj(o,c,m)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){uj(o,c,m),typeof y!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function U8(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&ko(o,c,y,!0),c=ir.current,c!==null){switch(c.tag){case 31:case 13:return Cr===null?Ef():c.alternate===null&&St===0&&(St=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===Zd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Rv(a,m,y)),!1;case 22:return c.flags|=65536,m===Zd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Rv(a,m,y)),!1}throw Error(r(435,c.tag))}return Rv(a,m,y),Ef(),!1}if(Ve)return o=ir.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Ag&&(a=Error(r(422),{cause:m}),gc(Sr(a,c)))):(m!==Ag&&(o=Error(r(423),{cause:m}),gc(Sr(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Sr(m,c),y=uv(a.stateNode,m,y),Ug(a,y),St!==4&&(St=2)),!1;var b=Error(r(520),{cause:m});if(b=Sr(b,c),Rc===null?Rc=[b]:Rc.push(b),St!==4&&(St=2),o===null)return!0;m=Sr(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=uv(c.stateNode,m,a),Ug(c,a),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ka===null||!ka.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=dj(y),fj(y,a,c,m),Ug(c,y),!1}c=c.return}while(c!==null);return!1}var dv=Error(r(461)),Dt=!1;function fn(a,o,c,m){o.child=a===null?gE(o,null,c,m):ws(o,a.child,c,m)}function hj(a,o,c,m,y){c=c.render;var b=o.ref;if("ref"in m){var C={};for(var O in m)O!=="ref"&&(C[O]=m[O])}else C=m;return vs(o),m=Gg(a,o,c,C,b,y),O=Yg(),a!==null&&!Dt?(Kg(a,o,y),Ti(a,o,y)):(Ve&&O&&Ng(o),o.flags|=1,fn(a,o,m,y),o.child)}function mj(a,o,c,m,y){if(a===null){var b=c.type;return typeof b=="function"&&!Eg(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,pj(a,o,b,m,y)):(a=Gd(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!xv(a,y)){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:hc,c(C,m)&&a.ref===o.ref)return Ti(a,o,y)}return o.flags|=1,a=Si(b,m),a.ref=o.ref,a.return=o,o.child=a}function pj(a,o,c,m,y){if(a!==null){var b=a.memoizedProps;if(hc(b,m)&&a.ref===o.ref)if(Dt=!1,o.pendingProps=m=b,xv(a,y))(a.flags&131072)!==0&&(Dt=!0);else return o.lanes=a.lanes,Ti(a,o,y)}return fv(a,o,c,m,y)}function gj(a,o,c,m){var y=m.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~b}else m=0,o.child=null;return vj(a,o,b,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xd(o,b!==null?b.cachePool:null),b!==null?xE(o,b):Fg(),bE(o);else return m=o.lanes=536870912,vj(a,o,b!==null?b.baseLanes|c:c,c,m)}else b!==null?(Xd(o,b.cachePool),xE(o,b),Na(),o.memoizedState=null):(a!==null&&Xd(o,null),Fg(),Na());return fn(a,o,y,c),o.child}function Tc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function vj(a,o,c,m,y){var b=Ig();return b=b===null?null:{parent:Ot._currentValue,pool:b},o.memoizedState={baseLanes:c,cachePool:b},a!==null&&Xd(o,null),Fg(),bE(o),a!==null&&ko(a,o,m,!0),o.childLanes=y,null}function hf(a,o){return o=pf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function yj(a,o,c){return ws(o,a.child,null,c),a=hf(o,o.pendingProps),a.flags|=2,ar(o),o.memoizedState=null,a}function V8(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ve){if(m.mode==="hidden")return a=hf(o,m),o.lanes=536870912,Tc(null,a);if($g(o),(a=ut)?(a=OC(a,jr),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xa!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},c=tE(a),c.return=o,o.child=c,un=o,ut=null)):a=null,a===null)throw wa(o);return o.lanes=536870912,null}return hf(o,m)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if($g(o),y)if(o.flags&256)o.flags&=-257,o=yj(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Dt||ko(a,o,c,!1),y=(c&a.childLanes)!==0,Dt||y){if(m=nt,m!==null&&(C=l_(m,c),C!==0&&C!==b.retryLane))throw b.retryLane=C,hs(a,C),Un(m,a,C),dv;Ef(),o=yj(a,o,c)}else a=b.treeContext,ut=Nr(C.nextSibling),un=o,Ve=!0,ba=null,jr=!1,a!==null&&iE(o,a),o=hf(o,m),o.flags|=4096;return o}return a=Si(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function mf(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function fv(a,o,c,m,y){return vs(o),c=Gg(a,o,c,m,void 0,y),m=Yg(),a!==null&&!Dt?(Kg(a,o,y),Ti(a,o,y)):(Ve&&m&&Ng(o),o.flags|=1,fn(a,o,c,y),o.child)}function xj(a,o,c,m,y,b){return vs(o),o.updateQueue=null,c=SE(o,m,c,y),wE(a),m=Yg(),a!==null&&!Dt?(Kg(a,o,b),Ti(a,o,b)):(Ve&&m&&Ng(o),o.flags|=1,fn(a,o,c,b),o.child)}function bj(a,o,c,m,y){if(vs(o),o.stateNode===null){var b=No,C=c.contextType;typeof C=="object"&&C!==null&&(b=dn(C)),b=new c(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=cv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Bg(o),C=c.contextType,b.context=typeof C=="object"&&C!==null?dn(C):No,b.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(lv(o,c,C,m),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&cv.enqueueReplaceState(b,b.state,null),_c(o,m,b,y),Sc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var O=o.memoizedProps,L=_s(c,O);b.props=L;var q=b.context,ee=c.contextType;C=No,typeof ee=="object"&&ee!==null&&(C=dn(ee));var re=c.getDerivedStateFromProps;ee=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ee||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||q!==C)&&sj(o,b,m,C),_a=!1;var K=o.memoizedState;b.state=K,_c(o,m,b,y),Sc(),q=o.memoizedState,O||K!==q||_a?(typeof re=="function"&&(lv(o,c,re,m),q=o.memoizedState),(L=_a||aj(o,c,L,m,K,q,C))?(ee||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=q),b.props=m,b.state=q,b.context=C,m=L):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,zg(a,o),C=o.memoizedProps,ee=_s(c,C),b.props=ee,re=o.pendingProps,K=b.context,q=c.contextType,L=No,typeof q=="object"&&q!==null&&(L=dn(q)),O=c.getDerivedStateFromProps,(q=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==re||K!==L)&&sj(o,b,m,L),_a=!1,K=o.memoizedState,b.state=K,_c(o,m,b,y),Sc();var X=o.memoizedState;C!==re||K!==X||_a||a!==null&&a.dependencies!==null&&Kd(a.dependencies)?(typeof O=="function"&&(lv(o,c,O,m),X=o.memoizedState),(ee=_a||aj(o,c,ee,m,K,X,L)||a!==null&&a.dependencies!==null&&Kd(a.dependencies))?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,X,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,X,L)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=X),b.props=m,b.state=X,b.context=L,m=ee):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,mf(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=ws(o,a.child,null,y),o.child=ws(o,null,c,y)):fn(a,o,c,y),o.memoizedState=b.state,a=o.child):a=Ti(a,o,y),a}function wj(a,o,c,m){return ps(),o.flags|=256,fn(a,o,c,m),o.child}var hv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mv(a){return{baseLanes:a,cachePool:uE()}}function pv(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=or),a}function Sj(a,o,c){var m=o.pendingProps,y=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(jt.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ve){if(y?Ca(o):Na(),(a=ut)?(a=OC(a,jr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xa!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},c=tE(a),c.return=o,o.child=c,un=o,ut=null)):a=null,a===null)throw wa(o);return Qv(a)?o.lanes=32:o.lanes=536870912,null}var O=m.children;return m=m.fallback,y?(Na(),y=o.mode,O=pf({mode:"hidden",children:O},y),m=ms(m,y,c,null),O.return=o,m.return=o,O.sibling=m,o.child=O,m=o.child,m.memoizedState=mv(c),m.childLanes=pv(a,C,c),o.memoizedState=hv,Tc(null,m)):(Ca(o),gv(o,O))}var L=a.memoizedState;if(L!==null&&(O=L.dehydrated,O!==null)){if(b)o.flags&256?(Ca(o),o.flags&=-257,o=vv(a,o,c)):o.memoizedState!==null?(Na(),o.child=a.child,o.flags|=128,o=null):(Na(),O=m.fallback,y=o.mode,m=pf({mode:"visible",children:m.children},y),O=ms(O,y,c,null),O.flags|=2,m.return=o,O.return=o,m.sibling=O,o.child=m,ws(o,a.child,null,c),m=o.child,m.memoizedState=mv(c),m.childLanes=pv(a,C,c),o.memoizedState=hv,o=Tc(null,m));else if(Ca(o),Qv(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var q=C.dgst;C=q,m=Error(r(419)),m.stack="",m.digest=C,gc({value:m,source:null,stack:null}),o=vv(a,o,c)}else if(Dt||ko(a,o,c,!1),C=(c&a.childLanes)!==0,Dt||C){if(C=nt,C!==null&&(m=l_(C,c),m!==0&&m!==L.retryLane))throw L.retryLane=m,hs(a,m),Un(C,a,m),dv;Xv(O)||Ef(),o=vv(a,o,c)}else Xv(O)?(o.flags|=192,o.child=a.child,o=null):(a=L.treeContext,ut=Nr(O.nextSibling),un=o,Ve=!0,ba=null,jr=!1,a!==null&&iE(o,a),o=gv(o,m.children),o.flags|=4096);return o}return y?(Na(),O=m.fallback,y=o.mode,L=a.child,q=L.sibling,m=Si(L,{mode:"hidden",children:m.children}),m.subtreeFlags=L.subtreeFlags&65011712,q!==null?O=Si(q,O):(O=ms(O,y,c,null),O.flags|=2),O.return=o,m.return=o,m.sibling=O,o.child=m,Tc(null,m),m=o.child,O=a.child.memoizedState,O===null?O=mv(c):(y=O.cachePool,y!==null?(L=Ot._currentValue,y=y.parent!==L?{parent:L,pool:L}:y):y=uE(),O={baseLanes:O.baseLanes|c,cachePool:y}),m.memoizedState=O,m.childLanes=pv(a,C,c),o.memoizedState=hv,Tc(a.child,m)):(Ca(o),c=a.child,a=c.sibling,c=Si(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function gv(a,o){return o=pf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function pf(a,o){return a=rr(22,a,null,o),a.lanes=0,a}function vv(a,o,c){return ws(o,a.child,null,c),a=gv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function _j(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),Dg(a.return,o,c)}function yv(a,o,c,m,y,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:b}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=c,C.tailMode=y,C.treeForkCount=b)}function Ej(a,o,c){var m=o.pendingProps,y=m.revealOrder,b=m.tail;m=m.children;var C=jt.current,O=(C&2)!==0;if(O?(C=C&1|2,o.flags|=128):C&=1,ie(jt,C),fn(a,o,m,c),m=Ve?pc:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_j(a,c,o);else if(a.tag===19)_j(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&nf(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),yv(o,!1,y,c,b,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&nf(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}yv(o,!0,c,null,b,m);break;case"together":yv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ti(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Oa|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(ko(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Si(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Si(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function xv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Kd(a)))}function F8(a,o,c){switch(o.tag){case 3:ve(o,o.stateNode.containerInfo),Sa(o,Ot,a.memoizedState.cache),ps();break;case 27:case 5:Ee(o);break;case 4:ve(o,o.stateNode.containerInfo);break;case 10:Sa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,$g(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Ca(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Sj(a,o,c):(Ca(o),a=Ti(a,o,c),a!==null?a.sibling:null);Ca(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(ko(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return Ej(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(jt,jt.current),m)break;return null;case 22:return o.lanes=0,gj(a,o,c,o.pendingProps);case 24:Sa(o,Ot,a.memoizedState.cache)}return Ti(a,o,c)}function jj(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Dt=!0;else{if(!xv(a,c)&&(o.flags&128)===0)return Dt=!1,F8(a,o,c);Dt=(a.flags&131072)!==0}else Dt=!1,Ve&&(o.flags&1048576)!==0&&rE(o,pc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=xs(o.elementType),o.type=a,typeof a=="function")Eg(a)?(m=_s(a,m),o.tag=1,o=bj(null,o,a,m,c)):(o.tag=0,o=fv(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===P){o.tag=11,o=hj(null,o,a,m,c);break e}else if(y===I){o.tag=14,o=mj(null,o,a,m,c);break e}}throw o=de(a)||a,Error(r(306,o,""))}}return o;case 0:return fv(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=_s(m,o.pendingProps),bj(a,o,m,y,c);case 3:e:{if(ve(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;y=b.element,zg(a,o),_c(o,m,null,c);var C=o.memoizedState;if(m=C.cache,Sa(o,Ot,m),m!==b.cache&&Pg(o,[Ot],c,!0),Sc(),m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=wj(a,o,m,c);break e}else if(m!==y){y=Sr(Error(r(424)),o),gc(y),o=wj(a,o,m,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ut=Nr(a.firstChild),un=o,Ve=!0,ba=null,jr=!0,c=gE(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ps(),m===y){o=Ti(a,o,c);break e}fn(a,o,m,c)}o=o.child}return o;case 26:return mf(a,o),a===null?(c=IC(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ve||(c=o.type,a=o.pendingProps,m=kf(Ce.current).createElement(c),m[cn]=o,m[Mn]=a,hn(m,c,a),Yt(m),o.stateNode=m):o.memoizedState=IC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&Ve&&(m=o.stateNode=PC(o.type,o.pendingProps,Ce.current),un=o,jr=!0,y=ut,Ra(o.type)?(Zv=y,ut=Nr(m.firstChild)):ut=y),fn(a,o,o.pendingProps.children,c),mf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ve&&((y=m=ut)&&(m=yB(m,o.type,o.pendingProps,jr),m!==null?(o.stateNode=m,un=o,ut=Nr(m.firstChild),jr=!1,y=!0):y=!1),y||wa(o)),Ee(o),y=o.type,b=o.pendingProps,C=a!==null?a.memoizedProps:null,m=b.children,Yv(y,b)?m=null:C!==null&&Yv(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Gg(a,o,P8,null,null,c),Hc._currentValue=y),mf(a,o),fn(a,o,m,c),o.child;case 6:return a===null&&Ve&&((a=c=ut)&&(c=xB(c,o.pendingProps,jr),c!==null?(o.stateNode=c,un=o,ut=null,a=!0):a=!1),a||wa(o)),null;case 13:return Sj(a,o,c);case 4:return ve(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=ws(o,null,m,c):fn(a,o,m,c),o.child;case 11:return hj(a,o,o.type,o.pendingProps,c);case 7:return fn(a,o,o.pendingProps,c),o.child;case 8:return fn(a,o,o.pendingProps.children,c),o.child;case 12:return fn(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Sa(o,o.type,m.value),fn(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,vs(o),y=dn(y),m=m(y),o.flags|=1,fn(a,o,m,c),o.child;case 14:return mj(a,o,o.type,o.pendingProps,c);case 15:return pj(a,o,o.type,o.pendingProps,c);case 19:return Ej(a,o,c);case 31:return V8(a,o,c);case 22:return gj(a,o,c,o.pendingProps);case 24:return vs(o),m=dn(Ot),a===null?(y=Ig(),y===null&&(y=nt,b=Mg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),o.memoizedState={parent:m,cache:y},Bg(o),Sa(o,Ot,y)):((a.lanes&c)!==0&&(zg(a,o),_c(o,null,null,c),Sc()),y=a.memoizedState,b=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Sa(o,Ot,m)):(m=b.cache,Sa(o,Ot,m),m!==y.cache&&Pg(o,[Ot],c,!0))),fn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ai(a){a.flags|=4}function bv(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Zj())a.flags|=8192;else throw bs=Zd,Lg}else a.flags&=-16777217}function Cj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!VC(o))if(Zj())a.flags|=8192;else throw bs=Zd,Lg}function gf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?a_():536870912,a.lanes|=o,Ho|=o)}function Ac(a,o){if(!Ve)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function dt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function H8(a,o,c){var m=o.pendingProps;switch(Tg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(o),null;case 1:return dt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ji(Ot),W(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Oo(o)?Ai(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Og())),dt(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Ai(o),b!==null?(dt(o),Cj(o,b)):(dt(o),bv(o,y,null,m,c))):b?b!==a.memoizedState?(Ai(o),dt(o),Cj(o,b)):(dt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Ai(o),dt(o),bv(o,y,a,m,c)),null;case 27:if(De(o),c=Ce.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ai(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return dt(o),null}a=ue.current,Oo(o)?aE(o):(a=PC(y,m,c),o.stateNode=a,Ai(o))}return dt(o),null;case 5:if(De(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Ai(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return dt(o),null}if(b=ue.current,Oo(o))aE(o);else{var C=kf(Ce.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?C.createElement(y,{is:m.is}):C.createElement(y)}}b[cn]=o,b[Mn]=m;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=b;e:switch(hn(b,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ai(o)}}return dt(o),bv(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Ai(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ce.current,Oo(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=un,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[cn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||SC(a.nodeValue,c)),a||wa(o,!0)}else a=kf(a).createTextNode(m),a[cn]=o,o.stateNode=a}return dt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=Oo(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[cn]=o}else ps(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),a=!1}else c=Og(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ar(o),o):(ar(o),null);if((o.flags&128)!==0)throw Error(r(558))}return dt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Oo(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[cn]=o}else ps(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),y=!1}else y=Og(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ar(o),o):(ar(o),null)}return ar(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),gf(o,o.updateQueue),dt(o),null);case 4:return W(),a===null&&Fv(o.stateNode.containerInfo),dt(o),null;case 10:return ji(o.type),dt(o),null;case 19:if(G(jt),m=o.memoizedState,m===null)return dt(o),null;if(y=(o.flags&128)!==0,b=m.rendering,b===null)if(y)Ac(m,!1);else{if(St!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=nf(a),b!==null){for(o.flags|=128,Ac(m,!1),a=b.updateQueue,o.updateQueue=a,gf(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)eE(c,a),c=c.sibling;return ie(jt,jt.current&1|2),Ve&&_i(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&Jn()>wf&&(o.flags|=128,y=!0,Ac(m,!1),o.lanes=4194304)}else{if(!y)if(a=nf(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,gf(o,a),Ac(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Ve)return dt(o),null}else 2*Jn()-m.renderingStartTime>wf&&c!==536870912&&(o.flags|=128,y=!0,Ac(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Jn(),a.sibling=null,c=jt.current,ie(jt,y?c&1|2:c&1),Ve&&_i(o,m.treeForkCount),a):(dt(o),null);case 22:case 23:return ar(o),Hg(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(dt(o),o.subtreeFlags&6&&(o.flags|=8192)):dt(o),c=o.updateQueue,c!==null&&gf(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&G(ys),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ji(Ot),dt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function $8(a,o){switch(Tg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ji(Ot),W(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return De(o),null;case 31:if(o.memoizedState!==null){if(ar(o),o.alternate===null)throw Error(r(340));ps()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ar(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ps()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return G(jt),null;case 4:return W(),null;case 10:return ji(o.type),null;case 22:case 23:return ar(o),Hg(),a!==null&&G(ys),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ji(Ot),null;case 25:return null;default:return null}}function Nj(a,o){switch(Tg(o),o.tag){case 3:ji(Ot),W();break;case 26:case 27:case 5:De(o);break;case 4:W();break;case 31:o.memoizedState!==null&&ar(o);break;case 13:ar(o);break;case 19:G(jt);break;case 10:ji(o.type);break;case 22:case 23:ar(o),Hg(),a!==null&&G(ys);break;case 24:ji(Ot)}}function Oc(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var b=c.create,C=c.inst;m=b(),C.destroy=m}c=c.next}while(c!==y)}}catch(O){Qe(o,o.return,O)}}function Ta(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&a)===a){var C=m.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,y=o;var L=c,q=O;try{q()}catch(ee){Qe(y,L,ee)}}}m=m.next}while(m!==b)}}catch(ee){Qe(o,o.return,ee)}}function Tj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{yE(o,c)}catch(m){Qe(a,a.return,m)}}}function Aj(a,o,c){c.props=_s(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Qe(a,o,m)}}function kc(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){Qe(a,o,y)}}function ri(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Qe(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Qe(a,o,y)}else c.current=null}function Oj(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Qe(a,a.return,y)}}function wv(a,o,c){try{var m=a.stateNode;fB(m,a.type,c,o),m[Mn]=o}catch(y){Qe(a,a.return,y)}}function kj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ra(a.type)||a.tag===4}function Sv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||kj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ra(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _v(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=bi));else if(m!==4&&(m===27&&Ra(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(_v(a,o,c),a=a.sibling;a!==null;)_v(a,o,c),a=a.sibling}function vf(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&Ra(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(vf(a,o,c),a=a.sibling;a!==null;)vf(a,o,c),a=a.sibling}function Dj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);hn(o,m,c),o[cn]=a,o[Mn]=c}catch(b){Qe(a,a.return,b)}}var Oi=!1,Pt=!1,Ev=!1,Pj=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function q8(a,o){if(a=a.containerInfo,qv=Bf,a=q_(a),vg(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,O=-1,L=-1,q=0,ee=0,re=a,K=null;t:for(;;){for(var X;re!==c||y!==0&&re.nodeType!==3||(O=C+y),re!==b||m!==0&&re.nodeType!==3||(L=C+m),re.nodeType===3&&(C+=re.nodeValue.length),(X=re.firstChild)!==null;)K=re,re=X;for(;;){if(re===a)break t;if(K===c&&++q===y&&(O=C),K===b&&++ee===m&&(L=C),(X=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=X}c=O===-1||L===-1?null:{start:O,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(Gv={focusedElem:a,selectionRange:c},Bf=!1,Kt=o;Kt!==null;)if(o=Kt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Kt=a;else for(;Kt!==null;){switch(o=Kt,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=o,y=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var he=_s(c.type,y);a=m.getSnapshotBeforeUpdate(he,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(_e){Qe(c,c.return,_e)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)Wv(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Kt=a;break}Kt=o.return}}function Mj(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Di(a,c),m&4&&Oc(5,c);break;case 1:if(Di(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Qe(c,c.return,C)}else{var y=_s(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Qe(c,c.return,C)}}m&64&&Tj(c),m&512&&kc(c,c.return);break;case 3:if(Di(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{yE(a,o)}catch(C){Qe(c,c.return,C)}}break;case 27:o===null&&m&4&&Dj(c);case 26:case 5:Di(a,c),o===null&&m&4&&Oj(c),m&512&&kc(c,c.return);break;case 12:Di(a,c);break;case 31:Di(a,c),m&4&&Lj(a,c);break;case 13:Di(a,c),m&4&&Bj(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=eB.bind(null,c),bB(a,c))));break;case 22:if(m=c.memoizedState!==null||Oi,!m){o=o!==null&&o.memoizedState!==null||Pt,y=Oi;var b=Pt;Oi=m,(Pt=o)&&!b?Pi(a,c,(c.subtreeFlags&8772)!==0):Di(a,c),Oi=y,Pt=b}break;case 30:break;default:Di(a,c)}}function Rj(a){var o=a.alternate;o!==null&&(a.alternate=null,Rj(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&eg(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gt=null,In=!1;function ki(a,o,c){for(c=c.child;c!==null;)Ij(a,o,c),c=c.sibling}function Ij(a,o,c){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(tc,c)}catch{}switch(c.tag){case 26:Pt||ri(c,o),ki(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Pt||ri(c,o);var m=gt,y=In;Ra(c.type)&&(gt=c.stateNode,In=!1),ki(a,o,c),Uc(c.stateNode),gt=m,In=y;break;case 5:Pt||ri(c,o);case 6:if(m=gt,y=In,gt=null,ki(a,o,c),gt=m,In=y,gt!==null)if(In)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(c.stateNode)}catch(b){Qe(c,o,b)}else try{gt.removeChild(c.stateNode)}catch(b){Qe(c,o,b)}break;case 18:gt!==null&&(In?(a=gt,TC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Qo(a)):TC(gt,c.stateNode));break;case 4:m=gt,y=In,gt=c.stateNode.containerInfo,In=!0,ki(a,o,c),gt=m,In=y;break;case 0:case 11:case 14:case 15:Ta(2,c,o),Pt||Ta(4,c,o),ki(a,o,c);break;case 1:Pt||(ri(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Aj(c,o,m)),ki(a,o,c);break;case 21:ki(a,o,c);break;case 22:Pt=(m=Pt)||c.memoizedState!==null,ki(a,o,c),Pt=m;break;default:ki(a,o,c)}}function Lj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Qo(a)}catch(c){Qe(o,o.return,c)}}}function Bj(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Qo(a)}catch(c){Qe(o,o.return,c)}}function G8(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Pj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Pj),o;default:throw Error(r(435,a.tag))}}function yf(a,o){var c=G8(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=tB.bind(null,a,m);m.then(y,y)}})}function Ln(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],b=a,C=o,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(Ra(O.type)){gt=O.stateNode,In=!1;break e}break;case 5:gt=O.stateNode,In=!1;break e;case 3:case 4:gt=O.stateNode.containerInfo,In=!0;break e}O=O.return}if(gt===null)throw Error(r(160));Ij(b,C,y),gt=null,In=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)zj(o,a),o=o.sibling}var Hr=null;function zj(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ln(o,a),Bn(a),m&4&&(Ta(3,a,a.return),Oc(3,a),Ta(5,a,a.return));break;case 1:Ln(o,a),Bn(a),m&512&&(Pt||c===null||ri(c,c.return)),m&64&&Oi&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Hr;if(Ln(o,a),Bn(a),m&512&&(Pt||c===null||ri(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ic]||b[cn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),hn(b,m,c),b[cn]=a,Yt(b),m=b;break e;case"link":var C=zC("link","href",y).get(m+(c.href||""));if(C){for(var O=0;O<C.length;O++)if(b=C[O],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(O,1);break t}}b=y.createElement(m),hn(b,m,c),y.head.appendChild(b);break;case"meta":if(C=zC("meta","content",y).get(m+(c.content||""))){for(O=0;O<C.length;O++)if(b=C[O],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(O,1);break t}}b=y.createElement(m),hn(b,m,c),y.head.appendChild(b);break;default:throw Error(r(468,m))}b[cn]=a,Yt(b),m=b}a.stateNode=m}else UC(y,a.type,a.stateNode);else a.stateNode=BC(y,m,a.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?UC(y,a.type,a.stateNode):BC(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&wv(a,a.memoizedProps,c.memoizedProps)}break;case 27:Ln(o,a),Bn(a),m&512&&(Pt||c===null||ri(c,c.return)),c!==null&&m&4&&wv(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Ln(o,a),Bn(a),m&512&&(Pt||c===null||ri(c,c.return)),a.flags&32){y=a.stateNode;try{bo(y,"")}catch(he){Qe(a,a.return,he)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,wv(a,y,c!==null?c.memoizedProps:y)),m&1024&&(Ev=!0);break;case 6:if(Ln(o,a),Bn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(he){Qe(a,a.return,he)}}break;case 3:if(Mf=null,y=Hr,Hr=Df(o.containerInfo),Ln(o,a),Hr=y,Bn(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Qo(o.containerInfo)}catch(he){Qe(a,a.return,he)}Ev&&(Ev=!1,Uj(a));break;case 4:m=Hr,Hr=Df(a.stateNode.containerInfo),Ln(o,a),Bn(a),Hr=m;break;case 12:Ln(o,a),Bn(a);break;case 31:Ln(o,a),Bn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 13:Ln(o,a),Bn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(bf=Jn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 22:y=a.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,q=Oi,ee=Pt;if(Oi=q||y,Pt=ee||L,Ln(o,a),Pt=ee,Oi=q,Bn(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||L||Oi||Pt||Es(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){L=c=o;try{if(b=L.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=L.stateNode;var re=L.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;O.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Qe(L,L.return,he)}}}else if(o.tag===6){if(c===null){L=o;try{L.stateNode.nodeValue=y?"":L.memoizedProps}catch(he){Qe(L,L.return,he)}}}else if(o.tag===18){if(c===null){L=o;try{var X=L.stateNode;y?AC(X,!0):AC(L.stateNode,!1)}catch(he){Qe(L,L.return,he)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,yf(a,c))));break;case 19:Ln(o,a),Bn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,yf(a,m)));break;case 30:break;case 21:break;default:Ln(o,a),Bn(a)}}function Bn(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(kj(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=Sv(a);vf(a,b,y);break;case 5:var C=c.stateNode;c.flags&32&&(bo(C,""),c.flags&=-33);var O=Sv(a);vf(a,O,C);break;case 3:case 4:var L=c.stateNode.containerInfo,q=Sv(a);_v(a,q,L);break;default:throw Error(r(161))}}catch(ee){Qe(a,a.return,ee)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Uj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Uj(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Di(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Mj(a,o.alternate,o),o=o.sibling}function Es(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ta(4,o,o.return),Es(o);break;case 1:ri(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Aj(o,o.return,c),Es(o);break;case 27:Uc(o.stateNode);case 26:case 5:ri(o,o.return),Es(o);break;case 22:o.memoizedState===null&&Es(o);break;case 30:Es(o);break;default:Es(o)}a=a.sibling}}function Pi(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:Pi(y,b,c),Oc(4,b);break;case 1:if(Pi(y,b,c),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(q){Qe(m,m.return,q)}if(m=b,y=m.updateQueue,y!==null){var O=m.stateNode;try{var L=y.shared.hiddenCallbacks;if(L!==null)for(y.shared.hiddenCallbacks=null,y=0;y<L.length;y++)vE(L[y],O)}catch(q){Qe(m,m.return,q)}}c&&C&64&&Tj(b),kc(b,b.return);break;case 27:Dj(b);case 26:case 5:Pi(y,b,c),c&&m===null&&C&4&&Oj(b),kc(b,b.return);break;case 12:Pi(y,b,c);break;case 31:Pi(y,b,c),c&&C&4&&Lj(y,b);break;case 13:Pi(y,b,c),c&&C&4&&Bj(y,b);break;case 22:b.memoizedState===null&&Pi(y,b,c),kc(b,b.return);break;case 30:break;default:Pi(y,b,c)}o=o.sibling}}function jv(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&vc(c))}function Cv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a))}function $r(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Vj(a,o,c,m),o=o.sibling}function Vj(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:$r(a,o,c,m),y&2048&&Oc(9,o);break;case 1:$r(a,o,c,m);break;case 3:$r(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&vc(a)));break;case 12:if(y&2048){$r(a,o,c,m),a=o.stateNode;try{var b=o.memoizedProps,C=b.id,O=b.onPostCommit;typeof O=="function"&&O(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(L){Qe(o,o.return,L)}}else $r(a,o,c,m);break;case 31:$r(a,o,c,m);break;case 13:$r(a,o,c,m);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?$r(a,o,c,m):Dc(a,o):b._visibility&2?$r(a,o,c,m):(b._visibility|=2,Uo(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&jv(C,o);break;case 24:$r(a,o,c,m),y&2048&&Cv(o.alternate,o);break;default:$r(a,o,c,m)}}function Uo(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,C=o,O=c,L=m,q=C.flags;switch(C.tag){case 0:case 11:case 15:Uo(b,C,O,L,y),Oc(8,C);break;case 23:break;case 22:var ee=C.stateNode;C.memoizedState!==null?ee._visibility&2?Uo(b,C,O,L,y):Dc(b,C):(ee._visibility|=2,Uo(b,C,O,L,y)),y&&q&2048&&jv(C.alternate,C);break;case 24:Uo(b,C,O,L,y),y&&q&2048&&Cv(C.alternate,C);break;default:Uo(b,C,O,L,y)}o=o.sibling}}function Dc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:Dc(c,m),y&2048&&jv(m.alternate,m);break;case 24:Dc(c,m),y&2048&&Cv(m.alternate,m);break;default:Dc(c,m)}o=o.sibling}}var Pc=8192;function Vo(a,o,c){if(a.subtreeFlags&Pc)for(a=a.child;a!==null;)Fj(a,o,c),a=a.sibling}function Fj(a,o,c){switch(a.tag){case 26:Vo(a,o,c),a.flags&Pc&&a.memoizedState!==null&&DB(c,Hr,a.memoizedState,a.memoizedProps);break;case 5:Vo(a,o,c);break;case 3:case 4:var m=Hr;Hr=Df(a.stateNode.containerInfo),Vo(a,o,c),Hr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Pc,Pc=16777216,Vo(a,o,c),Pc=m):Vo(a,o,c));break;default:Vo(a,o,c)}}function Hj(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Mc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Kt=m,qj(m,a)}Hj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$j(a),a=a.sibling}function $j(a){switch(a.tag){case 0:case 11:case 15:Mc(a),a.flags&2048&&Ta(9,a,a.return);break;case 3:Mc(a);break;case 12:Mc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,xf(a)):Mc(a);break;default:Mc(a)}}function xf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Kt=m,qj(m,a)}Hj(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ta(8,o,o.return),xf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,xf(o));break;default:xf(o)}a=a.sibling}}function qj(a,o){for(;Kt!==null;){var c=Kt;switch(c.tag){case 0:case 11:case 15:Ta(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:vc(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Kt=m;else e:for(c=a;Kt!==null;){m=Kt;var y=m.sibling,b=m.return;if(Rj(m),m===c){Kt=null;break e}if(y!==null){y.return=b,Kt=y;break e}Kt=b}}}var Y8={getCacheForType:function(a){var o=dn(Ot),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return dn(Ot).controller.signal}},K8=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Ie=null,ze=0,Xe=0,sr=null,Aa=!1,Fo=!1,Nv=!1,Mi=0,St=0,Oa=0,js=0,Tv=0,or=0,Ho=0,Rc=null,zn=null,Av=!1,bf=0,Gj=0,wf=1/0,Sf=null,ka=null,Lt=0,Da=null,$o=null,Ri=0,Ov=0,kv=null,Yj=null,Ic=0,Dv=null;function lr(){return(Ye&2)!==0&&ze!==0?ze&-ze:M.T!==null?Bv():c_()}function Kj(){if(or===0)if((ze&536870912)===0||Ve){var a=Ad;Ad<<=1,(Ad&3932160)===0&&(Ad=262144),or=a}else or=536870912;return a=ir.current,a!==null&&(a.flags|=32),or}function Un(a,o,c){(a===nt&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)&&(qo(a,0),Pa(a,ze,or,!1)),rc(a,c),((Ye&2)===0||a!==nt)&&(a===nt&&((Ye&2)===0&&(js|=c),St===4&&Pa(a,ze,or,!1)),ii(a))}function Wj(a,o,c){if((Ye&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||nc(a,o),y=m?Q8(a,o):Mv(a,o,!0),b=m;do{if(y===0){Fo&&!m&&Pa(a,o,0,!1);break}else{if(c=a.current.alternate,b&&!W8(c)){y=Mv(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var O=a;y=Rc;var L=O.current.memoizedState.isDehydrated;if(L&&(qo(O,C).flags|=256),C=Mv(O,C,!1),C!==2){if(Nv&&!L){O.errorRecoveryDisabledLanes|=b,js|=b,y=4;break e}b=zn,zn=y,b!==null&&(zn===null?zn=b:zn.push.apply(zn,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){qo(a,0),Pa(a,o,0,!0);break}e:{switch(m=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Pa(m,o,or,!Aa);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=bf+300-Jn(),10<y)){if(Pa(m,o,or,!Aa),kd(m,0,!0)!==0)break e;Ri=o,m.timeoutHandle=CC(Xj.bind(null,m,c,zn,Sf,Av,o,or,js,Ho,Aa,b,"Throttled",-0,0),y);break e}Xj(m,c,zn,Sf,Av,o,or,js,Ho,Aa,b,null,-0,0)}}break}while(!0);ii(a)}function Xj(a,o,c,m,y,b,C,O,L,q,ee,re,K,X){if(a.timeoutHandle=-1,re=o.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},Fj(o,b,re);var he=(b&62914560)===b?bf-Jn():(b&4194048)===b?Gj-Jn():0;if(he=PB(re,he),he!==null){Ri=b,a.cancelPendingCommit=he(iC.bind(null,a,o,b,c,m,y,C,O,L,ee,re,null,K,X)),Pa(a,b,C,!q);return}}iC(a,o,b,c,m,y,C,O,L)}function W8(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],b=y.getSnapshot;y=y.value;try{if(!nr(b(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pa(a,o,c,m){o&=~Tv,o&=~js,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var b=31-tr(y),C=1<<b;m[b]=-1,y&=~C}c!==0&&s_(a,c,o)}function _f(){return(Ye&6)===0?(Lc(0),!1):!0}function Pv(){if(Ie!==null){if(Xe===0)var a=Ie.return;else a=Ie,Ei=gs=null,Wg(a),Ro=null,xc=0,a=Ie;for(;a!==null;)Nj(a.alternate,a),a=a.return;Ie=null}}function qo(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,pB(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Ri=0,Pv(),nt=a,Ie=c=Si(a.current,null),ze=o,Xe=0,sr=null,Aa=!1,Fo=nc(a,o),Nv=!1,Ho=or=Tv=js=Oa=St=0,zn=Rc=null,Av=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-tr(m),b=1<<y;o|=a[y],m&=~b}return Mi=o,Hd(),c}function Qj(a,o){Oe=null,M.H=Nc,o===Mo||o===Qd?(o=hE(),Xe=3):o===Lg?(o=hE(),Xe=4):Xe=o===dv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,sr=o,Ie===null&&(St=1,ff(a,Sr(o,a.current)))}function Zj(){var a=ir.current;return a===null?!0:(ze&4194048)===ze?Cr===null:(ze&62914560)===ze||(ze&536870912)!==0?a===Cr:!1}function Jj(){var a=M.H;return M.H=Nc,a===null?Nc:a}function eC(){var a=M.A;return M.A=Y8,a}function Ef(){St=4,Aa||(ze&4194048)!==ze&&ir.current!==null||(Fo=!0),(Oa&134217727)===0&&(js&134217727)===0||nt===null||Pa(nt,ze,or,!1)}function Mv(a,o,c){var m=Ye;Ye|=2;var y=Jj(),b=eC();(nt!==a||ze!==o)&&(Sf=null,qo(a,o)),o=!1;var C=St;e:do try{if(Xe!==0&&Ie!==null){var O=Ie,L=sr;switch(Xe){case 8:Pv(),C=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(o=!0);var q=Xe;if(Xe=0,sr=null,Go(a,O,L,q),c&&Fo){C=0;break e}break;default:q=Xe,Xe=0,sr=null,Go(a,O,L,q)}}X8(),C=St;break}catch(ee){Qj(a,ee)}while(!0);return o&&a.shellSuspendCounter++,Ei=gs=null,Ye=m,M.H=y,M.A=b,Ie===null&&(nt=null,ze=0,Hd()),C}function X8(){for(;Ie!==null;)tC(Ie)}function Q8(a,o){var c=Ye;Ye|=2;var m=Jj(),y=eC();nt!==a||ze!==o?(Sf=null,wf=Jn()+500,qo(a,o)):Fo=nc(a,o);e:do try{if(Xe!==0&&Ie!==null){o=Ie;var b=sr;t:switch(Xe){case 1:Xe=0,sr=null,Go(a,o,b,1);break;case 2:case 9:if(dE(b)){Xe=0,sr=null,nC(o);break}o=function(){Xe!==2&&Xe!==9||nt!==a||(Xe=7),ii(a)},b.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:dE(b)?(Xe=0,sr=null,nC(o)):(Xe=0,sr=null,Go(a,o,b,7));break;case 5:var C=null;switch(Ie.tag){case 26:C=Ie.memoizedState;case 5:case 27:var O=Ie;if(C?VC(C):O.stateNode.complete){Xe=0,sr=null;var L=O.sibling;if(L!==null)Ie=L;else{var q=O.return;q!==null?(Ie=q,jf(q)):Ie=null}break t}}Xe=0,sr=null,Go(a,o,b,5);break;case 6:Xe=0,sr=null,Go(a,o,b,6);break;case 8:Pv(),St=6;break e;default:throw Error(r(462))}}Z8();break}catch(ee){Qj(a,ee)}while(!0);return Ei=gs=null,M.H=m,M.A=y,Ye=c,Ie!==null?0:(nt=null,ze=0,Hd(),St)}function Z8(){for(;Ie!==null&&!w6();)tC(Ie)}function tC(a){var o=jj(a.alternate,a,Mi);a.memoizedProps=a.pendingProps,o===null?jf(a):Ie=o}function nC(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=xj(c,o,o.pendingProps,o.type,void 0,ze);break;case 11:o=xj(c,o,o.pendingProps,o.type.render,o.ref,ze);break;case 5:Wg(o);default:Nj(c,o),o=Ie=eE(o,Mi),o=jj(c,o,Mi)}a.memoizedProps=a.pendingProps,o===null?jf(a):Ie=o}function Go(a,o,c,m){Ei=gs=null,Wg(o),Ro=null,xc=0;var y=o.return;try{if(U8(a,y,o,c,ze)){St=1,ff(a,Sr(c,a.current)),Ie=null;return}}catch(b){if(y!==null)throw Ie=y,b;St=1,ff(a,Sr(c,a.current)),Ie=null;return}o.flags&32768?(Ve||m===1?a=!0:Fo||(ze&536870912)!==0?a=!1:(Aa=a=!0,(m===2||m===9||m===3||m===6)&&(m=ir.current,m!==null&&m.tag===13&&(m.flags|=16384))),rC(o,a)):jf(o)}function jf(a){var o=a;do{if((o.flags&32768)!==0){rC(o,Aa);return}a=o.return;var c=H8(o.alternate,o,Mi);if(c!==null){Ie=c;return}if(o=o.sibling,o!==null){Ie=o;return}Ie=o=a}while(o!==null);St===0&&(St=5)}function rC(a,o){do{var c=$8(a.alternate,a);if(c!==null){c.flags&=32767,Ie=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Ie=a;return}Ie=a=c}while(a!==null);St=6,Ie=null}function iC(a,o,c,m,y,b,C,O,L){a.cancelPendingCommit=null;do Cf();while(Lt!==0);if((Ye&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Sg,k6(a,c,b,C,O,L),a===nt&&(Ie=nt=null,ze=0),$o=o,Da=a,Ri=c,Ov=b,kv=y,Yj=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nB(Nd,function(){return cC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=M.T,M.T=null,y=k.p,k.p=2,C=Ye,Ye|=4;try{q8(a,o,c)}finally{Ye=C,k.p=y,M.T=m}}Lt=1,aC(),sC(),oC()}}function aC(){if(Lt===1){Lt=0;var a=Da,o=$o,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=M.T,M.T=null;var m=k.p;k.p=2;var y=Ye;Ye|=4;try{zj(o,a);var b=Gv,C=q_(a.containerInfo),O=b.focusedElem,L=b.selectionRange;if(C!==O&&O&&O.ownerDocument&&$_(O.ownerDocument.documentElement,O)){if(L!==null&&vg(O)){var q=L.start,ee=L.end;if(ee===void 0&&(ee=q),"selectionStart"in O)O.selectionStart=q,O.selectionEnd=Math.min(ee,O.value.length);else{var re=O.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var X=K.getSelection(),he=O.textContent.length,_e=Math.min(L.start,he),tt=L.end===void 0?_e:Math.min(L.end,he);!X.extend&&_e>tt&&(C=tt,tt=_e,_e=C);var V=H_(O,_e),z=H_(O,tt);if(V&&z&&(X.rangeCount!==1||X.anchorNode!==V.node||X.anchorOffset!==V.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var H=re.createRange();H.setStart(V.node,V.offset),X.removeAllRanges(),_e>tt?(X.addRange(H),X.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),X.addRange(H))}}}}for(re=[],X=O;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<re.length;O++){var ne=re[O];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Bf=!!qv,Gv=qv=null}finally{Ye=y,k.p=m,M.T=c}}a.current=o,Lt=2}}function sC(){if(Lt===2){Lt=0;var a=Da,o=$o,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=M.T,M.T=null;var m=k.p;k.p=2;var y=Ye;Ye|=4;try{Mj(a,o.alternate,o)}finally{Ye=y,k.p=m,M.T=c}}Lt=3}}function oC(){if(Lt===4||Lt===3){Lt=0,S6();var a=Da,o=$o,c=Ri,m=Yj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Lt=5:(Lt=0,$o=Da=null,lC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ka=null),Zp(c),o=o.stateNode,er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(tc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=M.T,y=k.p,k.p=2,M.T=null;try{for(var b=a.onRecoverableError,C=0;C<m.length;C++){var O=m[C];b(O.value,{componentStack:O.stack})}}finally{M.T=o,k.p=y}}(Ri&3)!==0&&Cf(),ii(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===Dv?Ic++:(Ic=0,Dv=a):Ic=0,Lc(0)}}function lC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,vc(o)))}function Cf(){return aC(),sC(),oC(),cC()}function cC(){if(Lt!==5)return!1;var a=Da,o=Ov;Ov=0;var c=Zp(Ri),m=M.T,y=k.p;try{k.p=32>c?32:c,M.T=null,c=kv,kv=null;var b=Da,C=Ri;if(Lt=0,$o=Da=null,Ri=0,(Ye&6)!==0)throw Error(r(331));var O=Ye;if(Ye|=4,$j(b.current),Vj(b,b.current,C,c),Ye=O,Lc(0,!1),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(tc,b)}catch{}return!0}finally{k.p=y,M.T=m,lC(a,o)}}function uC(a,o,c){o=Sr(c,o),o=uv(a.stateNode,o,2),a=ja(a,o,2),a!==null&&(rc(a,2),ii(a))}function Qe(a,o,c){if(a.tag===3)uC(a,a,c);else for(;o!==null;){if(o.tag===3){uC(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ka===null||!ka.has(m))){a=Sr(c,a),c=dj(2),m=ja(o,c,2),m!==null&&(fj(c,m,o,a),rc(m,2),ii(m));break}}o=o.return}}function Rv(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new K8;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(Nv=!0,y.add(c),a=J8.bind(null,a,o,c),o.then(a,a))}function J8(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,nt===a&&(ze&c)===c&&(St===4||St===3&&(ze&62914560)===ze&&300>Jn()-bf?(Ye&2)===0&&qo(a,0):Tv|=c,Ho===ze&&(Ho=0)),ii(a)}function dC(a,o){o===0&&(o=a_()),a=hs(a,o),a!==null&&(rc(a,o),ii(a))}function eB(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),dC(a,c)}function tB(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),dC(a,c)}function nB(a,o){return Kp(a,o)}var Nf=null,Yo=null,Iv=!1,Tf=!1,Lv=!1,Ma=0;function ii(a){a!==Yo&&a.next===null&&(Yo===null?Nf=Yo=a:Yo=Yo.next=a),Tf=!0,Iv||(Iv=!0,iB())}function Lc(a,o){if(!Lv&&Tf){Lv=!0;do for(var c=!1,m=Nf;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var C=m.suspendedLanes,O=m.pingedLanes;b=(1<<31-tr(42|a)+1)-1,b&=y&~(C&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,pC(m,b))}else b=ze,b=kd(m,m===nt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||nc(m,b)||(c=!0,pC(m,b));m=m.next}while(c);Lv=!1}}function rB(){fC()}function fC(){Tf=Iv=!1;var a=0;Ma!==0&&mB()&&(a=Ma);for(var o=Jn(),c=null,m=Nf;m!==null;){var y=m.next,b=hC(m,o);b===0?(m.next=null,c===null?Nf=y:c.next=y,y===null&&(Yo=c)):(c=m,(a!==0||(b&3)!==0)&&(Tf=!0)),m=y}Lt!==0&&Lt!==5||Lc(a),Ma!==0&&(Ma=0)}function hC(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-tr(b),O=1<<C,L=y[C];L===-1?((O&c)===0||(O&m)!==0)&&(y[C]=O6(O,o)):L<=o&&(a.expiredLanes|=O),b&=~O}if(o=nt,c=ze,c=kd(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Wp(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||nc(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&Wp(m),Zp(c)){case 2:case 8:c=r_;break;case 32:c=Nd;break;case 268435456:c=i_;break;default:c=Nd}return m=mC.bind(null,a),c=Kp(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&Wp(m),a.callbackPriority=2,a.callbackNode=null,2}function mC(a,o){if(Lt!==0&&Lt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Cf()&&a.callbackNode!==c)return null;var m=ze;return m=kd(a,a===nt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Wj(a,m,o),hC(a,Jn()),a.callbackNode!=null&&a.callbackNode===c?mC.bind(null,a):null)}function pC(a,o){if(Cf())return null;Wj(a,o,!0)}function iB(){gB(function(){(Ye&6)!==0?Kp(n_,rB):fC()})}function Bv(){if(Ma===0){var a=Do;a===0&&(a=Td,Td<<=1,(Td&261888)===0&&(Td=256)),Ma=a}return Ma}function gC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Rd(""+a)}function vC(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function aB(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var b=gC((y[Mn]||null).action),C=m.submitter;C&&(o=(o=C[Mn]||null)?gC(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var O=new zd("action","action",null,m,y);a.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ma!==0){var L=C?vC(y,C):new FormData(y);iv(c,{pending:!0,data:L,method:y.method,action:b},null,L)}}else typeof b=="function"&&(O.preventDefault(),L=C?vC(y,C):new FormData(y),iv(c,{pending:!0,data:L,method:y.method,action:b},b,L))},currentTarget:y}]})}}for(var zv=0;zv<wg.length;zv++){var Uv=wg[zv],sB=Uv.toLowerCase(),oB=Uv[0].toUpperCase()+Uv.slice(1);Fr(sB,"on"+oB)}Fr(K_,"onAnimationEnd"),Fr(W_,"onAnimationIteration"),Fr(X_,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(_8,"onTransitionRun"),Fr(E8,"onTransitionStart"),Fr(j8,"onTransitionCancel"),Fr(Q_,"onTransitionEnd"),yo("onMouseEnter",["mouseout","mouseover"]),yo("onMouseLeave",["mouseout","mouseover"]),yo("onPointerEnter",["pointerout","pointerover"]),yo("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function yC(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var C=m.length-1;0<=C;C--){var O=m[C],L=O.instance,q=O.currentTarget;if(O=O.listener,L!==b&&y.isPropagationStopped())break e;b=O,y.currentTarget=q;try{b(y)}catch(ee){Fd(ee)}y.currentTarget=null,b=L}else for(C=0;C<m.length;C++){if(O=m[C],L=O.instance,q=O.currentTarget,O=O.listener,L!==b&&y.isPropagationStopped())break e;b=O,y.currentTarget=q;try{b(y)}catch(ee){Fd(ee)}y.currentTarget=null,b=L}}}}function Le(a,o){var c=o[Jp];c===void 0&&(c=o[Jp]=new Set);var m=a+"__bubble";c.has(m)||(xC(o,a,2,!1),c.add(m))}function Vv(a,o,c){var m=0;o&&(m|=4),xC(c,a,m,o)}var Af="_reactListening"+Math.random().toString(36).slice(2);function Fv(a){if(!a[Af]){a[Af]=!0,f_.forEach(function(c){c!=="selectionchange"&&(lB.has(c)||Vv(c,!1,a),Vv(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Af]||(o[Af]=!0,Vv("selectionchange",!1,o))}}function xC(a,o,c,m){switch(KC(o)){case 2:var y=IB;break;case 8:y=LB;break;default:y=r0}c=y.bind(null,o,c,a),y=void 0,!lg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function Hv(a,o,c,m,y){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===y)break;if(C===4)for(C=m.return;C!==null;){var L=C.tag;if((L===3||L===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;O!==null;){if(C=po(O),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){m=b=C;continue e}O=O.parentNode}}m=m.return}E_(function(){var q=b,ee=sg(c),re=[];e:{var K=Z_.get(a);if(K!==void 0){var X=zd,he=a;switch(a){case"keypress":if(Ld(c)===0)break e;case"keydown":case"keyup":X=t8;break;case"focusin":he="focus",X=fg;break;case"focusout":he="blur",X=fg;break;case"beforeblur":case"afterblur":X=fg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=N_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=H6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=i8;break;case K_:case W_:case X_:X=G6;break;case Q_:X=s8;break;case"scroll":case"scrollend":X=V6;break;case"wheel":X=l8;break;case"copy":case"cut":case"paste":X=K6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=A_;break;case"toggle":case"beforetoggle":X=u8}var _e=(o&4)!==0,tt=!_e&&(a==="scroll"||a==="scrollend"),V=_e?K!==null?K+"Capture":null:K;_e=[];for(var z=q,H;z!==null;){var ne=z;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||V===null||(ne=sc(z,V),ne!=null&&_e.push(zc(z,ne,H))),tt)break;z=z.return}0<_e.length&&(K=new X(K,he,null,c,ee),re.push({event:K,listeners:_e}))}}if((o&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",K&&c!==ag&&(he=c.relatedTarget||c.fromElement)&&(po(he)||he[mo]))break e;if((X||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,X?(he=c.relatedTarget||c.toElement,X=q,he=he?po(he):null,he!==null&&(tt=s(he),_e=he.tag,he!==tt||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(X=null,he=q),X!==he)){if(_e=N_,ne="onMouseLeave",V="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(_e=A_,ne="onPointerLeave",V="onPointerEnter",z="pointer"),tt=X==null?K:ac(X),H=he==null?K:ac(he),K=new _e(ne,z+"leave",X,c,ee),K.target=tt,K.relatedTarget=H,ne=null,po(ee)===q&&(_e=new _e(V,z+"enter",he,c,ee),_e.target=H,_e.relatedTarget=tt,ne=_e),tt=ne,X&&he)t:{for(_e=cB,V=X,z=he,H=0,ne=V;ne;ne=_e(ne))H++;ne=0;for(var xe=z;xe;xe=_e(xe))ne++;for(;0<H-ne;)V=_e(V),H--;for(;0<ne-H;)z=_e(z),ne--;for(;H--;){if(V===z||z!==null&&V===z.alternate){_e=V;break t}V=_e(V),z=_e(z)}_e=null}else _e=null;X!==null&&bC(re,K,X,_e,!1),he!==null&&tt!==null&&bC(re,tt,he,_e,!0)}}e:{if(K=q?ac(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var He=L_;else if(R_(K))if(B_)He=b8;else{He=y8;var pe=v8}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&ig(q.elementType)&&(He=L_):He=x8;if(He&&(He=He(a,q))){I_(re,He,c,ee);break e}pe&&pe(a,K,q),a==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&rg(K,"number",K.value)}switch(pe=q?ac(q):window,a){case"focusin":(R_(pe)||pe.contentEditable==="true")&&(Eo=pe,yg=q,mc=null);break;case"focusout":mc=yg=Eo=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,G_(re,c,ee);break;case"selectionchange":if(S8)break;case"keydown":case"keyup":G_(re,c,ee)}var Pe;if(mg)e:{switch(a){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else _o?P_(a,c)&&(Ue="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(O_&&c.locale!=="ko"&&(_o||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&_o&&(Pe=j_()):(ya=ee,cg="value"in ya?ya.value:ya.textContent,_o=!0)),pe=Of(q,Ue),0<pe.length&&(Ue=new T_(Ue,a,null,c,ee),re.push({event:Ue,listeners:pe}),Pe?Ue.data=Pe:(Pe=M_(c),Pe!==null&&(Ue.data=Pe)))),(Pe=f8?h8(a,c):m8(a,c))&&(Ue=Of(q,"onBeforeInput"),0<Ue.length&&(pe=new T_("onBeforeInput","beforeinput",null,c,ee),re.push({event:pe,listeners:Ue}),pe.data=Pe)),aB(re,a,q,c,ee)}yC(re,o)})}function zc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Of(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=sc(a,c),y!=null&&m.unshift(zc(a,y,b)),y=sc(a,o),y!=null&&m.push(zc(a,y,b))),a.tag===3)return m;a=a.return}return[]}function cB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bC(a,o,c,m,y){for(var b=o._reactName,C=[];c!==null&&c!==m;){var O=c,L=O.alternate,q=O.stateNode;if(O=O.tag,L!==null&&L===m)break;O!==5&&O!==26&&O!==27||q===null||(L=q,y?(q=sc(c,b),q!=null&&C.unshift(zc(c,q,L))):y||(q=sc(c,b),q!=null&&C.push(zc(c,q,L)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var uB=/\r\n?/g,dB=/\u0000|\uFFFD/g;function wC(a){return(typeof a=="string"?a:""+a).replace(uB,`
`).replace(dB,"")}function SC(a,o){return o=wC(o),wC(a)===o}function et(a,o,c,m,y,b){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||bo(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&bo(a,""+m);break;case"className":Pd(a,"class",m);break;case"tabIndex":Pd(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Pd(a,c,m);break;case"style":S_(a,m,b);break;case"data":if(o!=="object"){Pd(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Rd(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&et(a,o,"name",y.name,y,null),et(a,o,"formEncType",y.formEncType,y,null),et(a,o,"formMethod",y.formMethod,y,null),et(a,o,"formTarget",y.formTarget,y,null)):(et(a,o,"encType",y.encType,y,null),et(a,o,"method",y.method,y,null),et(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Rd(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=bi);break;case"onScroll":m!=null&&Le("scroll",a);break;case"onScrollEnd":m!=null&&Le("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Rd(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":Le("beforetoggle",a),Le("toggle",a),Dd(a,"popover",m);break;case"xlinkActuate":xi(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":xi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":xi(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":xi(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":xi(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":xi(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":xi(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":xi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":xi(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Dd(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=z6.get(c)||c,Dd(a,c,m))}}function $v(a,o,c,m,y,b){switch(c){case"style":S_(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?bo(a,m):(typeof m=="number"||typeof m=="bigint")&&bo(a,""+m);break;case"onScroll":m!=null&&Le("scroll",a);break;case"onScrollEnd":m!=null&&Le("scrollend",a);break;case"onClick":m!=null&&(a.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!h_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),b=a[Mn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):Dd(a,c,m)}}}function hn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",a),Le("load",a);var m=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var C=c[b];if(C!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:et(a,o,b,C,c,null)}}y&&et(a,o,"srcSet",c.srcSet,c,null),m&&et(a,o,"src",c.src,c,null);return;case"input":Le("invalid",a);var O=b=C=y=null,L=null,q=null;for(m in c)if(c.hasOwnProperty(m)){var ee=c[m];if(ee!=null)switch(m){case"name":y=ee;break;case"type":C=ee;break;case"checked":L=ee;break;case"defaultChecked":q=ee;break;case"value":b=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:et(a,o,m,ee,c,null)}}y_(a,b,O,L,q,C,y,!1);return;case"select":Le("invalid",a),m=C=b=null;for(y in c)if(c.hasOwnProperty(y)&&(O=c[y],O!=null))switch(y){case"value":b=O;break;case"defaultValue":C=O;break;case"multiple":m=O;default:et(a,o,y,O,c,null)}o=b,c=C,a.multiple=!!m,o!=null?xo(a,!!m,o,!1):c!=null&&xo(a,!!m,c,!0);return;case"textarea":Le("invalid",a),b=y=m=null;for(C in c)if(c.hasOwnProperty(C)&&(O=c[C],O!=null))switch(C){case"value":m=O;break;case"defaultValue":y=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:et(a,o,C,O,c,null)}b_(a,m,y,b);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(m=c[L],m!=null))switch(L){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:et(a,o,L,m,c,null)}return;case"dialog":Le("beforetoggle",a),Le("toggle",a),Le("cancel",a),Le("close",a);break;case"iframe":case"object":Le("load",a);break;case"video":case"audio":for(m=0;m<Bc.length;m++)Le(Bc[m],a);break;case"image":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"embed":case"source":case"link":Le("error",a),Le("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(m=c[q],m!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:et(a,o,q,m,c,null)}return;default:if(ig(o)){for(ee in c)c.hasOwnProperty(ee)&&(m=c[ee],m!==void 0&&$v(a,o,ee,m,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(m=c[O],m!=null&&et(a,o,O,m,c,null))}function fB(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,O=null,L=null,q=null,ee=null;for(X in c){var re=c[X];if(c.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=re;default:m.hasOwnProperty(X)||et(a,o,X,null,m,re)}}for(var K in m){var X=m[K];if(re=c[K],m.hasOwnProperty(K)&&(X!=null||re!=null))switch(K){case"type":b=X;break;case"name":y=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":C=X;break;case"defaultValue":O=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:X!==re&&et(a,o,K,X,m,re)}}ng(a,C,O,L,q,ee,b,y);return;case"select":X=C=O=K=null;for(b in c)if(L=c[b],c.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":X=L;default:m.hasOwnProperty(b)||et(a,o,b,null,m,L)}for(y in m)if(b=m[y],L=c[y],m.hasOwnProperty(y)&&(b!=null||L!=null))switch(y){case"value":K=b;break;case"defaultValue":O=b;break;case"multiple":C=b;default:b!==L&&et(a,o,y,b,m,L)}o=O,c=C,m=X,K!=null?xo(a,!!c,K,!1):!!m!=!!c&&(o!=null?xo(a,!!c,o,!0):xo(a,!!c,c?[]:"",!1));return;case"textarea":X=K=null;for(O in c)if(y=c[O],c.hasOwnProperty(O)&&y!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:et(a,o,O,null,m,y)}for(C in m)if(y=m[C],b=c[C],m.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":K=y;break;case"defaultValue":X=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&et(a,o,C,y,m,b)}x_(a,K,X);return;case"option":for(var he in c)if(K=c[he],c.hasOwnProperty(he)&&K!=null&&!m.hasOwnProperty(he))switch(he){case"selected":a.selected=!1;break;default:et(a,o,he,null,m,K)}for(L in m)if(K=m[L],X=c[L],m.hasOwnProperty(L)&&K!==X&&(K!=null||X!=null))switch(L){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(a,o,L,K,m,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in c)K=c[_e],c.hasOwnProperty(_e)&&K!=null&&!m.hasOwnProperty(_e)&&et(a,o,_e,null,m,K);for(q in m)if(K=m[q],X=c[q],m.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,o));break;default:et(a,o,q,K,m,X)}return;default:if(ig(o)){for(var tt in c)K=c[tt],c.hasOwnProperty(tt)&&K!==void 0&&!m.hasOwnProperty(tt)&&$v(a,o,tt,void 0,m,K);for(ee in m)K=m[ee],X=c[ee],!m.hasOwnProperty(ee)||K===X||K===void 0&&X===void 0||$v(a,o,ee,K,m,X);return}}for(var V in c)K=c[V],c.hasOwnProperty(V)&&K!=null&&!m.hasOwnProperty(V)&&et(a,o,V,null,m,K);for(re in m)K=m[re],X=c[re],!m.hasOwnProperty(re)||K===X||K==null&&X==null||et(a,o,re,K,m,X)}function _C(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],b=y.transferSize,C=y.initiatorType,O=y.duration;if(b&&O&&_C(C)){for(C=0,O=y.responseEnd,m+=1;m<c.length;m++){var L=c[m],q=L.startTime;if(q>O)break;var ee=L.transferSize,re=L.initiatorType;ee&&_C(re)&&(L=L.responseEnd,C+=ee*(L<O?1:(O-q)/(L-q)))}if(--m,o+=8*(b+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var qv=null,Gv=null;function kf(a){return a.nodeType===9?a:a.ownerDocument}function EC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Yv(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kv=null;function mB(){var a=window.event;return a&&a.type==="popstate"?a===Kv?!1:(Kv=a,!0):(Kv=null,!1)}var CC=typeof setTimeout=="function"?setTimeout:void 0,pB=typeof clearTimeout=="function"?clearTimeout:void 0,NC=typeof Promise=="function"?Promise:void 0,gB=typeof queueMicrotask=="function"?queueMicrotask:typeof NC<"u"?function(a){return NC.resolve(null).then(a).catch(vB)}:CC;function vB(a){setTimeout(function(){throw a})}function Ra(a){return a==="head"}function TC(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),Qo(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Uc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Uc(c);for(var b=c.firstChild;b;){var C=b.nextSibling,O=b.nodeName;b[ic]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}}else c==="body"&&Uc(a.ownerDocument.body);c=y}while(c);Qo(o)}function AC(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function Wv(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Wv(c),eg(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function yB(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ic])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Nr(a.nextSibling),a===null)break}return null}function xB(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Nr(a.nextSibling),a===null))return null;return a}function OC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Nr(a.nextSibling),a===null))return null;return a}function Xv(a){return a.data==="$?"||a.data==="$~"}function Qv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function bB(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Nr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Zv=null;function kC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Nr(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function DC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function PC(a,o,c){switch(o=kf(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Uc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);eg(a)}var Tr=new Map,MC=new Set;function Df(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ii=k.d;k.d={f:wB,r:SB,D:_B,C:EB,L:jB,m:CB,X:TB,S:NB,M:AB};function wB(){var a=Ii.f(),o=_f();return a||o}function SB(a){var o=go(a);o!==null&&o.tag===5&&o.type==="form"?QE(o):Ii.r(a)}var Ko=typeof document>"u"?null:document;function RC(a,o,c){var m=Ko;if(m&&typeof o=="string"&&o){var y=br(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),MC.has(y)||(MC.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),hn(o,"link",a),Yt(o),m.head.appendChild(o)))}}function _B(a){Ii.D(a),RC("dns-prefetch",a,null)}function EB(a,o){Ii.C(a,o),RC("preconnect",a,o)}function jB(a,o,c){Ii.L(a,o,c);var m=Ko;if(m&&a&&o){var y='link[rel="preload"][as="'+br(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+br(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+br(c.imageSizes)+'"]')):y+='[href="'+br(a)+'"]';var b=y;switch(o){case"style":b=Wo(a);break;case"script":b=Xo(a)}Tr.has(b)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Tr.set(b,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Vc(b))||o==="script"&&m.querySelector(Fc(b))||(o=m.createElement("link"),hn(o,"link",a),Yt(o),m.head.appendChild(o)))}}function CB(a,o){Ii.m(a,o);var c=Ko;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+br(m)+'"][href="'+br(a)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Xo(a)}if(!Tr.has(b)&&(a=g({rel:"modulepreload",href:a},o),Tr.set(b,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Fc(b)))return}m=c.createElement("link"),hn(m,"link",a),Yt(m),c.head.appendChild(m)}}}function NB(a,o,c){Ii.S(a,o,c);var m=Ko;if(m&&a){var y=vo(m).hoistableStyles,b=Wo(a);o=o||"default";var C=y.get(b);if(!C){var O={loading:0,preload:null};if(C=m.querySelector(Vc(b)))O.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Tr.get(b))&&Jv(a,c);var L=C=m.createElement("link");Yt(L),hn(L,"link",a),L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),L.addEventListener("load",function(){O.loading|=1}),L.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Pf(C,o,m)}C={type:"stylesheet",instance:C,count:1,state:O},y.set(b,C)}}}function TB(a,o){Ii.X(a,o);var c=Ko;if(c&&a){var m=vo(c).hoistableScripts,y=Xo(a),b=m.get(y);b||(b=c.querySelector(Fc(y)),b||(a=g({src:a,async:!0},o),(o=Tr.get(y))&&e0(a,o),b=c.createElement("script"),Yt(b),hn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function AB(a,o){Ii.M(a,o);var c=Ko;if(c&&a){var m=vo(c).hoistableScripts,y=Xo(a),b=m.get(y);b||(b=c.querySelector(Fc(y)),b||(a=g({src:a,async:!0,type:"module"},o),(o=Tr.get(y))&&e0(a,o),b=c.createElement("script"),Yt(b),hn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function IC(a,o,c,m){var y=(y=Ce.current)?Df(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Wo(c.href),c=vo(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Wo(c.href);var b=vo(y).hoistableStyles,C=b.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=y.querySelector(Vc(a)))&&!b._p&&(C.instance=b,C.state.loading=5),Tr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Tr.set(a,c),b||OB(y,a,c,C.state))),o&&m===null)throw Error(r(528,""));return C}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Xo(c),c=vo(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Wo(a){return'href="'+br(a)+'"'}function Vc(a){return'link[rel="stylesheet"]['+a+"]"}function LC(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function OB(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hn(o,"link",c),Yt(o),a.head.appendChild(o))}function Xo(a){return'[src="'+br(a)+'"]'}function Fc(a){return"script[async]"+a}function BC(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+br(c.href)+'"]');if(m)return o.instance=m,Yt(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Yt(m),hn(m,"style",y),Pf(m,c.precedence,a),o.instance=m;case"stylesheet":y=Wo(c.href);var b=a.querySelector(Vc(y));if(b)return o.state.loading|=4,o.instance=b,Yt(b),b;m=LC(c),(y=Tr.get(y))&&Jv(m,y),b=(a.ownerDocument||a).createElement("link"),Yt(b);var C=b;return C._p=new Promise(function(O,L){C.onload=O,C.onerror=L}),hn(b,"link",m),o.state.loading|=4,Pf(b,c.precedence,a),o.instance=b;case"script":return b=Xo(c.src),(y=a.querySelector(Fc(b)))?(o.instance=y,Yt(y),y):(m=c,(y=Tr.get(b))&&(m=g({},c),e0(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Yt(y),hn(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Pf(m,c.precedence,a));return o.instance}function Pf(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,C=0;C<m.length;C++){var O=m[C];if(O.dataset.precedence===o)b=O;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Jv(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function e0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Mf=null;function zC(a,o,c){if(Mf===null){var m=new Map,y=Mf=new Map;y.set(c,m)}else y=Mf,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var b=c[y];if(!(b[ic]||b[cn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=a+C;var O=m.get(C);O?O.push(b):m.set(C,[b])}}return m}function UC(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function kB(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function VC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function DB(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=Wo(m.href),b=o.querySelector(Vc(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Rf.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=b,Yt(b);return}b=o.ownerDocument||o,m=LC(m),(y=Tr.get(y))&&Jv(m,y),b=b.createElement("link"),Yt(b);var C=b;C._p=new Promise(function(O,L){C.onload=O,C.onerror=L}),hn(b,"link",m),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Rf.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var t0=0;function PB(a,o){return a.stylesheets&&a.count===0&&Lf(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Lf(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&t0===0&&(t0=62500*hB());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Lf(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>t0?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var If=null;function Lf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,If=new Map,o.forEach(MB,a),If=null,Rf.call(a))}function MB(a,o){if(!(o.state.loading&4)){var c=If.get(a);if(c)var m=c.get(null);else{c=new Map,If.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),m=C)}m&&c.set(null,m)}y=o.instance,C=y.getAttribute("data-precedence"),b=c.get(C)||m,b===m&&c.set(null,y),c.set(C,y),this.count++,m=Rf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Hc={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function RB(a,o,c,m,y,b,C,O,L){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.hiddenUpdates=Xp(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function FC(a,o,c,m,y,b,C,O,L,q,ee,re){return a=new RB(a,o,c,C,L,q,ee,re,O),o=1,b===!0&&(o|=24),b=rr(3,null,null,o),a.current=b,b.stateNode=a,o=Mg(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:o},Bg(b),a}function HC(a){return a?(a=No,a):No}function $C(a,o,c,m,y,b){y=HC(y),m.context===null?m.context=y:m.pendingContext=y,m=Ea(o),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=ja(a,m,o),c!==null&&(Un(c,a,o),wc(c,a,o))}function qC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function n0(a,o){qC(a,o),(a=a.alternate)&&qC(a,o)}function GC(a){if(a.tag===13||a.tag===31){var o=hs(a,67108864);o!==null&&Un(o,a,67108864),n0(a,67108864)}}function YC(a){if(a.tag===13||a.tag===31){var o=lr();o=Qp(o);var c=hs(a,o);c!==null&&Un(c,a,o),n0(a,o)}}var Bf=!0;function IB(a,o,c,m){var y=M.T;M.T=null;var b=k.p;try{k.p=2,r0(a,o,c,m)}finally{k.p=b,M.T=y}}function LB(a,o,c,m){var y=M.T;M.T=null;var b=k.p;try{k.p=8,r0(a,o,c,m)}finally{k.p=b,M.T=y}}function r0(a,o,c,m){if(Bf){var y=i0(m);if(y===null)Hv(a,o,m,zf,c),WC(a,m);else if(zB(y,a,o,c,m))m.stopPropagation();else if(WC(a,m),o&4&&-1<BB.indexOf(a)){for(;y!==null;){var b=go(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=ls(b.pendingLanes);if(C!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var L=1<<31-tr(C);O.entanglements[1]|=L,C&=~L}ii(b),(Ye&6)===0&&(wf=Jn()+500,Lc(0))}}break;case 31:case 13:O=hs(b,2),O!==null&&Un(O,b,2),_f(),n0(b,2)}if(b=i0(m),b===null&&Hv(a,o,m,zf,c),b===y)break;y=b}y!==null&&m.stopPropagation()}else Hv(a,o,m,null,c)}}function i0(a){return a=sg(a),a0(a)}var zf=null;function a0(a){if(zf=null,a=po(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return zf=a,null}function KC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_6()){case n_:return 2;case r_:return 8;case Nd:case E6:return 32;case i_:return 268435456;default:return 32}default:return 32}}var s0=!1,Ia=null,La=null,Ba=null,$c=new Map,qc=new Map,za=[],BB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WC(a,o){switch(a){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":$c.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(o.pointerId)}}function Gc(a,o,c,m,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},o!==null&&(o=go(o),o!==null&&GC(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function zB(a,o,c,m,y){switch(o){case"focusin":return Ia=Gc(Ia,a,o,c,m,y),!0;case"dragenter":return La=Gc(La,a,o,c,m,y),!0;case"mouseover":return Ba=Gc(Ba,a,o,c,m,y),!0;case"pointerover":var b=y.pointerId;return $c.set(b,Gc($c.get(b)||null,a,o,c,m,y)),!0;case"gotpointercapture":return b=y.pointerId,qc.set(b,Gc(qc.get(b)||null,a,o,c,m,y)),!0}return!1}function XC(a){var o=po(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,u_(a.priority,function(){YC(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,u_(a.priority,function(){YC(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Uf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=i0(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);ag=m,c.target.dispatchEvent(m),ag=null}else return o=go(c),o!==null&&GC(o),a.blockedOn=c,!1;o.shift()}return!0}function QC(a,o,c){Uf(a)&&c.delete(o)}function UB(){s0=!1,Ia!==null&&Uf(Ia)&&(Ia=null),La!==null&&Uf(La)&&(La=null),Ba!==null&&Uf(Ba)&&(Ba=null),$c.forEach(QC),qc.forEach(QC)}function Vf(a,o){a.blockedOn===o&&(a.blockedOn=null,s0||(s0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,UB)))}var Ff=null;function ZC(a){Ff!==a&&(Ff=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ff===a&&(Ff=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(a0(m||c)===null)continue;break}var b=go(c);b!==null&&(a.splice(o,3),o-=3,iv(b,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function Qo(a){function o(L){return Vf(L,a)}Ia!==null&&Vf(Ia,a),La!==null&&Vf(La,a),Ba!==null&&Vf(Ba,a),$c.forEach(o),qc.forEach(o);for(var c=0;c<za.length;c++){var m=za[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<za.length&&(c=za[0],c.blockedOn===null);)XC(c),c.blockedOn===null&&za.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],b=c[m+1],C=y[Mn]||null;if(typeof b=="function")C||ZC(c);else if(C){var O=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[Mn]||null)O=C.formAction;else if(a0(y)!==null)continue}else O=C.action;typeof O=="function"?c[m+1]=O:(c.splice(m,3),m-=3),ZC(c)}}}function JC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function o0(a){this._internalRoot=a}Hf.prototype.render=o0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=lr();$C(c,m,a,o,null,null)},Hf.prototype.unmount=o0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;$C(a.current,2,null,a,null,null),_f(),o[mo]=null}};function Hf(a){this._internalRoot=a}Hf.prototype.unstable_scheduleHydration=function(a){if(a){var o=c_();a={blockedOn:null,target:a,priority:o};for(var c=0;c<za.length&&o!==0&&o<za[c].priority;c++);za.splice(c,0,a),c===0&&XC(a)}};var eN=t.version;if(eN!=="19.2.0")throw Error(r(527,eN,"19.2.0"));k.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var VB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{tc=$f.inject(VB),er=$f}catch{}}return Kc.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=oj,b=lj,C=cj;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=FC(a,1,!1,null,null,c,m,null,y,b,C,JC),a[mo]=o.current,Fv(a),new o0(o)},Kc.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",b=oj,C=lj,O=cj,L=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&(L=c.formState)),o=FC(a,1,!0,o,c??null,m,y,L,b,C,O,JC),o.context=HC(null),c=o.current,m=lr(),m=Qp(m),y=Ea(m),y.callback=null,ja(c,y,m),c=m,o.current.lanes=c,rc(o,c),ii(o),a[mo]=o.current,Fv(a),new Hf(o)},Kc.version="19.2.0",Kc}var uN;function ez(){if(uN)return d0.exports;uN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),d0.exports=JB(),d0.exports}var tz=ez();const nz=gi(tz);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dN="popstate";function rz(e={}){function t(i,s){let{pathname:l="/",search:u="",hash:d=""}=ao(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_x("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof s=="string"?s:ju(s))}function r(i,s){gr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return az(t,n,r,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iz(){return Math.random().toString(36).substring(2,10)}function fN(e,t){return{usr:e.state,key:e.key,idx:t}}function _x(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ao(t):t,state:n,key:t&&t.key||r||iz()}}function ju({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ao(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function az(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),j=E==null?null:E-h;h=E,d&&d({action:u,location:_.location,delta:j})}function v(E,j){u="PUSH";let A=_x(_.location,E,j);n&&n(A,E),h=p()+1;let N=fN(A,h),P=_.createHref(A);try{l.pushState(N,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(P)}s&&d&&d({action:u,location:_.location,delta:1})}function x(E,j){u="REPLACE";let A=_x(_.location,E,j);n&&n(A,E),h=p();let N=fN(A,h),P=_.createHref(A);l.replaceState(N,"",P),s&&d&&d({action:u,location:_.location,delta:0})}function S(E){return sz(E)}let _={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(dN,g),d=E,()=>{i.removeEventListener(dN,g),d=null}},createHref(E){return t(i,E)},createURL:S,encodeLocation(E){let j=S(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:x,go(E){return l.go(E)}};return _}function sz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ju(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ED(e,t,n="/"){return oz(e,t,n,!1)}function oz(e,t,n,r){let i=typeof t=="string"?ao(t):t,s=Wi(i.pathname||"/",n);if(s==null)return null;let l=jD(e);lz(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=xz(s);u=vz(l[d],h,r)}return u}function jD(e,t=[],n=[],r="",i=!1){let s=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;yt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Hi([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(yt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jD(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:pz(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,u);else for(let h of CD(l.path))s(l,u,!0,h)}),t}function CD(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=CD(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function lz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cz=/^:[\w-]+$/,uz=3,dz=2,fz=1,hz=10,mz=-2,hN=e=>e==="*";function pz(e,t){let n=e.split("/"),r=n.length;return n.some(hN)&&(r+=mz),t&&(r+=dz),n.filter(i=>!hN(i)).reduce((i,s)=>i+(cz.test(s)?uz:s===""?fz:hz),r)}function gz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vz(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Hi([s,g.pathname]),pathnameBase:_z(Hi([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Hi([s,g.pathnameBase]))}return l}function _h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=u[v]||"";l=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function yz(e,t=!1,n=!0){gr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function xz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bz(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ao(e):e;return{pathname:n?n.startsWith("/")?n:wz(n,t):t,search:Ez(r),hash:jz(i)}}function wz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function p0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nw(e){let t=Sz(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function rw(e,t,n,r=!1){let i;typeof e=="string"?i=ao(e):(i={...e},yt(!i.pathname||!i.pathname.includes("?"),p0("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),p0("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),p0("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=bz(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Hi=e=>e.join("/").replace(/\/\/+/g,"/"),_z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ez=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ND=["POST","PUT","PATCH","DELETE"];new Set(ND);var Nz=["GET",...ND];new Set(Nz);var Pl=w.createContext(null);Pl.displayName="DataRouter";var Vm=w.createContext(null);Vm.displayName="DataRouterState";w.createContext(!1);var TD=w.createContext({isTransitioning:!1});TD.displayName="ViewTransition";var Tz=w.createContext(new Map);Tz.displayName="Fetchers";var Az=w.createContext(null);Az.displayName="Await";var Jr=w.createContext(null);Jr.displayName="Navigation";var ed=w.createContext(null);ed.displayName="Location";var Br=w.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var iw=w.createContext(null);iw.displayName="RouteError";function Oz(e,{relative:t}={}){yt(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(Jr),{hash:i,pathname:s,search:l}=td(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Hi([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Ml(){return w.useContext(ed)!=null}function zr(){return yt(Ml(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ed).location}var AD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OD(e){w.useContext(Jr).static||w.useLayoutEffect(e)}function Ur(){let{isDataRoute:e}=w.useContext(Br);return e?Gz():kz()}function kz(){yt(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Pl),{basename:t,navigator:n}=w.useContext(Jr),{matches:r}=w.useContext(Br),{pathname:i}=zr(),s=JSON.stringify(nw(r)),l=w.useRef(!1);return OD(()=>{l.current=!0}),w.useCallback((d,h={})=>{if(gr(l.current,AD),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=rw(d,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Hi([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}var Dz=w.createContext(null);function Pz(e){let t=w.useContext(Br).outlet;return w.useMemo(()=>t&&w.createElement(Dz.Provider,{value:e},t),[t,e])}function Mz(){let{matches:e}=w.useContext(Br),t=e[e.length-1];return t?t.params:{}}function td(e,{relative:t}={}){let{matches:n}=w.useContext(Br),{pathname:r}=zr(),i=JSON.stringify(nw(n));return w.useMemo(()=>rw(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Rz(e,t){return kD(e,t)}function kD(e,t,n,r,i){var A;yt(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(Jr),{matches:l}=w.useContext(Br),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";DD(h,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=zr(),x;if(t){let N=typeof t=="string"?ao(t):t;yt(p==="/"||((A=N.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let S=x.pathname||"/",_=S;if(p!=="/"){let N=p.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=ED(e,{pathname:_});gr(g||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Uz(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Hi([p,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Hi([p,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&j?w.createElement(ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function Iz(){let e=qz(),t=Cz(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,l)}var Lz=w.createElement(Iz,null),Bz=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Br.Provider,{value:this.props.routeContext},w.createElement(iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zz({routeContext:e,match:t,children:n}){let r=w.useContext(Pl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Br.Provider,{value:e},n)}function Uz(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let v,x=!1,S=null,_=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||Lz,u&&(d<0&&g===0?(DD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):d===g&&(x=!0,_=p.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,g+1)),j=()=>{let A;return v?A=S:x?A=_:p.route.Component?A=w.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,w.createElement(zz,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?w.createElement(Bz,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):j()},null)}function aw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vz(e){let t=w.useContext(Pl);return yt(t,aw(e)),t}function Fz(e){let t=w.useContext(Vm);return yt(t,aw(e)),t}function Hz(e){let t=w.useContext(Br);return yt(t,aw(e)),t}function sw(e){let t=Hz(e),n=t.matches[t.matches.length-1];return yt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function $z(){return sw("useRouteId")}function qz(){var r;let e=w.useContext(iw),t=Fz("useRouteError"),n=sw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Gz(){let{router:e}=Vz("useNavigate"),t=sw("useNavigate"),n=w.useRef(!1);return OD(()=>{n.current=!0}),w.useCallback(async(i,s={})=>{gr(n.current,AD),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var mN={};function DD(e,t,n){!t&&!mN[e]&&(mN[e]=!0,gr(!1,n))}w.memo(Yz);function Yz({routes:e,future:t,state:n,unstable_onError:r}){return kD(e,void 0,n,r,t)}function Eh({to:e,replace:t,state:n,relative:r}){yt(Ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Jr);gr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Br),{pathname:l}=zr(),u=Ur(),d=rw(e,nw(s),l,r==="path"),h=JSON.stringify(d);return w.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:r})},[u,h,r,t,n]),null}function Kz(e){return Pz(e.context)}function Wt(e){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wz({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){yt(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=ao(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,x=w.useMemo(()=>{let S=Wi(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:r}},[l,d,h,p,g,v,r]);return gr(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(Jr.Provider,{value:u},w.createElement(ed.Provider,{children:t,value:x}))}function Xz({children:e,location:t}){return Rz(Ex(e),t)}function Ex(e,t=[]){let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Ex(r.props.children,s));return}yt(r.type===Wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ex(r.props.children,s)),n.push(l)}),n}var mh="get",ph="application/x-www-form-urlencoded";function Fm(e){return e!=null&&typeof e.tagName=="string"}function Qz(e){return Fm(e)&&e.tagName.toLowerCase()==="button"}function Zz(e){return Fm(e)&&e.tagName.toLowerCase()==="form"}function Jz(e){return Fm(e)&&e.tagName.toLowerCase()==="input"}function eU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tU(e,t){return e.button===0&&(!t||t==="_self")&&!eU(e)}function jx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function nU(e,t){let n=jx(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var qf=null;function rU(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var iU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(e){return e!=null&&!iU.has(e)?(gr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):e}function aU(e,t){let n,r,i,s,l;if(Zz(e)){let u=e.getAttribute("action");r=u?Wi(u,t):null,n=e.getAttribute("method")||mh,i=g0(e.getAttribute("enctype"))||ph,s=new FormData(e)}else if(Qz(e)||Jz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?Wi(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||mh,i=g0(e.getAttribute("formenctype"))||g0(u.getAttribute("enctype"))||ph,s=new FormData(u,e),!rU()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(Fm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,r=null,i=ph,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ow(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sU(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Wi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oU(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cU(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await oU(s,n);return l.links?l.links():[]}return[]}));return hU(r.flat(1).filter(lU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pN(e,t,n,r,i,s){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?t.filter((d,h)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uU(e,t,{includeHydrateFallback:n}={}){return dU(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function dU(e){return[...new Set(e)]}function fU(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function hU(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(fU(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function PD(){let e=w.useContext(Pl);return ow(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mU(){let e=w.useContext(Vm);return ow(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lw=w.createContext(void 0);lw.displayName="FrameworkContext";function MD(){let e=w.useContext(lw);return ow(e,"You must render this element inside a <HydratedRouter> element"),e}function pU(e,t){let n=w.useContext(lw),[r,i]=w.useState(!1),[s,l]=w.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=j=>{j.forEach(A=>{l(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),w.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Wc(u,x),onBlur:Wc(d,S),onMouseEnter:Wc(h,x),onMouseLeave:Wc(p,S),onTouchStart:Wc(g,x)}]:[!1,v,{}]}function Wc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gU({page:e,...t}){let{router:n}=PD(),r=w.useMemo(()=>ED(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?w.createElement(yU,{page:e,matches:r,...t}):null}function vU(e){let{manifest:t,routeModules:n}=MD(),[r,i]=w.useState([]);return w.useEffect(()=>{let s=!1;return cU(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function yU({page:e,matches:t,...n}){let r=zr(),{manifest:i,routeModules:s}=MD(),{basename:l}=PD(),{loaderData:u,matches:d}=mU(),h=w.useMemo(()=>pN(e,t,d,i,r,"data"),[e,t,d,i,r]),p=w.useMemo(()=>pN(e,t,d,i,r,"assets"),[e,t,d,i,r]),g=w.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,_=!1;if(t.forEach(j=>{var N;let A=i.routes[j.route.id];!A||!A.hasLoader||(!h.some(P=>P.route.id===j.route.id)&&j.route.id in u&&((N=s[j.route.id])!=null&&N.shouldRevalidate)||A.hasClientLoader?_=!0:S.add(j.route.id))}),S.size===0)return[];let E=sU(e,l,"data");return _&&S.size>0&&E.searchParams.set("_routes",t.filter(j=>S.has(j.route.id)).map(j=>j.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,h,t,e,s]),v=w.useMemo(()=>uU(p,i),[p,i]),x=vU(p);return w.createElement(w.Fragment,null,g.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:_})=>w.createElement("link",{key:S,nonce:n.nonce,..._})))}function xU(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var RD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RD&&(window.__reactRouterVersion="7.9.5")}catch{}function bU({basename:e,children:t,window:n}){let r=w.useRef();r.current==null&&(r.current=rz({window:n,v5Compat:!0}));let i=r.current,[s,l]=w.useState({action:i.action,location:i.location}),u=w.useCallback(d=>{w.startTransition(()=>l(d))},[l]);return w.useLayoutEffect(()=>i.listen(u),[i,u]),w.createElement(Wz,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var ID=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LD=w.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},x){let{basename:S}=w.useContext(Jr),_=typeof h=="string"&&ID.test(h),E,j=!1;if(typeof h=="string"&&_&&(E=h,RD))try{let $=new URL(window.location.href),Z=h.startsWith("//")?new URL($.protocol+h):new URL(h),U=Wi(Z.pathname,S);Z.origin===$.origin&&U!=null?h=U+Z.search+Z.hash:j=!0}catch{gr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Oz(h,{relative:i}),[N,P,T]=pU(r,v),D=_U(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function I($){t&&t($),$.defaultPrevented||D($)}let B=w.createElement("a",{...v,...T,href:E||A,onClick:j||s?t:I,ref:xU(x,P),target:d,"data-discover":!_&&n==="render"?"true":void 0});return N&&!_?w.createElement(w.Fragment,null,B,w.createElement(gU,{page:A})):B});LD.displayName="Link";var BD=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},p){let g=td(l,{relative:h.relative}),v=zr(),x=w.useContext(Vm),{navigator:S,basename:_}=w.useContext(Jr),E=x!=null&&TU(g)&&u===!0,j=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,A=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&_&&(N=Wi(N,_)||N);const P=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=A===j||!i&&A.startsWith(j)&&A.charAt(P)==="/",D=N!=null&&(N===j||!i&&N.startsWith(j)&&N.charAt(j.length)==="/"),I={isActive:T,isPending:D,isTransitioning:E},B=T?t:void 0,$;typeof r=="function"?$=r(I):$=[r,T?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(I):s;return w.createElement(LD,{...h,"aria-current":B,className:$,ref:p,style:Z,to:l,viewTransition:u},typeof d=="function"?d(I):d)});BD.displayName="NavLink";var wU=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=mh,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},x)=>{let S=CU(),_=NU(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&ID.test(u),A=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let P=N.nativeEvent.submitter,T=(P==null?void 0:P.getAttribute("formmethod"))||l;S(P||N.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:x,method:E,action:_,onSubmit:r?d:A,...v,"data-discover":!j&&e==="render"?"true":void 0})});wU.displayName="Form";function SU(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zD(e){let t=w.useContext(Pl);return yt(t,SU(e)),t}function _U(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Ur(),d=zr(),h=td(e,{relative:s});return w.useCallback(p=>{if(tU(p,t)){p.preventDefault();let g=n!==void 0?n:ju(d)===ju(h);u(e,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,n,r,t,e,i,s,l])}function UD(e){gr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(jx(e)),n=w.useRef(!1),r=zr(),i=w.useMemo(()=>nU(r.search,n.current?null:t.current),[r.search]),s=Ur(),l=w.useCallback((u,d)=>{const h=jx(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,s("?"+h,d)},[s,i]);return[i,l]}var EU=0,jU=()=>`__${String(++EU)}__`;function CU(){let{router:e}=zD("useSubmit"),{basename:t}=w.useContext(Jr),n=$z();return w.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=aU(r,t);if(i.navigate===!1){let p=i.fetcherKey||jU();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function NU(e,{relative:t}={}){let{basename:n}=w.useContext(Jr),r=w.useContext(Br);yt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...td(e||".",{relative:t})},l=zr();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Hi([n,s.pathname])),ju(s)}function TU(e,{relative:t}={}){let n=w.useContext(TD);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zD("useViewTransitionState"),i=td(e,{relative:t});if(!n.isTransitioning)return!1;let s=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _h(i.pathname,l)!=null||_h(i.pathname,s)!=null}var VD=_D();const FD=w.createContext(void 0),AU=({children:e})=>{const[t,n]=w.useState(()=>{const i=localStorage.getItem("theme");return i||"light"});w.useEffect(()=>{const i=window.document.documentElement;i.classList.remove(t==="dark"?"light":"dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return f.jsx(FD.Provider,{value:{theme:t,toggleTheme:r},children:e})};var ke=(e=>(e.USER="user",e.TEAM_LEAD="team_lead",e.OFFICER="officer",e.ADMIN="admin",e))(ke||{}),Xt=(e=>(e.OPEN="open",e.CLOSED="closed",e.UPCOMING="upcoming",e.COMPLETED="completed",e))(Xt||{}),Se=(e=>(e.JOKER_FLAG="Joker Flag",e.CIT_QUEST="CIT Quest",e.MINDSCAPE="MindScape",e.HOOP_SPIKE="Hoop & Spike",e.CODING_TECH_CHALLENGES="Cipher Matrix",e.PIXEL_PLAY="Pixel Play",e.TABLE_MASTERS="Table Masters",e))(Se||{});function HD(){const e=typeof window<"u"?window.location.hostname:"",t=e.endsWith("github.io"),n=e.endsWith("web.app"),r="/mock";console.log("[API] Detected hostname:",e),console.log("[API] Is GitHub Pages:",t),console.log("[API] Is Firebase Hosting:",n),console.log("[API] Env VITE_API_BASE:",r);const i="/mock";return console.log("[API] Final API_BASE:",i),i}HD();ke.USER,ke.OFFICER,ke.ADMIN;const On="t5",OU={admin_1:{id:"admin_1",name:"Benlor Rivera",email:"riverabenlor461@gmail.com",role:ke.ADMIN,avatar:"https://i.pravatar.cc/150?u=admin_1",firstName:"Benlor",lastName:"Rivera",studentId:"ADMIN-BEN",teamId:"t5",password:"24025944",lastActive:new Date().toISOString()}},kU=[{rank:1,id:"t1",name:"Midnight Spades",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",unitSecretary:"",unitTreasurer:"",unitErrands:[],adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:2,id:"t2",name:"Scarlet Hearts",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:3,id:"t3",name:"Emerald Clovers",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:4,id:"t4",name:"Glacier Diamonds",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:5,id:"t5",name:"Amaranth Jokers",score:0,wins:0,losses:0,playersCount:0,description:"Facilitating team",facilitators:[],merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0}}],DU=[{id:"jf1",name:"Joker Flag Wave 1: Chant",category:Se.JOKER_FLAG,officerInCharge:"Bhenny & Foncee",participantsInfo:"All members",date:new Date().toISOString(),venue:"Game Area",description:"A rhythmic team chant.",mechanics:"Minimum 1 minute.",criteria:[{name:"Creativity",description:"Uniqueness",points:30}],status:Xt.UPCOMING,competitionPoints:1e3,judges:[],results:[]},{id:"cit1",name:"Cheer Dance",category:Se.CIT_QUEST,officerInCharge:"Yesha",participantsInfo:"10-15 performers",date:new Date(Date.now()+864e5).toISOString(),venue:"Gymnasium",description:"High-energy cheer routine.",mechanics:"Max 5 minutes.",criteria:[{name:"Choreography",description:"Artistry",points:50}],status:Xt.UPCOMING,competitionPoints:1500,judges:[],results:[]},{id:"ms7",name:"Hackathon",category:Se.MINDSCAPE,officerInCharge:"Lryn",participantsInfo:"3 representatives",date:new Date(Date.now()-864e5).toISOString(),venue:"Computer Lab 1",description:"Ideate IT solutions.",mechanics:"5 minute pitch.",criteria:[{name:"Originality",description:"Uniqueness",points:40}],status:Xt.COMPLETED,competitionPoints:1200,judges:[],results:[]},{id:"ct3",name:"Web Design",category:Se.CODING_TECH_CHALLENGES,officerInCharge:"Lorenz and Foncee",participantsInfo:"4 representatives",date:new Date().toISOString(),venue:"Computer Lab 1",description:"Web design competition.",mechanics:"4 hours to complete.",criteria:[{name:"Design",description:"Visuals",points:30}],status:Xt.UPCOMING,competitionPoints:1200,judges:[],results:[]}],PU=[{id:"rep1",type:"report",problemType:"unsportsmanlike",description:"Player from Scarlet Hearts was being disrespectful after the match.",submittedBy:"4",timestamp:new Date(Date.now()-36e5).toISOString(),status:"pending",offenderName:"A. Player",offenderTeam:"Scarlet Hearts"},{id:"rep2",type:"suggestion",description:"It would be great to have more water stations available near the outdoor courts.",submittedBy:"3",timestamp:new Date(Date.now()-864e5).toISOString(),status:"reviewed",replies:[{id:"reply1",repliedBy:"1",message:"Thank you for the suggestion! We are looking into this.",timestamp:new Date().toISOString()}]}],MU=[{id:"notif1",title:"Scores Updated!",message:'Results for "Hackathon" are in! Check the leaderboard.',link:"/leaderboard",timestamp:new Date().toISOString(),type:"success"},{id:"notif2",title:"New Event Added",message:'A new event "Web Design" has been added to the Cipher Matrix category.',link:"/events",timestamp:new Date(Date.now()-36e5).toISOString(),type:"info"},{id:"notif3",title:"Report Status Changed",message:"Your suggestion about water stations has been reviewed.",link:"/reports",timestamp:new Date(Date.now()-72e5).toISOString(),type:"info",target:{userId:"3"}}],RU={competitionScores:!0,pages:{dashboard:!0,leaderboard:!0,teams:!0,events:!0,rules:!0,reports:!0,profile:!0},dashboard:{summaryCards:!0,leaderboardRanking:!0,topTeams:!0,teamScoreProgression:!0},leaderboard:{tabs:{standings:!0,records:!0,meritsLog:!0}},teams:{facilitatingTeam:!0,participatingTeams:!0,tabs:{overview:!0,leadership:!0,joinRequests:!0,roster:!0,prospects:!0,progress:!0,merits:!0,scores:!0}},events:{categories:{[Se.JOKER_FLAG]:!0,[Se.CIT_QUEST]:!0,[Se.MINDSCAPE]:!0,[Se.HOOP_SPIKE]:!0,[Se.CODING_TECH_CHALLENGES]:!0,[Se.PIXEL_PLAY]:!0,[Se.TABLE_MASTERS]:!0}},rules:{sections:{objectives:!0,house_rules:!0,demerit_system:!0,complaints:!0,scoring_system:!0,categories_mechanics:!0}},reports:{tabs:{view:!0,submit:!0}}},IU={mainTitle:"i3 Day | Clash of Cards",subTitle:"CIT Tech and Sports Fest 2025",hashTags:"#SDG9 #SDG13 #SDG17",sections:[{id:"objectives",title:"Objectives",items:[{type:"list",items:["To showcase the diverse talents and skills of information technology students and faculty, fostering a sense of community and camaraderie.","To promote sportsmanship, healthy competition, and community spirit among students, faculty, and the wider IT community, encourage teamwork, and foster a supportive atmosphere that promotes growth and learning."]}]},{id:"house_rules",title:"House Rules",items:[{type:"heading",level:3,content:"Attendance and Participation"},{type:"list",items:["All students are required to participate in the events assigned to their units. Attendance is mandatory and will be strictly monitored.","This activity is part of the college calendar and is considered a regular class schedule."]}]}]},ye={USERS:"sims_users",TEAMS:"sims_teams",EVENTS:"sims_events_v2",NOTIFICATIONS:"sims_notifications",REPORTS:"sims_reports",RULES:"sims_rules",ACTIVITIES:"sims_activities",VISIBILITY:"sims_visibility_settings"},sa=(e,t)=>{const n=localStorage.getItem(e);try{return n?JSON.parse(n):t}catch{return console.error("Failed to parse stored data for key:",e),t}},Nt=(e,t)=>{localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("storage-update",{detail:{key:e}}))};let Mt=sa(ye.USERS,OU),Nn=sa(ye.TEAMS,kU),Vn=sa(ye.EVENTS,DU),Cs=sa(ye.REPORTS,PU),LU=sa(ye.NOTIFICATIONS,MU),v0=sa(ye.RULES,IU);const $D=HD();let y0=sa(ye.VISIBILITY,RU),Zo=sa(ye.ACTIVITIES,[]);const We={getActivities:()=>Promise.resolve(Zo),logActivity:(e,t,n)=>{const r={id:`act_${Date.now()}`,userId:e,action:t,target:n,timestamp:new Date().toISOString()};return Zo.unshift(r),Zo.length>200&&(Zo=Zo.slice(0,200)),Nt(ye.ACTIVITIES,Zo),Promise.resolve()},login:(e,t)=>new Promise((n,r)=>{setTimeout(()=>{const i=Object.values(Mt).find(s=>s.email.toLowerCase()===e.toLowerCase());if(i&&i.password===t){try{localStorage.setItem("token","mock-jwt-token")}catch{}n(i)}else r(i?new Error("Invalid credentials"):new Error("User not found"))},300)}),loginWithGoogle:e=>new Promise(t=>{setTimeout(()=>{const n="new.user@google.com",r=Object.values(Mt).find(i=>i.email.toLowerCase()===n);if(r){try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:r,isNew:!1})}else{const i={id:`google_${Date.now()}`,email:n,firstName:"Google",lastName:"User",name:"Google User",role:ke.USER,avatar:`https://robohash.org/${n}.png`};try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:i,isNew:!0})}},300)}),completeUserProfile:e=>new Promise(t=>{setTimeout(()=>{Mt[e.id]={...Mt[e.id],...e,name:`${e.firstName} ${e.lastName}`},Nt(ye.USERS,Mt),t({user:Mt[e.id]})},300)}),register:e=>new Promise((t,n)=>{setTimeout(()=>{if(Object.values(Mt).find(i=>i.email.toLowerCase()===(e.email||"").toLowerCase()))return n(new Error("Email already exists"));const r={id:`user_${Date.now()}`,name:`${e.firstName} ${e.lastName}`,role:ke.USER,avatar:e.avatar||"https://i.pravatar.cc/150",...e};Mt[r.id]=r,Nt(ye.USERS,Mt);try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:r,token:"mock-jwt-token"})},300)}),getUsers:()=>Promise.resolve(Object.values(Mt)),updateUserRole:(e,t)=>(Mt[e].role=t,Nt(ye.USERS,Mt),Promise.resolve(Mt[e])),getLeaderboard:()=>{const e=Nn.map(t=>({...t,playersCount:Object.values(Mt).filter(n=>n.teamId===t.id).length}));return Promise.resolve(e)},updateTeam:e=>{const t=Nn.findIndex(n=>n.id===e.id);return t>-1?(Nn[t]={...Nn[t],...e},Nt(ye.TEAMS,Nn),Promise.resolve(Nn[t])):Promise.reject(new Error("Team not found"))},getEvents:()=>Promise.resolve(Vn),addEvent:e=>{const t={id:`evt_${Date.now()}`,...e};return Vn.push(t),Nt(ye.EVENTS,Vn),Promise.resolve(t)},updateEvent:e=>{const t=Vn.findIndex(n=>n.id===e.id);return t>-1?(Vn[t]={...Vn[t],...e},Nt(ye.EVENTS,Vn),Promise.resolve(Vn[t])):Promise.reject(new Error("Event not found"))},deleteEvent:e=>(Vn=Vn.filter(t=>t.id!==e),Nt(ye.EVENTS,Vn),Promise.resolve()),updateEventResults:(e,t)=>{const n=Vn.findIndex(i=>i.id===e);if(n===-1)return Promise.reject(new Error("Event not found"));const r=Vn[n];return r.results=t,r.status=Xt.COMPLETED,Nt(ye.EVENTS,Vn),Nt(ye.TEAMS,Nn),Promise.resolve(r)},getNotifications:()=>Promise.resolve(LU),addPointLog:e=>{const t=Nn.find(n=>n.id===e.teamId);if(t){const n={id:`log_${Date.now()}`,updatedBy:"Admin",timestamp:new Date().toISOString(),...e};e.type==="merit"?(t.merits=[...t.merits||[],n],t.score+=e.points):(t.demerits=[...t.demerits||[],n],t.score-=e.points),Nt(ye.TEAMS,Nn)}return Promise.resolve()},deletePointLog:e=>Promise.resolve(),updatePointLog:(e,t)=>Promise.resolve(),getReports:()=>Promise.resolve(Cs),submitReport:e=>{const t={id:`rep_${Date.now()}`,timestamp:new Date().toISOString(),status:"pending",...e};return Cs.unshift(t),Nt(ye.REPORTS,Cs),Promise.resolve()},updateReportStatus:(e,t)=>{const n=Cs.find(r=>r.id===e);return n&&(n.status=t,Nt(ye.REPORTS,Cs)),Promise.resolve()},addReportReply:(e,t)=>{const n=Cs.find(r=>r.id===e);if(n){const r={id:`reply_${Date.now()}`,message:t.reply,repliedBy:"1",timestamp:new Date().toISOString()};n.replies=[...n.replies||[],r],Nt(ye.REPORTS,Cs)}return Promise.resolve()},getTeamUsers:e=>Promise.resolve(Object.values(Mt).filter(t=>t.teamId===e)),requestToJoinTeam:e=>new Promise((t,n)=>{const r=Nn.find(i=>i.id===e);if(r){if(r.joinRequests=r.joinRequests||[],r.joinRequests.some(i=>i.userId==="3"))return n(new Error("You have already sent a request to join this team."));r.joinRequests.push({id:`req_${Date.now()}`,userId:"3",timestamp:new Date().toISOString()}),Nt(ye.TEAMS,Nn),t()}else n(new Error("Team not found"))}),manageJoinRequest:(e,t,n)=>{var i;const r=Nn.find(s=>s.id===e);return r&&(r.joinRequests=(i=r.joinRequests)==null?void 0:i.filter(s=>s.userId!==t),n==="accepted"&&(Mt[t].teamId=e,Nt(ye.USERS,Mt)),Nt(ye.TEAMS,Nn)),Promise.resolve()},removeUserFromTeam:e=>(Mt[e]&&(Mt[e].teamId=void 0,Nt(ye.USERS,Mt)),Promise.resolve()),updateTeamRoster:(e,t,n)=>{const r=Nn.find(i=>i.id===e);if(r){r.rosters=r.rosters||[];const i=r.rosters.findIndex(s=>s.eventId===t);i>-1?r.rosters[i].participants=n:r.rosters.push({eventId:t,participants:n}),Nt(ye.TEAMS,Nn)}return Promise.resolve()},getVisibilitySettings:()=>Promise.resolve(y0),updateVisibilitySettings:e=>(y0=e,Nt(ye.VISIBILITY,y0),Promise.resolve()),getRules:()=>Promise.resolve(v0),updateRules:e=>(v0=e,Nt(ye.RULES,v0),Promise.resolve())},BU=async(e,t={})=>{const n=localStorage.getItem("token"),r=new Headers(t.headers);!r.has("Content-Type")&&!(t.body instanceof FormData)&&r.set("Content-Type","application/json"),r.has("Accept")||r.set("Accept","application/json"),n&&r.set("Authorization",`Bearer ${n}`);const i=`${$D}${e}`;console.log(`[API] ${t.method||"GET"} ${i}`);const s=await fetch(i,{...t,headers:r});if(!s.ok){let u=`API error: ${s.statusText}`;try{const d=await s.text(),h=d.substring(0,500).replace(/\s+/g," ");if(d.includes("<?php")||d.trim().startsWith("<"))console.error("[API] Backend returned non-JSON response (likely PHP/HTML)."),console.error("[API] Response snippet:",h),u=`Backend returned non-JSON response. Snippet: ${h}`;else{const p=JSON.parse(d);u=p.message||p.error||u}}catch{}throw new Error(u)}const l=await s.text();if(l.trim().startsWith("<")){const u=l.substring(0,500).replace(/\s+/g," ");throw console.error("[API] Backend returned HTML/other non-JSON response. Snippet:",u),new Error(`Backend returned invalid JSON (probably an error page). Snippet: ${u}`)}return s.status===204?null:JSON.parse(l)},qD=async(e,t)=>(console.log("[API.login] API_BASE:",$D),console.log("[API.login] Using mock API"),We.login(e,t)),GD=async e=>We.loginWithGoogle(e),YD=async e=>(await We.completeUserProfile(e)).user,cw=async e=>(await We.register(e)).user,Cx=async()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return Object.values(sa(ye.USERS,{})).find(i=>i.id===t.id)||t}catch{return null}try{return await BU("/auth/me.php")}catch(e){return console.warn("getCurrentUser failed",e),null}},so=()=>We.getUsers(),KD=(e,t)=>We.updateUserRole(e,t),vi=()=>We.getLeaderboard(),yl=e=>We.updateTeam(e),oa=()=>We.getEvents(),WD=e=>We.addEvent(e),uw=e=>We.updateEvent(e),XD=e=>We.deleteEvent(e),QD=(e,t)=>We.updateEventResults(e,t),ZD=()=>We.getNotifications(),Hm=async(e,t,n)=>We.logActivity(e,t,n),JD=async()=>We.getActivities(),dw=e=>We.addPointLog(e),eP=e=>We.deletePointLog(e),tP=(e,t)=>We.updatePointLog(e,t),jh=(e,t,n)=>We.manageJoinRequest(e,t,n),nP=e=>We.removeUserFromTeam(e),Nx=(e,t,n)=>We.updateTeamRoster(e,t,n),rP=e=>We.getTeamUsers(e),iP=()=>We.getReports(),aP=e=>We.submitReport(e),sP=(e,t)=>We.updateReportStatus(e,t),oP=(e,t)=>We.addReportReply(e,t),lP=()=>We.getVisibilitySettings(),Ch=e=>We.updateVisibilitySettings(e),Tx=async()=>Promise.resolve(!0),cP=()=>We.getRules(),fw=e=>We.updateRules(e),zU=Object.freeze(Object.defineProperty({__proto__:null,STORAGE_KEYS:ye,UserRole:ke,addEvent:WD,addPointLog:dw,addReportReply:oP,completeUserProfile:YD,deleteEvent:XD,deletePointLog:eP,getAuditLogs:JD,getCurrentUser:Cx,getEvents:oa,getLeaderboard:vi,getNotifications:ZD,getReports:iP,getRules:cP,getTeamUsers:rP,getUsers:so,getVisibilitySettings:lP,logActivity:Hm,login:qD,loginWithGoogle:GD,manageJoinRequest:jh,pingServer:Tx,register:cw,removeUserFromTeam:nP,submitReport:aP,updateEvent:uw,updateEventResults:QD,updatePointLog:tP,updateReportStatus:sP,updateRules:fw,updateTeam:yl,updateTeamRoster:Nx,updateUserRole:KD,updateVisibilitySettings:Ch},Symbol.toStringTag,{value:"Module"})),uP=w.createContext(void 0);ke.ADMIN+"",ke.ADMIN,ke.OFFICER+"",ke.OFFICER,ke.TEAM_LEAD+"",ke.TEAM_LEAD,ke.USER+"",ke.USER;const UU=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(!0);w.useEffect(()=>{(async()=>{i(!0);try{const v=localStorage.getItem("user"),x=localStorage.getItem("token");if(v){const S=JSON.parse(v);n(S);try{const _=await Cx();_&&(n(_),localStorage.setItem("user",JSON.stringify(_)))}catch{try{const j=(await so()).find(A=>A.id===S.id);j&&(n(j),localStorage.setItem("user",JSON.stringify(j)))}catch(E){console.warn("Could not refresh user from server:",E)}}}else if(x)try{const S=await Cx();S&&(n(S),localStorage.setItem("user",JSON.stringify(S)))}catch(S){console.warn("Failed to restore user from token",S)}}catch(v){console.error("Failed to parse or restore user from storage",v),localStorage.removeItem("user")}finally{i(!1)}})()},[]);const g={user:t,login:async(v,x)=>{i(!0);try{const S=await qD(v,x);Hm(S.id,"logged in"),n(S),localStorage.setItem("user",JSON.stringify(S))}catch(S){throw console.error("Login failed",S),S}finally{i(!1)}},register:async v=>{i(!0);try{const x=await cw(v);n(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("Registration failed",x),x}finally{i(!1)}},logout:()=>{n(null),localStorage.removeItem("user"),localStorage.removeItem("token")},loading:r,switchUserRole:v=>{{console.warn("switchUserRole is a development-only feature.");return}},loginWithGoogle:async v=>{i(!0);try{const{user:x,isNew:S}=await GD({idToken:v});return S||(n(x),localStorage.setItem("user",JSON.stringify(x))),{user:x,isNew:S}}catch(x){throw console.error("Google Login failed",x),x}finally{i(!1)}},updateUser:async v=>{i(!0);try{const x=await YD(v);n(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("Failed to update user profile",x),x}finally{i(!1)}}};return f.jsx(uP.Provider,{value:g,children:e})},jn=()=>{const e=w.useContext(dP);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},VU=({id:e,message:t,type:n})=>{const{removeToast:r}=jn();w.useEffect(()=>{if(n!=="error"){const d=setTimeout(()=>{r(e)},5e3);return()=>clearTimeout(d)}},[e,n,r]);const i="flex items-center w-full max-w-xs p-4 mb-4 text-slate-500 bg-white rounded-2xl shadow-lg dark:text-slate-400 dark:bg-slate-800",s={success:"bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-200",error:"bg-red-100 dark:bg-red-800 text-red-700 dark:text-red-200",info:"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200"},l={success:"text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-200",error:"text-red-500 bg-red-100 dark:bg-red-800 dark:text-red-200",info:"text-blue-500 bg-blue-100 dark:bg-blue-800 dark:text-blue-200"},u=()=>n==="success"?f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n==="error"?f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.607a1 1 0 010-1.414z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});return f.jsxs("div",{className:`${i} ${s[n]}`,children:[f.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg ${l[n]}`,children:f.jsx(u,{})}),f.jsx("div",{className:"ml-3 text-sm font-normal",children:t}),f.jsx("button",{onClick:()=>r(e),className:"ml-auto -mx-1.5 -my-1.5 bg-white text-slate-400 hover:text-slate-900 rounded-lg focus:ring-2 focus:ring-slate-300 p-1.5 hover:bg-slate-100 inline-flex h-8 w-8 dark:text-slate-500 dark:hover:text-white dark:bg-slate-800 dark:hover:bg-slate-700",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.607a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},FU=()=>{const{toasts:e}=jn();return f.jsx("div",{className:"fixed top-5 right-5 z-50",children:e.map(t=>f.jsx(VU,{...t},t.id))})},dP=w.createContext(void 0),HU=({children:e})=>{const[t,n]=w.useState([]),r=w.useCallback((s,l)=>{const u=Date.now();n(d=>[...d,{id:u,message:s,type:l}])},[]),i=w.useCallback(s=>{n(l=>l.filter(u=>u.id!==s))},[]);return f.jsxs(dP.Provider,{value:{toasts:t,addToast:r,removeToast:i},children:[e,f.jsx(FU,{})]})},Ft=()=>{const e=w.useContext(uP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},gN="storage-update";function Vt(e,t){const[n,r]=w.useState(null),[i,s]=w.useState(!0),[l,u]=w.useState(!1),[d,h]=w.useState(0),p=w.useRef(null),g=w.useCallback(()=>h(x=>x+1),[]),v=t.join(",");return w.useEffect(()=>{let x=!0;const S=async(j=!1)=>{if(x){n===null&&s(!0);try{const A=await e();x&&(r(A),j&&(u(!0),p.current&&clearTimeout(p.current),p.current=window.setTimeout(()=>{x&&u(!1)},2500)))}catch(A){x&&console.error("Failed to fetch data in useSyncedData",A)}finally{x&&s(!1)}}};S();const _=j=>{const A=j.detail;t.includes(A==null?void 0:A.key)&&S(!0)},E=j=>{j.key&&t.includes(j.key)&&S(!0)};return window.addEventListener(gN,_),window.addEventListener("storage",E),()=>{x=!1,p.current&&clearTimeout(p.current),window.removeEventListener(gN,_),window.removeEventListener("storage",E)}},[v,d]),{data:n,loading:i,refetch:g,isSynced:l}}const fP=w.createContext(void 0),$U=({children:e})=>{const{data:t,loading:n}=Vt(ZD,[ye.NOTIFICATIONS]),[r,i]=w.useState([]),[s,l]=w.useState(new Set),{user:u}=Ft();w.useEffect(()=>{if(u){const v=localStorage.getItem(`sims_read_notifs_${u.id}`);l(new Set(v?JSON.parse(v):[]))}else l(new Set)},[u]),w.useEffect(()=>{if(t)if(u){const v=u.role===ke.ADMIN||u.role===ke.OFFICER||u.teamId===On,x=t.filter(S=>{var _;return v?!((_=S.target)!=null&&_.userId&&S.target.userId!==u.id):!S.target||S.target.userId&&S.target.userId===u.id?!0:S.target.roles&&S.target.roles.includes(u.role)?S.target.teamId?S.target.teamId===u.teamId:!0:!1});i(x)}else i(t.filter(v=>!v.target))},[t,u]);const d=v=>{l(x=>{const S=new Set(x).add(v);return u&&localStorage.setItem(`sims_read_notifs_${u.id}`,JSON.stringify(Array.from(S))),S})},h=()=>{l(v=>{const x=new Set(v);return r.forEach(S=>x.add(S.id)),u&&localStorage.setItem(`sims_read_notifs_${u.id}`,JSON.stringify(Array.from(x))),x})},p=r.filter(v=>!s.has(v.id)).length,g=r.map(v=>({...v,read:s.has(v.id)})).sort((v,x)=>new Date(x.timestamp).getTime()-new Date(v.timestamp).getTime());return f.jsx(fP.Provider,{value:{notifications:g,unreadCount:p,markAsRead:d,markAllAsRead:h,loading:n},children:e})},qU="modulepreload",GU=function(e){return"/"+e},vN={},Ks=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(h=>{if(h=GU(h),h in vN)return;vN[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qU,p||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((x,S)=>{v.addEventListener("load",x),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},Ns="sims_visibility_settings",x0="storage-update",Gf={competitionScores:!0,pages:{dashboard:!0,leaderboard:!0,teams:!0,events:!0,rules:!0,reports:!0,profile:!0},dashboard:{summaryCards:!0,leaderboardRanking:!0,topTeams:!0,teamScoreProgression:!0},leaderboard:{tabs:{standings:!0,records:!0,meritsLog:!0}},teams:{facilitatingTeam:!0,participatingTeams:!0,tabs:{overview:!0,leadership:!0,joinRequests:!0,roster:!0,prospects:!0,progress:!0,merits:!0,scores:!0}},events:{categories:{[Se.JOKER_FLAG]:!0,[Se.CIT_QUEST]:!0,[Se.MINDSCAPE]:!0,[Se.HOOP_SPIKE]:!0,[Se.CODING_TECH_CHALLENGES]:!0,[Se.PIXEL_PLAY]:!0,[Se.TABLE_MASTERS]:!0}},rules:{sections:{objectives:!0,house_rules:!0,demerit_system:!0,complaints:!0,scoring_system:!0,categories_mechanics:!0}},reports:{tabs:{view:!0,submit:!0}}},cr=e=>!!e&&typeof e=="object"&&!Array.isArray(e),b0=e=>{if(!e)return Gf;try{const t=JSON.parse(e);if(!cr(t))return Gf;const n=JSON.parse(JSON.stringify(Gf));if(typeof t.competitionScores=="boolean"&&(n.competitionScores=t.competitionScores),cr(t.pages))for(const r of Object.keys(n.pages))typeof t.pages[r]=="boolean"&&(n.pages[r]=t.pages[r]);if(cr(t.dashboard)){typeof t.dashboard.leaderboardRankingChart=="boolean"&&(t.dashboard.leaderboardRanking=t.dashboard.leaderboardRankingChart),typeof t.dashboard.teamProgressBars=="boolean"&&(t.dashboard.teamScoreProgression=t.dashboard.teamProgressBars);for(const r of Object.keys(n.dashboard))typeof t.dashboard[r]=="boolean"&&(n.dashboard[r]=t.dashboard[r])}if(cr(t.leaderboard)&&cr(t.leaderboard.tabs))for(const r of Object.keys(n.leaderboard.tabs))typeof t.leaderboard.tabs[r]=="boolean"&&(n.leaderboard.tabs[r]=n.leaderboard.tabs[r]);if(cr(t.teams)&&(typeof t.teams.facilitatingTeam=="boolean"&&(n.teams.facilitatingTeam=t.teams.facilitatingTeam),typeof t.teams.participatingTeams=="boolean"&&(n.teams.participatingTeams=t.teams.participatingTeams),cr(t.teams.tabs)))for(const r of Object.keys(n.teams.tabs))typeof t.teams.tabs[r]=="boolean"&&(n.teams.tabs[r]=t.teams.tabs[r]);if(cr(t.events)&&cr(t.events.categories))for(const r of Object.keys(n.events.categories))typeof t.events.categories[r]=="boolean"&&(n.events.categories[r]=n.events.categories[r]);if(cr(t.rules)&&cr(t.rules.sections))for(const r of Object.keys(n.rules.sections))typeof t.rules.sections[r]=="boolean"&&(n.rules.sections[r]=n.rules.sections[r]);if(cr(t.reports)&&cr(t.reports.tabs))for(const r of Object.keys(n.reports.tabs))typeof t.reports.tabs[r]=="boolean"&&(n.reports.tabs[r]=n.reports.tabs[r]);return n}catch(t){return console.error("Failed to parse settings, returning defaults",t),Gf}},hP=w.createContext(void 0),YU=({children:e})=>{const[t,n]=w.useState(()=>{const l=localStorage.getItem(Ns);return b0(l)});Fi.useEffect(()=>{let l=!0;return(async()=>{try{const u=await lP();if(!l)return;const d=b0(JSON.stringify(u));n(d),localStorage.setItem(Ns,JSON.stringify(d))}catch(u){console.warn("Failed to fetch visibility settings from server, using local settings.",u)}})(),()=>{l=!1}},[]);const{user:r}=Ft(),i=(r==null?void 0:r.role)===ke.ADMIN||(r==null?void 0:r.teamId)===On,s=l=>{const u={...l,version:(l.version||0)+1,updatedAt:new Date().toISOString()};localStorage.setItem(Ns,JSON.stringify(u));try{localStorage.setItem(`${Ns}_ts`,new Date().toISOString())}catch{}n(u),window.dispatchEvent(new CustomEvent(x0,{detail:{key:Ns}}));try{Ks(async()=>{const{enqueue:d,processQueue:h}=await Promise.resolve().then(()=>Nl);return{enqueue:d,processQueue:h}},[]).then(({enqueue:d,processQueue:h})=>{d("visibility:update",u),d("activity:log",{userId:r&&r.id||"unknown",action:"updated_visibility_settings"}),h()}).catch(()=>{Ch(l).catch(d=>console.error("Failed to save visibility settings to server:",d))})}catch{Ch(l).catch(h=>console.error("Failed to save visibility settings to server:",h))}};return w.useEffect(()=>{const l=u=>{var h;if((((h=u.detail)==null?void 0:h.key)||u.key)===Ns){const p=localStorage.getItem(Ns);n(b0(p))}};return window.addEventListener(x0,l),window.addEventListener("storage",l),()=>{window.removeEventListener(x0,l),window.removeEventListener("storage",l)}},[]),f.jsx(hP.Provider,{value:{settings:t,setSettings:s,isPrivileged:i},children:e})},Nh="i3 Day | Clash of Cards",KU=[Nh,"Campus Clash","Intramurals"],mP=w.createContext(void 0),WU=({children:e})=>{const[t,n]=w.useState(Nh),r=w.useMemo(()=>t===Nh,[t]),i={selectedEvent:t,setSelectedEvent:n,isDataAvailable:r};return f.jsx(mP.Provider,{value:i,children:e})},hw=w.createContext({});function mw(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const $m=w.createContext(null),pw=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class XU extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function QU({children:e,isPresent:t}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=w.useContext(pw);return w.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=i.current;if(t||!r.current||!l||!u)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),f.jsx(XU,{isPresent:t,childRef:r,sizeRef:i,children:w.cloneElement(e,{ref:r})})}const ZU=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:l})=>{const u=mw(JU),d=w.useId(),h=w.useCallback(g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},[u,r]),p=w.useMemo(()=>({id:d,initial:t,isPresent:n,custom:i,onExitComplete:h,register:g=>(u.set(g,!1),()=>u.delete(g))}),s?[Math.random(),h]:[n,h]);return w.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),w.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(e=f.jsx(QU,{isPresent:n,children:e})),f.jsx($m.Provider,{value:p,children:e})};function JU(){return new Map}function pP(e=!0){const t=w.useContext($m);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=w.useId();w.useEffect(()=>{e&&i(s)},[e]);const l=w.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,l]:[!0]}const Yf=e=>e.key||"";function yN(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const gw=typeof window<"u",gP=gw?w.useLayoutEffect:w.useEffect,qm=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1})=>{const[u,d]=pP(l),h=w.useMemo(()=>yN(e),[e]),p=l&&!u?[]:h.map(Yf),g=w.useRef(!0),v=w.useRef(h),x=mw(()=>new Map),[S,_]=w.useState(h),[E,j]=w.useState(h);gP(()=>{g.current=!1,v.current=h;for(let P=0;P<E.length;P++){const T=Yf(E[P]);p.includes(T)?x.delete(T):x.get(T)!==!0&&x.set(T,!1)}},[E,p.length,p.join("-")]);const A=[];if(h!==S){let P=[...h];for(let T=0;T<E.length;T++){const D=E[T],I=Yf(D);p.includes(I)||(P.splice(T,0,D),A.push(D))}s==="wait"&&A.length&&(P=A),j(yN(P)),_(h);return}const{forceRender:N}=w.useContext(hw);return f.jsx(f.Fragment,{children:E.map(P=>{const T=Yf(P),D=l&&!u?!1:h===E||p.includes(T),I=()=>{if(x.has(T))x.set(T,!0);else return;let B=!0;x.forEach($=>{$||(B=!1)}),B&&(N==null||N(),j(v.current),l&&(d==null||d()),r&&r())};return f.jsx(ZU,{isPresent:D,initial:!g.current||n?void 0:!1,custom:D?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:D?void 0:I,children:P},T)})})},mr=e=>e;let vP=mr;function vw(e){let t;return()=>(t===void 0&&(t=e()),t)}const xl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},$i=e=>e*1e3,qi=e=>e/1e3,eV={useManualTiming:!1};function tV(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(h){s.has(h)&&(d.schedule(h),e()),h(l)}const d={schedule:(h,p=!1,g=!1)=>{const x=g&&r?t:n;return p&&s.add(h),x.has(h)||x.add(h),h},cancel:h=>{n.delete(h),s.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const Kf=["read","resolveKeyframes","update","preRender","render","postRender"],nV=40;function yP(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=Kf.reduce((j,A)=>(j[A]=tV(s),j),{}),{read:u,resolveKeyframes:d,update:h,preRender:p,render:g,postRender:v}=l,x=()=>{const j=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,nV),1),i.timestamp=j,i.isProcessing=!0,u.process(i),d.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(x))},S=()=>{n=!0,r=!0,i.isProcessing||e(x)};return{schedule:Kf.reduce((j,A)=>{const N=l[A];return j[A]=(P,T=!1,D=!1)=>(n||S(),N.schedule(P,T,D)),j},{}),cancel:j=>{for(let A=0;A<Kf.length;A++)l[Kf[A]].cancel(j)},state:i,steps:l}}const{schedule:mt,cancel:Xa,state:pn,steps:w0}=yP(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0),xP=w.createContext({strict:!1}),xN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const e in xN)bl[e]={isEnabled:t=>xN[e].some(n=>!!t[n])};function rV(e){for(const t in e)bl[t]={...bl[t],...e[t]}}const iV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iV.has(e)}let bP=e=>!Th(e);function aV(e){e&&(bP=t=>t.startsWith("on")?!Th(t):e(t))}try{aV(require("@emotion/is-prop-valid").default)}catch{}function sV(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(bP(i)||n===!0&&Th(i)||!t&&!Th(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function oV(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Gm=w.createContext({});function Cu(e){return typeof e=="string"||Array.isArray(e)}function Ym(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const yw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xw=["initial",...yw];function Km(e){return Ym(e.animate)||xw.some(t=>Cu(e[t]))}function wP(e){return!!(Km(e)||e.variants)}function lV(e,t){if(Km(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Cu(n)?n:void 0,animate:Cu(r)?r:void 0}}return e.inherit!==!1?t:{}}function cV(e){const{initial:t,animate:n}=lV(e,w.useContext(Gm));return w.useMemo(()=>({initial:t,animate:n}),[bN(t),bN(n)])}function bN(e){return Array.isArray(e)?e.join(" "):e}const uV=Symbol.for("motionComponentSymbol");function il(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dV(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):il(n)&&(n.current=r))},[t])}const bw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fV="framerAppearId",SP="data-"+bw(fV),{schedule:ww}=yP(queueMicrotask,!1),_P=w.createContext({});function hV(e,t,n,r,i){var s,l;const{visualElement:u}=w.useContext(Gm),d=w.useContext(xP),h=w.useContext($m),p=w.useContext(pw).reducedMotion,g=w.useRef(null);r=r||d.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,x=w.useContext(_P);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&mV(g.current,n,i,x);const S=w.useRef(!1);w.useInsertionEffect(()=>{v&&S.current&&v.update(n,h)});const _=n[SP],E=w.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,_)));return gP(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),ww.render(v.render),E.current&&v.animationState&&v.animationState.animateChanges())}),w.useEffect(()=>{v&&(!E.current&&v.animationState&&v.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,_)}),E.current=!1))}),v}function mV(e,t,n,r){const{layoutId:i,layout:s,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:EP(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||u&&il(u),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:h})}function EP(e){if(e)return e.options.allowProjection!==!1?e.projection:EP(e.parent)}function pV({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,l;e&&rV(e);function u(h,p){let g;const v={...w.useContext(pw),...h,layoutId:gV(h)},{isStatic:x}=v,S=cV(h),_=r(h,x);if(!x&&gw){vV();const E=yV(v);g=E.MeasureLayout,S.visualElement=hV(i,_,v,t,E.ProjectionNode)}return f.jsxs(Gm.Provider,{value:S,children:[g&&S.visualElement?f.jsx(g,{visualElement:S.visualElement,...v}):null,n(i,h,dV(_,S.visualElement,p),_,x,S.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&l!==void 0?l:""})`}`;const d=w.forwardRef(u);return d[uV]=i,d}function gV({layoutId:e}){const t=w.useContext(hw).id;return t&&e!==void 0?t+"-"+e:e}function vV(e,t){w.useContext(xP).strict}function yV(e){const{drag:t,layout:n}=bl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sw(e){return typeof e!="string"||e.includes("-")?!1:!!(xV.indexOf(e)>-1||/[A-Z]/u.test(e))}function wN(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function _w(e,t,n,r){if(typeof t=="function"){const[i,s]=wN(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=wN(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Ax=e=>Array.isArray(e),bV=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),wV=e=>Ax(e)?e[e.length-1]||0:e,En=e=>!!(e&&e.getVelocity);function gh(e){const t=En(e)?e.get():e;return bV(t)?t.toValue():t}function SV({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const l={latestValues:_V(r,i,s,e),renderState:t()};return n&&(l.onMount=u=>n({props:r,current:u,...l}),l.onUpdate=u=>n(u)),l}const jP=e=>(t,n)=>{const r=w.useContext(Gm),i=w.useContext($m),s=()=>SV(e,t,r,i);return n?s():mw(s)};function _V(e,t,n,r){const i={},s=r(e,{});for(const v in s)i[v]=gh(s[v]);let{initial:l,animate:u}=e;const d=Km(e),h=wP(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Ym(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const S=_w(e,v[x]);if(S){const{transitionEnd:_,transition:E,...j}=S;for(const A in j){let N=j[A];if(Array.isArray(N)){const P=p?N.length-1:0;N=N[P]}N!==null&&(i[A]=N)}for(const A in _)i[A]=_[A]}}}return i}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set(Rl),CP=e=>t=>typeof t=="string"&&t.startsWith(e),NP=CP("--"),EV=CP("var(--"),Ew=e=>EV(e)?jV.test(e.split("/*")[0].trim()):!1,jV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,TP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xi=(e,t,n)=>n>t?t:n<e?e:n,Il={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nu={...Il,transform:e=>Xi(0,1,e)},Wf={...Il,default:1},nd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Va=nd("deg"),oi=nd("%"),je=nd("px"),CV=nd("vh"),NV=nd("vw"),SN={...oi,parse:e=>oi.parse(e)/100,transform:e=>oi.transform(e*100)},TV={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je},AV={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:Wf,scaleX:Wf,scaleY:Wf,scaleZ:Wf,skew:Va,skewX:Va,skewY:Va,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Nu,originX:SN,originY:SN,originZ:je},_N={...Il,transform:Math.round},jw={...TV,...AV,zIndex:_N,size:je,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:_N},OV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kV=Rl.length;function DV(e,t,n){let r="",i=!0;for(let s=0;s<kV;s++){const l=Rl[s],u=e[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=TP(u,jw[l]);if(!d){i=!1;const p=OV[l]||l;r+=`${p}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Cw(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let l=!1,u=!1;for(const d in t){const h=t[d];if(oo.has(d)){l=!0;continue}else if(NP(d)){i[d]=h;continue}else{const p=TP(h,jw[d]);d.startsWith("origin")?(u=!0,s[d]=p):r[d]=p}}if(t.transform||(l||n?r.transform=DV(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=s;r.transformOrigin=`${d} ${h} ${p}`}}const PV={offset:"stroke-dashoffset",array:"stroke-dasharray"},MV={offset:"strokeDashoffset",array:"strokeDasharray"};function RV(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?PV:MV;e[s.offset]=je.transform(-r);const l=je.transform(t),u=je.transform(n);e[s.array]=`${l} ${u}`}function EN(e,t,n){return typeof e=="string"?e:je.transform(t+n*e)}function IV(e,t,n){const r=EN(t,e.x,e.width),i=EN(n,e.y,e.height);return`${r} ${i}`}function Nw(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g){if(Cw(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x,dimensions:S}=e;v.transform&&(S&&(x.transform=v.transform),delete v.transform),S&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=IV(S,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&RV(v,l,u,d,!1)}const Tw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AP=()=>({...Tw(),attrs:{}}),Aw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OP(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const kP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DP(e,t,n,r){OP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kP.has(i)?i:bw(i),t.attrs[i])}const Ah={};function LV(e){Object.assign(Ah,e)}function PP(e,{layout:t,layoutId:n}){return oo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ah[e]||e==="opacity")}function Ow(e,t,n){var r;const{style:i}=e,s={};for(const l in i)(En(i[l])||t.style&&En(t.style[l])||PP(l,e)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[l]=i[l]);return s}function MP(e,t,n){const r=Ow(e,t,n);for(const i in e)if(En(e[i])||En(t[i])){const s=Rl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function BV(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const jN=["x","y","width","height","cx","cy","r"],zV={useVisualState:jP({scrapeMotionValuesFromProps:MP,createRenderState:AP,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const u in i)if(oo.has(u)){s=!0;break}}if(!s)return;let l=!t;if(t)for(let u=0;u<jN.length;u++){const d=jN[u];e[d]!==t[d]&&(l=!0)}l&&mt.read(()=>{BV(n,r),mt.render(()=>{Nw(r,i,Aw(n.tagName),e.transformTemplate),DP(n,r)})})}})},UV={useVisualState:jP({scrapeMotionValuesFromProps:Ow,createRenderState:Tw})};function RP(e,t,n){for(const r in t)!En(t[r])&&!PP(r,n)&&(e[r]=t[r])}function VV({transformTemplate:e},t){return w.useMemo(()=>{const n=Tw();return Cw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FV(e,t){const n=e.style||{},r={};return RP(r,n,e),Object.assign(r,VV(e,t)),r}function HV(e,t){const n={},r=FV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function $V(e,t,n,r){const i=w.useMemo(()=>{const s=AP();return Nw(s,t,Aw(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};RP(s,e.style,e),i.style={...s,...i.style}}return i}function qV(e=!1){return(n,r,i,{latestValues:s},l)=>{const d=(Sw(n)?$V:HV)(r,s,l,n),h=sV(r,typeof n=="string",e),p=n!==w.Fragment?{...h,...d,ref:i}:{},{children:g}=r,v=w.useMemo(()=>En(g)?g.get():g,[g]);return w.createElement(n,{...p,children:v})}}function GV(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Sw(r)?zV:UV,preloadedFeatures:e,useRender:qV(i),createVisualElement:t,Component:r};return pV(l)}}function IP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wm(e,t,n){const r=e.getProps();return _w(r,t,n!==void 0?n:r.custom,e)}const YV=vw(()=>window.ScrollTimeline!==void 0);class KV{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(YV()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WV extends KV{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function kw(e,t){return e?e[t]||e.default||e:void 0}const Ox=2e4;function LP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ox;)t+=n,r=e.next(t);return t>=Ox?1/0:t}function Dw(e){return typeof e=="function"}function CN(e,t){e.timeline=t,e.onfinish=null}const Pw=e=>Array.isArray(e)&&typeof e[0]=="number",XV={linearEasing:void 0};function QV(e,t){const n=vw(e);return()=>{var r;return(r=XV[t])!==null&&r!==void 0?r:n()}}const Oh=QV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),BP=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(xl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function zP(e){return!!(typeof e=="function"&&Oh()||!e||typeof e=="string"&&(e in kx||Oh())||Pw(e)||Array.isArray(e)&&e.every(zP))}const cu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,kx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function UP(e,t){if(e)return typeof e=="function"&&Oh()?BP(e,t):Pw(e)?cu(e):Array.isArray(e)?e.map(n=>UP(n,t)||kx.easeOut):kx[e]}const qr={x:!1,y:!1};function VP(){return qr.x||qr.y}function ZV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function FP(e,t){const n=ZV(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function NN(e){return t=>{t.pointerType==="touch"||VP()||e(t)}}function JV(e,t,n={}){const[r,i,s]=FP(e,n),l=NN(u=>{const{target:d}=u,h=t(u);if(typeof h!="function"||!d)return;const p=NN(g=>{h(g),d.removeEventListener("pointerleave",p)});d.addEventListener("pointerleave",p,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),s}const HP=(e,t)=>t?e===t?!0:HP(e,t.parentElement):!1,Mw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tF(e){return eF.has(e.tagName)||e.tabIndex!==-1}const uu=new WeakSet;function TN(e){return t=>{t.key==="Enter"&&e(t)}}function S0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=TN(()=>{if(uu.has(n))return;S0(n,"down");const i=TN(()=>{S0(n,"up")}),s=()=>S0(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function AN(e){return Mw(e)&&!VP()}function rF(e,t,n={}){const[r,i,s]=FP(e,n),l=u=>{const d=u.currentTarget;if(!AN(u)||uu.has(d))return;uu.add(d);const h=t(u),p=(x,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!AN(x)||!uu.has(d))&&(uu.delete(d),typeof h=="function"&&h(x,{success:S}))},g=x=>{p(x,n.useGlobalTarget||HP(d,x.target))},v=x=>{p(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{!tF(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",h=>nF(h,i),i)}),s}function iF(e){return e==="x"||e==="y"?qr[e]?null:(qr[e]=!0,()=>{qr[e]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}const $P=new Set(["width","height","top","left","right","bottom",...Rl]);let vh;function aF(){vh=void 0}const li={now:()=>(vh===void 0&&li.set(pn.isProcessing||eV.useManualTiming?pn.timestamp:performance.now()),vh),set:e=>{vh=e,queueMicrotask(aF)}};function Rw(e,t){e.indexOf(t)===-1&&e.push(t)}function Iw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Lw{constructor(){this.subscriptions=[]}add(t){return Rw(this.subscriptions,t),()=>Iw(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qP(e,t){return t?e*(1e3/t):0}const ON=30,sF=e=>!isNaN(parseFloat(e));class oF{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=li.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=li.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Lw);const r=this.events[t].add(n);return t==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ON)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ON);return qP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(e,t){return new oF(e,t)}function lF(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tu(n))}function cF(e,t){const n=Wm(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const l in s){const u=wV(s[l]);lF(e,l,u)}}function uF(e){return!!(En(e)&&e.add)}function Dx(e,t){const n=e.getValue("willChange");if(uF(n))return n.add(t)}function GP(e){return e.props[SP]}const YP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dF=1e-7,fF=12;function hF(e,t,n,r,i){let s,l,u=0;do l=t+(n-t)/2,s=YP(l,r,i)-e,s>0?n=l:t=l;while(Math.abs(s)>dF&&++u<fF);return l}function rd(e,t,n,r){if(e===t&&n===r)return mr;const i=s=>hF(s,0,1,e,n);return s=>s===0||s===1?s:YP(i(s),t,r)}const KP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,WP=e=>t=>1-e(1-t),XP=rd(.33,1.53,.69,.99),Bw=WP(XP),QP=KP(Bw),ZP=e=>(e*=2)<1?.5*Bw(e):.5*(2-Math.pow(2,-10*(e-1))),zw=e=>1-Math.sin(Math.acos(e)),JP=WP(zw),eM=KP(zw),tM=e=>/^0[^.\s]+$/u.test(e);function mF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tM(e):!0}const mu=e=>Math.round(e*1e5)/1e5,Uw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pF(e){return e==null}const gF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vw=(e,t)=>n=>!!(typeof n=="string"&&gF.test(n)&&n.startsWith(e)||t&&!pF(n)&&Object.prototype.hasOwnProperty.call(n,t)),nM=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,l,u]=r.match(Uw);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},vF=e=>Xi(0,255,e),_0={...Il,transform:e=>Math.round(vF(e))},Is={test:Vw("rgb","red"),parse:nM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+_0.transform(e)+", "+_0.transform(t)+", "+_0.transform(n)+", "+mu(Nu.transform(r))+")"};function yF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Px={test:Vw("#"),parse:yF,transform:Is.transform},al={test:Vw("hsl","hue"),parse:nM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+oi.transform(mu(t))+", "+oi.transform(mu(n))+", "+mu(Nu.transform(r))+")"},bn={test:e=>Is.test(e)||Px.test(e)||al.test(e),parse:e=>Is.test(e)?Is.parse(e):al.test(e)?al.parse(e):Px.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Is.transform(e):al.transform(e)},xF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Uw))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(xF))===null||n===void 0?void 0:n.length)||0)>0}const rM="number",iM="color",wF="var",SF="var(",kN="${}",_F=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Au(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=t.replace(_F,d=>(bn.test(d)?(r.color.push(s),i.push(iM),n.push(bn.parse(d))):d.startsWith(SF)?(r.var.push(s),i.push(wF),n.push(d)):(r.number.push(s),i.push(rM),n.push(parseFloat(d))),++s,kN)).split(kN);return{values:n,split:u,indexes:r,types:i}}function aM(e){return Au(e).values}function sM(e){const{split:t,types:n}=Au(e),r=t.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=t[l],i[l]!==void 0){const u=n[l];u===rM?s+=mu(i[l]):u===iM?s+=bn.transform(i[l]):s+=i[l]}return s}}const EF=e=>typeof e=="number"?0:e;function jF(e){const t=aM(e);return sM(e)(t.map(EF))}const Qa={test:bF,parse:aM,createTransformer:sM,getAnimatableNone:jF},CF=new Set(["brightness","contrast","saturate","opacity"]);function NF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Uw)||[];if(!r)return e;const i=n.replace(r,"");let s=CF.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const TF=/\b([a-z-]*)\(.*?\)/gu,Mx={...Qa,getAnimatableNone:e=>{const t=e.match(TF);return t?t.map(NF).join(" "):e}},AF={...jw,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Mx,WebkitFilter:Mx},Fw=e=>AF[e];function oM(e,t){let n=Fw(e);return n!==Mx&&(n=Qa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OF=new Set(["auto","none","0"]);function kF(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!OF.has(s)&&Au(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=oM(n,i)}const DN=e=>e===Il||e===je,PN=(e,t)=>parseFloat(e.split(", ")[t]),MN=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return PN(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?PN(s[1],e):0}},DF=new Set(["x","y","z"]),PF=Rl.filter(e=>!DF.has(e));function MF(e){const t=[];return PF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const wl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:MN(4,13),y:MN(5,14)};wl.translateX=wl.x;wl.translateY=wl.y;const Hs=new Set;let Rx=!1,Ix=!1;function lM(){if(Ix){const e=Array.from(Hs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=MF(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,l])=>{var u;(u=r.getValue(s))===null||u===void 0||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ix=!1,Rx=!1,Hs.forEach(e=>e.complete()),Hs.clear()}function cM(){Hs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ix=!0)})}function RF(){cM(),lM()}class Hw{constructor(t,n,r,i,s,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hs.add(this),Rx||(Rx=!0,mt.read(cM),mt.resolveKeyframes(lM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const l=i==null?void 0:i.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),i&&l===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const uM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),IF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LF(e){const t=IF.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function dM(e,t,n=1){const[r,i]=LF(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const l=s.trim();return uM(l)?parseFloat(l):l}return Ew(i)?dM(i,t,n+1):i}const fM=e=>t=>t.test(e),BF={test:e=>e==="auto",parse:e=>e},hM=[Il,je,oi,Va,NV,CV,BF],RN=e=>hM.find(fM(e));class mM extends Hw{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Ew(h))){const p=dM(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!$P.has(r)||t.length!==2)return;const[i,s]=t,l=RN(i),u=RN(s);if(l!==u)if(DN(l)&&DN(u))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)mF(t[i])&&r.push(i);r.length&&kF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=wl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const IN=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qa.test(e)||e==="0")&&!e.startsWith("url("));function zF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UF(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=IN(i,t),u=IN(s,t);return!l||!u?!1:zF(e)||(n==="spring"||Dw(n))&&r}const VF=e=>e!==null;function Xm(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(VF),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const FF=40;class pM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=li.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>FF?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&RF(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=li.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:l,onComplete:u,onUpdate:d,isGenerator:h}=this.options;if(!h&&!UF(t,r,i,s))if(l)this.options.duration=0;else{d&&d(Xm(t,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const bt=(e,t,n)=>e+(t-e)*n;function E0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function HF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,l=0;if(!t)i=s=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;i=E0(d,u,e+1/3),s=E0(d,u,e),l=E0(d,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function kh(e,t){return n=>n>0?t:e}const j0=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},$F=[Px,Is,al],qF=e=>$F.find(t=>t.test(e));function LN(e){const t=qF(e);if(!t)return!1;let n=t.parse(e);return t===al&&(n=HF(n)),n}const BN=(e,t)=>{const n=LN(e),r=LN(t);if(!n||!r)return kh(e,t);const i={...n};return s=>(i.red=j0(n.red,r.red,s),i.green=j0(n.green,r.green,s),i.blue=j0(n.blue,r.blue,s),i.alpha=bt(n.alpha,r.alpha,s),Is.transform(i))},GF=(e,t)=>n=>t(e(n)),id=(...e)=>e.reduce(GF),Lx=new Set(["none","hidden"]);function YF(e,t){return Lx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function KF(e,t){return n=>bt(e,t,n)}function $w(e){return typeof e=="number"?KF:typeof e=="string"?Ew(e)?kh:bn.test(e)?BN:QF:Array.isArray(e)?gM:typeof e=="object"?bn.test(e)?BN:WF:kh}function gM(e,t){const n=[...e],r=n.length,i=e.map((s,l)=>$w(s)(s,t[l]));return s=>{for(let l=0;l<r;l++)n[l]=i[l](s);return n}}function WF(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=$w(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function XF(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],u=e.indexes[l][i[l]],d=(n=e.values[u])!==null&&n!==void 0?n:0;r[s]=d,i[l]++}return r}const QF=(e,t)=>{const n=Qa.createTransformer(t),r=Au(e),i=Au(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lx.has(e)&&!i.values.length||Lx.has(t)&&!r.values.length?YF(e,t):id(gM(XF(r,i),i.values),n):kh(e,t)};function vM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?bt(e,t,n):$w(e)(e,t)}const ZF=5;function yM(e,t,n){const r=Math.max(t-ZF,0);return qP(n-e(r),t-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},C0=.001;function JF({duration:e=_t.duration,bounce:t=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let i,s,l=1-t;l=Xi(_t.minDamping,_t.maxDamping,l),e=Xi(_t.minDuration,_t.maxDuration,qi(e)),l<1?(i=h=>{const p=h*l,g=p*e,v=p-n,x=Bx(h,l),S=Math.exp(-g);return C0-v/x*S},s=h=>{const g=h*l*e,v=g*n+n,x=Math.pow(l,2)*Math.pow(h,2)*e,S=Math.exp(-g),_=Bx(Math.pow(h,2),l);return(-i(h)+C0>0?-1:1)*((v-x)*S)/_}):(i=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-C0+p*g},s=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const u=5/e,d=t7(i,s,u);if(e=$i(e),isNaN(d))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const e7=12;function t7(e,t,n){let r=n;for(let i=1;i<e7;i++)r=r-e(r)/t(r);return r}function Bx(e,t){return e*Math.sqrt(1-t*t)}const n7=["duration","bounce"],r7=["stiffness","damping","mass"];function zN(e,t){return t.some(n=>e[n]!==void 0)}function i7(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!zN(e,r7)&&zN(e,n7))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:_t.mass,stiffness:i,damping:s}}else{const n=JF(e);t={...t,...n,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function xM(e=_t.visualDuration,t=_t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:x}=i7({...n,velocity:-qi(n.velocity||0)}),S=v||0,_=h/(2*Math.sqrt(d*p)),E=l-s,j=qi(Math.sqrt(d/p)),A=Math.abs(E)<5;r||(r=A?_t.restSpeed.granular:_t.restSpeed.default),i||(i=A?_t.restDelta.granular:_t.restDelta.default);let N;if(_<1){const T=Bx(j,_);N=D=>{const I=Math.exp(-_*j*D);return l-I*((S+_*j*E)/T*Math.sin(T*D)+E*Math.cos(T*D))}}else if(_===1)N=T=>l-Math.exp(-j*T)*(E+(S+j*E)*T);else{const T=j*Math.sqrt(_*_-1);N=D=>{const I=Math.exp(-_*j*D),B=Math.min(T*D,300);return l-I*((S+_*j*E)*Math.sinh(B)+T*E*Math.cosh(B))/T}}const P={calculatedDuration:x&&g||null,next:T=>{const D=N(T);if(x)u.done=T>=g;else{let I=0;_<1&&(I=T===0?$i(S):yM(N,T,D));const B=Math.abs(I)<=r,$=Math.abs(l-D)<=i;u.done=B&&$}return u.value=u.done?l:D,u},toString:()=>{const T=Math.min(LP(P),Ox),D=BP(I=>P.next(T*I).value,T,30);return T+"ms "+D}};return P}function UN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},x=B=>u!==void 0&&B<u||d!==void 0&&B>d,S=B=>u===void 0?d:d===void 0||Math.abs(u-B)<Math.abs(d-B)?u:d;let _=n*t;const E=g+_,j=l===void 0?E:l(E);j!==E&&(_=j-g);const A=B=>-_*Math.exp(-B/r),N=B=>j+A(B),P=B=>{const $=A(B),Z=N(B);v.done=Math.abs($)<=h,v.value=v.done?j:Z};let T,D;const I=B=>{x(v.value)&&(T=B,D=xM({keyframes:[v.value,S(v.value)],velocity:yM(N,B,v.value),damping:i,stiffness:s,restDelta:h,restSpeed:p}))};return I(0),{calculatedDuration:null,next:B=>{let $=!1;return!D&&T===void 0&&($=!0,P(B),I(B)),T!==void 0&&B>=T?D.next(B-T):(!$&&P(B),v)}}}const a7=rd(.42,0,1,1),s7=rd(0,0,.58,1),bM=rd(.42,0,.58,1),o7=e=>Array.isArray(e)&&typeof e[0]!="number",l7={linear:mr,easeIn:a7,easeInOut:bM,easeOut:s7,circIn:zw,circInOut:eM,circOut:JP,backIn:Bw,backInOut:QP,backOut:XP,anticipate:ZP},VN=e=>{if(Pw(e)){vP(e.length===4);const[t,n,r,i]=e;return rd(t,n,r,i)}else if(typeof e=="string")return l7[e];return e};function c7(e,t,n){const r=[],i=n||vM,s=e.length-1;for(let l=0;l<s;l++){let u=i(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||mr:t;u=id(d,u)}r.push(u)}return r}function u7(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(vP(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=c7(t,r,i),d=u.length,h=p=>{if(l&&p<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=xl(e[g],e[g+1],p);return u[g](v)};return n?p=>h(Xi(e[0],e[s-1],p)):h}function d7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=xl(0,t,r);e.push(bt(n,1,i))}}function f7(e){const t=[0];return d7(t,e.length-1),t}function h7(e,t){return e.map(n=>n*t)}function m7(e,t){return e.map(()=>t||bM).splice(0,e.length-1)}function Dh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=o7(r)?r.map(VN):VN(r),s={done:!1,value:t[0]},l=h7(n&&n.length===t.length?n:f7(t),e),u=u7(l,t,{ease:Array.isArray(i)?i:m7(t,i)});return{calculatedDuration:e,next:d=>(s.value=u(d),s.done=d>=e,s)}}const p7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>mt.update(t,!0),stop:()=>Xa(t),now:()=>pn.isProcessing?pn.timestamp:li.now()}},g7={decay:UN,inertia:UN,tween:Dh,keyframes:Dh,spring:xM},v7=e=>e/100;class qw extends pM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Hw,u=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(s,u,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=this.options,u=Dw(n)?n:g7[n]||Dh;let d,h;u!==Dh&&typeof t[0]!="number"&&(d=id(v7,vM(t[0],t[1])),t=[0,100]);const p=u({...this.options,keyframes:t});s==="mirror"&&(h=u({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=LP(p));const{calculatedDuration:g}=p,v=g+i,x=v*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return s.next(0);const{delay:v,repeat:x,repeatType:S,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const j=this.currentTime-v*(this.speed>=0?1:-1),A=this.speed>=0?j<0:j>p;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let N=this.currentTime,P=s;if(x){const B=Math.min(this.currentTime,p)/g;let $=Math.floor(B),Z=B%1;!Z&&B>=1&&(Z=1),Z===1&&$--,$=Math.min($,x+1),!!($%2)&&(S==="reverse"?(Z=1-Z,_&&(Z-=_/g)):S==="mirror"&&(P=l)),N=Xi(0,1,Z)*g}const T=A?{done:!1,value:d[0]}:P.next(N);u&&(T.value=u(T.value));let{done:D}=T;!A&&h!==null&&(D=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return I&&i!==void 0&&(T.value=Xm(d,this.options,i)),E&&E(T.value),I&&this.finish(),T}get duration(){const{resolved:t}=this;return t?qi(t.calculatedDuration):0}get time(){return qi(this.currentTime)}set time(t){t=$i(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=qi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=p7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const y7=new Set(["opacity","clipPath","filter","transform"]);function x7(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:u="easeInOut",times:d}={}){const h={[t]:n};d&&(h.offset=d);const p=UP(u,i);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}const b7=vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ph=10,w7=2e4;function S7(e){return Dw(e.type)||e.type==="spring"||!zP(e.ease)}function _7(e,t){const n=new qw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<w7;)r=n.sample(s),i.push(r.value),s+=Ph;return{times:void 0,keyframes:i,duration:s-Ph,ease:"linear"}}const wM={anticipate:ZP,backInOut:QP,circInOut:eM};function E7(e){return e in wM}class FN extends pM{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new mM(s,(l,u)=>this.onKeyframesResolved(l,u),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:l,motionValue:u,name:d,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Oh()&&E7(s)&&(s=wM[s]),S7(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:S,..._}=this.options,E=_7(t,_);t=E.keyframes,t.length===1&&(t[1]=t[0]),r=E.duration,i=E.times,s=E.ease,l="keyframes"}const p=x7(u.owner.current,d,t,{...this.options,duration:r,times:i,ease:s});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(CN(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;u.set(Xm(t,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return qi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return qi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=$i(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return mr;const{animation:r}=n;CN(r,t)}return mr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:l,times:u}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...x}=this.options,S=new qw({...x,keyframes:r,duration:i,type:s,ease:l,times:u,isGenerator:!0}),_=$i(this.time);h.setWithVelocity(S.sample(_-Ph).value,S.sample(_).value,Ph)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:l,type:u}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return b7()&&r&&y7.has(r)&&!d&&!h&&!i&&s!=="mirror"&&l!==0&&u!=="inertia"}}const j7={type:"spring",stiffness:500,damping:25,restSpeed:10},C7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),N7={type:"keyframes",duration:.8},T7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A7=(e,{keyframes:t})=>t.length>2?N7:oo.has(e)?e.startsWith("scale")?C7(t[1]):j7:T7;function O7({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Gw=(e,t,n,r={},i,s)=>l=>{const u=kw(r,e)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-$i(d);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-h,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:s?void 0:i};O7(u)||(p={...p,...A7(e,p)}),p.duration&&(p.duration=$i(p.duration)),p.repeatDelay&&(p.repeatDelay=$i(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!s&&t.get()!==void 0){const v=Xm(p.keyframes,u);if(v!==void 0)return mt.update(()=>{p.onUpdate(v),p.onComplete()}),new WV([])}return!s&&FN.supports(p)?new FN(p):new qw(p)};function k7({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function SM(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:l=e.getDefaultTransition(),transitionEnd:u,...d}=t;r&&(l=r);const h=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const g in d){const v=e.getValue(g,(s=e.latestValues[g])!==null&&s!==void 0?s:null),x=d[g];if(x===void 0||p&&k7(p,g))continue;const S={delay:n,...kw(l||{},g)};let _=!1;if(window.MotionHandoffAnimation){const j=GP(e);if(j){const A=window.MotionHandoffAnimation(j,g,mt);A!==null&&(S.startTime=A,_=!0)}}Dx(e,g),v.start(Gw(g,v,x,e.shouldReduceMotion&&$P.has(g)?{type:!1}:S,e,_));const E=v.animation;E&&h.push(E)}return u&&Promise.all(h).then(()=>{mt.update(()=>{u&&cF(e,u)})}),h}function zx(e,t,n={}){var r;const i=Wm(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const l=i?()=>Promise.all(SM(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return D7(e,t,p+h,g,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function D7(e,t,n=0,r=0,i=1,s){const l=[],u=(e.variantChildren.size-1)*r,d=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(e.variantChildren).sort(P7).forEach((h,p)=>{h.notify("AnimationStart",t),l.push(zx(h,t,{...s,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function P7(e,t){return e.sortNodePosition(t)}function M7(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>zx(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=zx(e,t,n);else{const i=typeof t=="function"?Wm(e,t,n.custom):t;r=Promise.all(SM(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const R7=xw.length;function _M(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?_M(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<R7;n++){const r=xw[n],i=e.props[r];(Cu(i)||i===!1)&&(t[r]=i)}return t}const I7=[...yw].reverse(),L7=yw.length;function B7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>M7(e,n,r)))}function z7(e){let t=B7(e),n=HN(),r=!0;const i=d=>(h,p)=>{var g;const v=Wm(e,p,d==="exit"?(g=e.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:S,..._}=v;h={...h,..._,...S}}return h};function s(d){t=d(e)}function l(d){const{props:h}=e,p=_M(e.parent)||{},g=[],v=new Set;let x={},S=1/0;for(let E=0;E<L7;E++){const j=I7[E],A=n[j],N=h[j]!==void 0?h[j]:p[j],P=Cu(N),T=j===d?A.isActive:null;T===!1&&(S=E);let D=N===p[j]&&N!==h[j]&&P;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),A.protectedKeys={...x},!A.isActive&&T===null||!N&&!A.prevProp||Ym(N)||typeof N=="boolean")continue;const I=U7(A.prevProp,N);let B=I||j===d&&A.isActive&&!D&&P||E>S&&P,$=!1;const Z=Array.isArray(N)?N:[N];let U=Z.reduce(i(j),{});T===!1&&(U={});const{prevResolvedValues:J={}}=A,oe={...J,...U},de=k=>{B=!0,v.has(k)&&($=!0,v.delete(k)),A.needsAnimating[k]=!0;const Y=e.getValue(k);Y&&(Y.liveStyle=!1)};for(const k in oe){const Y=U[k],F=J[k];if(x.hasOwnProperty(k))continue;let se=!1;Ax(Y)&&Ax(F)?se=!IP(Y,F):se=Y!==F,se?Y!=null?de(k):v.add(k):Y!==void 0&&v.has(k)?de(k):A.protectedKeys[k]=!0}A.prevProp=N,A.prevResolvedValues=U,A.isActive&&(x={...x,...U}),r&&e.blockInitialAnimation&&(B=!1),B&&(!(D&&I)||$)&&g.push(...Z.map(k=>({animation:k,options:{type:j}})))}if(v.size){const E={};v.forEach(j=>{const A=e.getBaseTarget(j),N=e.getValue(j);N&&(N.liveStyle=!0),E[j]=A??null}),g.push({animation:E})}let _=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(g):Promise.resolve()}function u(d,h){var p;if(n[d].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(d,h)}),n[d].isActive=h;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>n,reset:()=>{n=HN(),r=!0}}}function U7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IP(t,e):!1}function Ts(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HN(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}class ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}class V7 extends ns{constructor(t){super(t),t.animationState||(t.animationState=z7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ym(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let F7=0;class H7 extends ns{constructor(){super(...arguments),this.id=F7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $7={animation:{Feature:V7},exit:{Feature:H7}};function Ou(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ad(e){return{point:{x:e.pageX,y:e.pageY}}}const q7=e=>t=>Mw(t)&&e(t,ad(t));function pu(e,t,n,r){return Ou(e,t,q7(n),r)}const $N=(e,t)=>Math.abs(e-t);function G7(e,t){const n=$N(e.x,t.x),r=$N(e.y,t.y);return Math.sqrt(n**2+r**2)}class EM{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=T0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=G7(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:S}=g,{timestamp:_}=pn;this.history.push({...S,timestamp:_});const{onStart:E,onMove:j}=this.handlers;v||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=N0(v,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=T0(g.type==="pointercancel"?this.lastMoveEventInfo:N0(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),S&&S(g,E)},!Mw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=ad(t),u=N0(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=pn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,T0(u,this.history)),this.removeListeners=id(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xa(this.updatePoint)}}function N0(e,t){return t?{point:t(e.point)}:e}function qN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function T0({point:e},t){return{point:e,delta:qN(e,jM(t)),offset:qN(e,Y7(t)),velocity:K7(t,.1)}}function Y7(e){return e[0]}function jM(e){return e[e.length-1]}function K7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=jM(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>$i(t)));)n--;if(!r)return{x:0,y:0};const s=qi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const CM=1e-4,W7=1-CM,X7=1+CM,NM=.01,Q7=0-NM,Z7=0+NM;function vr(e){return e.max-e.min}function J7(e,t,n){return Math.abs(e-t)<=n}function GN(e,t,n,r=.5){e.origin=r,e.originPoint=bt(t.min,t.max,e.origin),e.scale=vr(n)/vr(t),e.translate=bt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=W7&&e.scale<=X7||isNaN(e.scale))&&(e.scale=1),(e.translate>=Q7&&e.translate<=Z7||isNaN(e.translate))&&(e.translate=0)}function gu(e,t,n,r){GN(e.x,t.x,n.x,r?r.originX:void 0),GN(e.y,t.y,n.y,r?r.originY:void 0)}function YN(e,t,n){e.min=n.min+t.min,e.max=e.min+vr(t)}function eH(e,t,n){YN(e.x,t.x,n.x),YN(e.y,t.y,n.y)}function KN(e,t,n){e.min=t.min-n.min,e.max=e.min+vr(t)}function vu(e,t,n){KN(e.x,t.x,n.x),KN(e.y,t.y,n.y)}function tH(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?bt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?bt(n,e,r.max):Math.min(e,n)),e}function WN(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function nH(e,{top:t,left:n,bottom:r,right:i}){return{x:WN(e.x,n,i),y:WN(e.y,t,r)}}function XN(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function rH(e,t){return{x:XN(e.x,t.x),y:XN(e.y,t.y)}}function iH(e,t){let n=.5;const r=vr(e),i=vr(t);return i>r?n=xl(t.min,t.max-r,e.min):r>i&&(n=xl(e.min,e.max-i,t.min)),Xi(0,1,n)}function aH(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ux=.35;function sH(e=Ux){return e===!1?e=0:e===!0&&(e=Ux),{x:QN(e,"left","right"),y:QN(e,"top","bottom")}}function QN(e,t,n){return{min:ZN(e,t),max:ZN(e,n)}}function ZN(e,t){return typeof e=="number"?e:e[t]||0}const JN=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:JN(),y:JN()}),eT=()=>({min:0,max:0}),At=()=>({x:eT(),y:eT()});function Pr(e){return[e("x"),e("y")]}function TM({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function A0(e){return e===void 0||e===1}function Vx({scale:e,scaleX:t,scaleY:n}){return!A0(e)||!A0(t)||!A0(n)}function As(e){return Vx(e)||AM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function AM(e){return tT(e.x)||tT(e.y)}function tT(e){return e&&e!=="0%"}function Mh(e,t,n){const r=e-n,i=t*r;return n+i}function nT(e,t,n,r,i){return i!==void 0&&(e=Mh(e,i,r)),Mh(e,n,r)+t}function Fx(e,t=0,n=1,r,i){e.min=nT(e.min,t,n,r,i),e.max=nT(e.max,t,n,r,i)}function OM(e,{x:t,y:n}){Fx(e.x,t.translate,t.scale,t.originPoint),Fx(e.y,n.translate,n.scale,n.originPoint)}const rT=.999999999999,iT=1.0000000000001;function cH(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,l;for(let u=0;u<i;u++){s=n[u],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ll(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,OM(e,l)),r&&As(s.latestValues)&&ll(e,s.latestValues))}t.x<iT&&t.x>rT&&(t.x=1),t.y<iT&&t.y>rT&&(t.y=1)}function ol(e,t){e.min=e.min+t,e.max=e.max+t}function aT(e,t,n,r,i=.5){const s=bt(e.min,e.max,i);Fx(e,t,n,s,r)}function ll(e,t){aT(e.x,t.x,t.scaleX,t.scale,t.originX),aT(e.y,t.y,t.scaleY,t.scale,t.originY)}function kM(e,t){return TM(lH(e.getBoundingClientRect(),t))}function uH(e,t,n){const r=kM(e,n),{scroll:i}=t;return i&&(ol(r.x,i.offset.x),ol(r.y,i.offset.y)),r}const DM=({current:e})=>e?e.ownerDocument.defaultView:null,dH=new WeakMap;class fH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ad(p).point)},s=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iF(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pr(E=>{let j=this.getAxisMotionValue(E).get()||0;if(oi.test(j)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[E];N&&(j=vr(N)*(parseFloat(j)/100))}}this.originPoint[E]=j}),S&&mt.postRender(()=>S(p,g)),Dx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=hH(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),_&&_(p,g)},u=(p,g)=>this.stop(p,g),d=()=>Pr(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new EM(t,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:DM(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&mt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Xf(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=tH(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&il(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=nH(i.layoutBox,n):this.constraints=!1,this.elastic=sH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Pr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=aH(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!il(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uH(r,i.root,this.visualElement.getTransformPagePoint());let l=rH(i.layout.layoutBox,s);if(n){const u=n(oH(l));this.hasMutatedConstraints=!!u,u&&(l=TM(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Pr(p=>{if(!Xf(p,n,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,S={type:"inertia",velocity:r?t[p]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Dx(this.visualElement,t),r.start(Gw(t,r,0,n,this.visualElement,!1))}stopAnimation(){Pr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Pr(n=>{const{drag:r}=this.getProps();if(!Xf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];s.set(t[n]-bt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!il(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=iH({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pr(l=>{if(!Xf(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(bt(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;dH.set(this.visualElement,this);const t=this.visualElement.current,n=pu(t,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();il(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),mt.read(r);const l=Ou(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Pr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=Ux,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function Xf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function hH(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class mH extends ns{constructor(t){super(t),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new fH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sT=e=>(t,n)=>{e&&mt.postRender(()=>e(t,n))};class pH extends ns{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(t){this.session=new EM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sT(t),onStart:sT(n),onMove:r,onEnd:(s,l)=>{delete this.session,i&&mt.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const n=oT(e,t.target.x),r=oT(e,t.target.y);return`${n}% ${r}%`}},gH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qa.parse(e);if(i.length>5)return r;const s=Qa.createTransformer(e),l=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;i[0+l]/=u,i[1+l]/=d;const h=bt(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}};class vH extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;LV(yH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,l=r.projection;return l&&(l.isPresent=s,i||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||mt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ww.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PM(e){const[t,n]=pP(),r=w.useContext(hw);return f.jsx(vH,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(_P),isPresent:t,safeToRemove:n})}const yH={borderRadius:{...Xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xc,borderTopRightRadius:Xc,borderBottomLeftRadius:Xc,borderBottomRightRadius:Xc,boxShadow:gH};function xH(e,t,n){const r=En(e)?e:Tu(e);return r.start(Gw("",r,t,n)),r.animation}function bH(e){return e instanceof SVGElement&&e.tagName!=="svg"}const wH=(e,t)=>e.depth-t.depth;class SH{constructor(){this.children=[],this.isDirty=!1}add(t){Rw(this.children,t),this.isDirty=!0}remove(t){Iw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wH),this.isDirty=!1,this.children.forEach(t)}}function _H(e,t){const n=li.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Xa(r),e(s-t))};return mt.read(r,!0),()=>Xa(r)}const MM=["TopLeft","TopRight","BottomLeft","BottomRight"],EH=MM.length,lT=e=>typeof e=="string"?parseFloat(e):e,cT=e=>typeof e=="number"||je.test(e);function jH(e,t,n,r,i,s){i?(e.opacity=bt(0,n.opacity!==void 0?n.opacity:1,CH(r)),e.opacityExit=bt(t.opacity!==void 0?t.opacity:1,0,NH(r))):s&&(e.opacity=bt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<EH;l++){const u=`border${MM[l]}Radius`;let d=uT(t,u),h=uT(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||cT(d)===cT(h)?(e[u]=Math.max(bt(lT(d),lT(h),r),0),(oi.test(h)||oi.test(d))&&(e[u]+="%")):e[u]=h}(t.rotate||n.rotate)&&(e.rotate=bt(t.rotate||0,n.rotate||0,r))}function uT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CH=RM(0,.5,JP),NH=RM(.5,.95,mr);function RM(e,t,n){return r=>r<e?0:r>t?1:n(xl(e,t,r))}function dT(e,t){e.min=t.min,e.max=t.max}function Ar(e,t){dT(e.x,t.x),dT(e.y,t.y)}function fT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hT(e,t,n,r,i){return e-=t,e=Mh(e,1/n,r),i!==void 0&&(e=Mh(e,1/i,r)),e}function TH(e,t=0,n=1,r=.5,i,s=e,l=e){if(oi.test(t)&&(t=parseFloat(t),t=bt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=bt(s.min,s.max,r);e===s&&(u-=t),e.min=hT(e.min,t,n,u,i),e.max=hT(e.max,t,n,u,i)}function mT(e,t,[n,r,i],s,l){TH(e,t[n],t[r],t[i],t.scale,s,l)}const AH=["x","scaleX","originX"],OH=["y","scaleY","originY"];function pT(e,t,n,r){mT(e.x,t,AH,n?n.x:void 0,r?r.x:void 0),mT(e.y,t,OH,n?n.y:void 0,r?r.y:void 0)}function gT(e){return e.translate===0&&e.scale===1}function IM(e){return gT(e.x)&&gT(e.y)}function vT(e,t){return e.min===t.min&&e.max===t.max}function kH(e,t){return vT(e.x,t.x)&&vT(e.y,t.y)}function yT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function LM(e,t){return yT(e.x,t.x)&&yT(e.y,t.y)}function xT(e){return vr(e.x)/vr(e.y)}function bT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DH{constructor(){this.members=[]}add(t){Rw(this.members,t),t.scheduleRender()}remove(t){if(Iw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PH(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:x,skewY:S}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},du=typeof window<"u"&&window.MotionDebug!==void 0,O0=["","X","Y","Z"],MH={visibility:"hidden"},wT=1e3;let RH=0;function k0(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function BM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GP(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&BM(r)}function zM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=t==null?void 0:t()){this.id=RH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,du&&(Os.totalNodes=Os.resolvedTargetDeltas=Os.recalculatedProjection=0),this.nodes.forEach(BH),this.nodes.forEach(HH),this.nodes.forEach($H),this.nodes.forEach(zH),du&&window.MotionDebug.record(Os)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new SH)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Lw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bH(l),this.instance=l;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=_H(v,250),yh.hasAnimatedSinceResize&&(yh.hasAnimatedSinceResize=!1,this.nodes.forEach(_T))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||WH,{onLayoutAnimationStart:E,onLayoutAnimationComplete:j}=p.getProps(),A=!this.targetLayout||!LM(this.targetLayout,S)||x,N=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,N);const P={...kw(_,"layout"),onPlay:E,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else v||_T(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qH),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ST);return}this.isUpdating||this.nodes.forEach(VH),this.isUpdating=!1,this.nodes.forEach(FH),this.nodes.forEach(IH),this.nodes.forEach(LH),this.clearAllSnapshots();const u=li.now();pn.delta=Xi(0,1e3/60,u-pn.timestamp),pn.timestamp=u,pn.isProcessing=!0,w0.update.process(pn),w0.preRender.process(pn),w0.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ww.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UH),this.sharedNodes.forEach(GH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!IM(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(u||As(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),XH(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return At();const d=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(QH))){const{scroll:p}=this.root;p&&(ol(d.x,p.offset.x),ol(d.y,p.offset.y))}return d}removeElementScroll(l){var u;const d=At();if(Ar(d,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Ar(d,l),ol(d.x,g.offset.x),ol(d.y,g.offset.y))}return d}applyTransform(l,u=!1){const d=At();Ar(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ll(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),As(p.latestValues)&&ll(d,p.latestValues)}return As(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(l){const u=At();Ar(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!As(h.latestValues))continue;Vx(h.latestValues)&&h.updateSnapshot();const p=At(),g=h.measurePageBox();Ar(p,g),pT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return As(this.latestValues)&&pT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),vu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),OM(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),vu(this.relativeTargetOrigin,this.target,x.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}du&&Os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vx(this.parent.latestValues)||AM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Ar(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;cH(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=At());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fT(this.prevProjectionDelta.x,this.projectionDelta.x),fT(this.prevProjectionDelta.y,this.projectionDelta.y)),gu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!bT(this.projectionDelta.x,this.prevProjectionDelta.x)||!bT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),du&&Os.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=At(),x=d?d.source:void 0,S=this.layout?this.layout.source:void 0,_=x!==S,E=this.getStack(),j=!E||E.members.length<=1,A=!!(_&&!j&&this.options.crossfade===!0&&!this.path.some(KH));this.animationProgress=0;let N;this.mixTargetDelta=P=>{const T=P/1e3;ET(g.x,l.x,T),ET(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YH(this.relativeTarget,this.relativeTargetOrigin,v,T),N&&kH(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=At()),Ar(N,this.relativeTarget)),_&&(this.animationValues=p,jH(p,h,this.latestValues,T,A,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{yh.hasAnimatedSinceResize=!0,this.currentAnimation=xH(0,wT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&UM(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||At();const g=vr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const v=vr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}Ar(u,d),ll(u,p),gu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new DH),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&k0("z",l,h,this.animationValues);for(let p=0;p<O0.length;p++)k0(`rotate${O0[p]}`,l,h,this.animationValues),k0(`skew${O0[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MH;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=gh(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=gh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!As(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=PH(this.projectionDeltaWithTransform,this.treeScale,v),p&&(h.transform=p(v,h.transform));const{x,y:S}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in Ah){if(v[_]===void 0)continue;const{correct:E,applyTo:j}=Ah[_],A=h.transform==="none"?v[_]:E(v[_],g);if(j){const N=j.length;for(let P=0;P<N;P++)h[j[P]]=A}else h[_]=A}return this.options.layoutId&&(h.pointerEvents=g===this?gh(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(ST),this.root.sharedNodes.clear()}}}function IH(e){e.updateLayout()}function LH(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,l=n.source!==e.layout.source;s==="size"?Pr(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=vr(v);v.min=r[g].min,v.max=v.min+x}):UM(s,n.layoutBox,r)&&Pr(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=vr(r[g]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+x)});const u=sl();gu(u,r,n.layoutBox);const d=sl();l?gu(d,e.applyTransform(i,!0),n.measuredBox):gu(d,r,n.layoutBox);const h=!IM(u);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const S=At();vu(S,n.layoutBox,v.layoutBox);const _=At();vu(_,r,x.layoutBox),LM(S,_)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function BH(e){du&&Os.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function UH(e){e.clearSnapshot()}function ST(e){e.clearMeasurements()}function VH(e){e.isLayoutDirty=!1}function FH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _T(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HH(e){e.resolveTargetDelta()}function $H(e){e.calcProjection()}function qH(e){e.resetSkewAndRotation()}function GH(e){e.removeLeadSnapshot()}function ET(e,t,n){e.translate=bt(t.translate,0,n),e.scale=bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jT(e,t,n,r){e.min=bt(t.min,n.min,r),e.max=bt(t.max,n.max,r)}function YH(e,t,n,r){jT(e.x,t.x,n.x,r),jT(e.y,t.y,n.y,r)}function KH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WH={duration:.45,ease:[.4,0,.1,1]},CT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),NT=CT("applewebkit/")&&!CT("chrome/")?Math.round:mr;function TT(e){e.min=NT(e.min),e.max=NT(e.max)}function XH(e){TT(e.x),TT(e.y)}function UM(e,t,n){return e==="position"||e==="preserve-aspect"&&!J7(xT(t),xT(n),.2)}function QH(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ZH=zM({attachResizeListener:(e,t)=>Ou(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D0={current:void 0},VM=zM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!D0.current){const e=new ZH({});e.mount(window),e.setOptions({layoutScroll:!0}),D0.current=e}return D0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JH={pan:{Feature:pH},drag:{Feature:mH,ProjectionNode:VM,MeasureLayout:PM}};function AT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&mt.postRender(()=>s(t,ad(t)))}class e9 extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=JV(t,n=>(AT(this.node,n,"Start"),r=>AT(this.node,r,"End"))))}unmount(){}}class t9 extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=id(Ou(this.node.current,"focus",()=>this.onFocus()),Ou(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OT(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&mt.postRender(()=>s(t,ad(t)))}class n9 extends ns{mount(){const{current:t}=this.node;t&&(this.unmount=rF(t,n=>(OT(this.node,n,"Start"),(r,{success:i})=>OT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hx=new WeakMap,P0=new WeakMap,r9=e=>{const t=Hx.get(e.target);t&&t(e)},i9=e=>{e.forEach(r9)};function a9({root:e,...t}){const n=e||document;P0.has(n)||P0.set(n,{});const r=P0.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(i9,{root:e,...t})),r[i]}function s9(e,t,n){const r=a9(t);return Hx.set(e,n),r.observe(e),()=>{Hx.delete(e),r.unobserve(e)}}const o9={some:0,all:1};class l9 extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:o9[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(d)};return s9(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(c9(t,n))&&this.startObserver()}unmount(){}}function c9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const u9={inView:{Feature:l9},tap:{Feature:n9},focus:{Feature:t9},hover:{Feature:e9}},d9={layout:{ProjectionNode:VM,MeasureLayout:PM}},$x={current:null},FM={current:!1};function f9(){if(FM.current=!0,!!gw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$x.current=e.matches;e.addListener(t),t()}else $x.current=!1}const h9=[...hM,bn,Qa],m9=e=>h9.find(fM(e)),kT=new WeakMap;function p9(e,t,n){for(const r in t){const i=t[r],s=n[r];if(En(i))e.addValue(r,i);else if(En(s))e.addValue(r,Tu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,Tu(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=li.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,mt.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=Km(n),this.isVariantNode=wP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const S=v[x];d[x]!==void 0&&En(S)&&S.set(d[x],!1)}}mount(t){this.current=t,kT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FM.current||f9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$x.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kT.delete(this.current),this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=oo.has(t),i=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bl){const n=bl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DT.length;r++){const i=DT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=t[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=p9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Tu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(uM(i)||tM(i))?i=parseFloat(i):!m9(i)&&Qa.test(n)&&(i=oM(t,n)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=_w(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!En(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Lw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class HM extends g9{constructor(){super(...arguments),this.KeyframeResolver=mM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function v9(e){return window.getComputedStyle(e)}class y9 extends HM{constructor(){super(...arguments),this.type="html",this.renderInstance=OP}readValueFromInstance(t,n){if(oo.has(n)){const r=Fw(n);return r&&r.default||0}else{const r=v9(t),i=(NP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kM(t,n)}build(t,n,r){Cw(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Ow(t,n,r)}}class x9 extends HM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=At}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(oo.has(n)){const r=Fw(n);return r&&r.default||0}return n=kP.has(n)?n:bw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return MP(t,n,r)}build(t,n,r){Nw(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){DP(t,n,r,i)}mount(t){this.isSVGTag=Aw(t.tagName),super.mount(t)}}const b9=(e,t)=>Sw(e)?new x9(t):new y9(t,{allowProjection:e!==w.Fragment}),w9=GV({...$7,...u9,...JH,...d9},b9),Zr=oV(w9),$M=({isOpen:e,onClose:t,children:n})=>(w.useEffect(()=>{const r=i=>{i.key==="Escape"&&t()};return e&&(document.body.style.overflow="hidden",window.addEventListener("keydown",r)),()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",r)}},[e,t]),f.jsx(qm,{children:e&&f.jsx(Zr.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsx(Zr.div,{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-5xl flex flex-col max-h-[calc(100vh-2rem)]",onClick:r=>r.stopPropagation(),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:n})})})),qM=w.createContext(void 0),S9=({children:e})=>{const[t,n]=w.useState(!1),[r,i]=w.useState(null),s=w.useCallback(u=>{i(u),n(!0)},[]),l=w.useCallback(()=>{n(!1)},[]);return f.jsxs(qM.Provider,{value:{openModal:s,closeModal:l},children:[e,f.jsx($M,{isOpen:t,onClose:l,children:r})]})},M0=({children:e,roles:t})=>{const{user:n,loading:r}=Ft(),i=zr();return r?null:n?t&&!t.includes(n.role)?f.jsx(Eh,{to:"/dashboard",replace:!0}):e:f.jsx(Eh,{to:"/login",state:{from:i},replace:!0})},Ne=({children:e,className:t="",onClick:n,disableLayoutAnimation:r=!1})=>f.jsx(Zr.div,{layout:!r,whileHover:{y:-2},transition:{type:"spring",stiffness:300,damping:20},className:`bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark overflow-hidden transition-shadow duration-300 hover:shadow-lg dark:hover:shadow-indigo-500/20 ${t}`,onClick:n,children:e}),xt=({label:e,id:t,...n})=>f.jsxs("div",{children:[f.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e}),f.jsx("input",{id:t,className:"w-full px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none disabled:bg-slate-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed",...n})]}),me=({children:e,variant:t="primary",className:n="",...r})=>{const i="px-4 py-2 rounded-2xl font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",s={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return f.jsx(Zr.button,{whileHover:{scale:1.03},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:`${i} ${s[t]} ${n}`,...r,children:e})},_9=()=>{var x,S;const[e,t]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(""),[l,u]=w.useState(!1),d=Ur(),h=zr(),{login:p}=Ft(),g=((S=(x=h.state)==null?void 0:x.from)==null?void 0:S.pathname)||"/",v=async _=>{_.preventDefault(),u(!0),s("");try{await p(e,n),d(g,{replace:!0})}catch(E){E.message==="User not found"?(s("Account not found. Redirecting to sign up..."),setTimeout(()=>{d("/signup")},1500)):s(E.message||"Failed to log in.")}finally{u(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900 p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-6",children:"SIMS Login"}),f.jsx(Ne,{children:f.jsxs("div",{className:"p-8",children:[f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsx(xt,{id:"email",label:"Email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0}),f.jsx(xt,{id:"password",label:"Password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0}),i&&f.jsx("p",{className:"text-sm text-red-500 font-semibold",children:i}),f.jsx(me,{type:"submit",className:"w-full",disabled:l,children:l?"Logging in...":"Log In"})]}),f.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400 mt-6",children:["Don't have an account? ",f.jsx("span",{onClick:()=>d("/signup"),className:"text-indigo-600 hover:underline cursor-pointer",children:"Sign Up"})]})]})})]})})},E9=()=>{const[e,t]=w.useState({firstName:"",middleName:"",lastName:"",studentId:"",email:"",password:"",confirmPassword:"",yearLevel:"",section:"",contactInfo:"",teamId:"",bio:"",interestedEvents:[],avatar:""}),[n,r]=w.useState(""),[i,s]=w.useState(!1),[l,u]=w.useState([]),[d,h]=w.useState([]),p=Ur(),{register:g}=Ft(),v=w.useRef(null);w.useEffect(()=>{(async()=>{try{const[A,N]=await Promise.all([vi(),oa()]);u(A.filter(P=>P.name!=="Amaranth Jokers")),h(N)}catch(A){console.error("Failed to fetch form data",A)}})()},[]),w.useEffect(()=>{const j=e.email.trim();if(j&&/\S+@\S+\.\S+/.test(j)){const A=`https://robohash.org/${j}.png`;t(N=>({...N,avatar:A}))}},[e.email]);const x=j=>{t({...e,[j.target.name]:j.target.value})},S=j=>{var N;const A=(N=j.target.files)==null?void 0:N[0];if(A){const P=new FileReader;P.onloadend=()=>{t(T=>({...T,avatar:P.result}))},P.readAsDataURL(A)}},_=async j=>{if(j.preventDefault(),e.password!==e.confirmPassword){r("Passwords do not match");return}s(!0),r("");try{const{confirmPassword:A,...N}=e;await g(N),p("/dashboard")}catch(A){r(A.message||"Failed to create account.")}finally{s(!1)}},E="w-full px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none";return f.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-4xl my-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-6",children:"Create SIMS Account"}),f.jsx(Ne,{className:"p-8",children:f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[f.jsxs("div",{className:"md:col-span-1 text-center",children:[f.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[f.jsx("img",{src:e.avatar||"https://i.pravatar.cc/150?u=guest",alt:"Avatar Preview",className:"w-32 h-32 rounded-full object-cover shadow-md"}),f.jsx("input",{type:"file",ref:v,onChange:S,accept:"image/*",className:"hidden"}),f.jsx(me,{type:"button",variant:"secondary",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},className:"absolute bottom-0 right-0 !rounded-full w-10 h-10 p-0 flex items-center justify-center shadow-lg",children:f.jsx("i",{className:"bi bi-camera-fill"})})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"We'll try to fetch a public avatar from your email. You can also upload your own."})]}),f.jsxs("div",{className:"md:col-span-2 space-y-4",children:[f.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[f.jsx(xt,{label:"First Name *",id:"firstName",name:"firstName",value:e.firstName,onChange:x,required:!0}),f.jsx(xt,{label:"Last Name *",id:"lastName",name:"lastName",value:e.lastName,onChange:x,required:!0})]}),f.jsx(xt,{label:"Student ID *",id:"studentId",name:"studentId",value:e.studentId,onChange:x,required:!0}),f.jsx("div",{children:f.jsx(xt,{label:"Email Address *",id:"email",name:"email",type:"email",value:e.email,onChange:x,required:!0})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(xt,{label:"Password *",id:"password",name:"password",type:"password",value:e.password,onChange:x,required:!0}),f.jsx(xt,{label:"Confirm Password *",id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:x,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Year Level *"}),f.jsxs("select",{name:"yearLevel",value:e.yearLevel,onChange:x,className:E,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Section *"}),f.jsxs("select",{name:"section",value:e.section,onChange:x,className:E,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"International",children:"International"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Team (Optional)"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:"If you select a team, a request to join will be sent to the team leader for approval."}),f.jsxs("select",{name:"teamId",value:e.teamId,onChange:x,className:E,children:[f.jsx("option",{value:"",children:"None"}),l.map(j=>f.jsx("option",{value:j.id,children:j.name},j.id))]})]}),n&&f.jsx("p",{className:"text-sm text-red-500 text-center font-semibold",children:n}),f.jsxs("div",{className:"flex flex-col gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{type:"submit",className:"w-full py-3",disabled:i,children:i?"Creating account...":"Register Account"}),f.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account? ",f.jsx("span",{onClick:()=>p("/login"),className:"text-indigo-600 hover:underline cursor-pointer",children:"Log In"})]})]})]})})]})})},PT={t1:{gradient:{from:"#4b5563",to:"#111827",glow:"rgba(55, 65, 81, 0.6)"},color:"slate-800",icon:"bi bi-suit-spade-fill"},t2:{gradient:{from:"#f43f5e",to:"#ef4444",glow:"rgba(239, 68, 68, 0.6)"},color:"red-500",icon:"bi bi-suit-heart-fill"},t3:{gradient:{from:"#22c55e",to:"#10b981",glow:"rgba(34, 197, 94, 0.6)"},color:"green-500",icon:"bi bi-suit-club-fill"},t4:{gradient:{from:"#3b82f6",to:"#0ea5e9",glow:"rgba(59, 130, 246, 0.6)"},color:"blue-500",icon:"bi bi-suit-diamond-fill"},t5:{gradient:{from:"#ec4899",to:"#a855f7",glow:"rgba(217, 70, 239, 0.6)"},color:"purple-500",icon:"bi bi-incognito"}},Yn=e=>e&&PT[e]?PT[e]:{gradient:{from:"#6b7280",to:"#4b5563",glow:"rgba(107, 114, 128, 0.6)"},color:"gray-500",icon:"bi bi-question-circle-fill"},j9=({teams:e})=>{const[t,n]=w.useState("rgba(79, 70, 229, 0.7)"),r=["rgba(79, 70, 229, 0.7)","rgba(239, 68, 68, 0.7)","rgba(34, 197, 94, 0.7)","rgba(14, 165, 233, 0.7)"];if(w.useEffect(()=>{let d=0;const h=setInterval(()=>{d=(d+1)%r.length,n(r[d])},1e4);return()=>clearInterval(h)},[]),!e||e.length===0)return f.jsx("p",{className:"text-center text-slate-500",children:"No team data available."});const i=Math.max(...e.map(d=>d.score),0),s=i>0?Math.ceil(i*1.15/100)*100:1e3,l=d=>s===0||!d?"0%":`${d/s*100}%`,u=[100,75,50,25,0].map(d=>({percent:d,value:Math.round(s*(d/100))}));return f.jsxs("div",{className:"w-full h-96 flex gap-4 text-sm font-sans p-4 rounded-2xl bg-gradient-to-b from-white to-slate-100 dark:bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] dark:from-indigo-950/50 dark:to-slate-900",children:[f.jsx("div",{className:"h-[calc(100%-2.5rem)] flex flex-col justify-between text-xs text-slate-400 dark:text-slate-500 text-right pr-2",children:u.map(d=>f.jsx("span",{children:d.value},d.percent))}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-[calc(100%-2.5rem)] z-0 text-slate-200/60 dark:text-white/20",children:u.map(d=>{const h=d.percent===0;return f.jsx("div",{className:`absolute w-full border-t ${h?"border-b-2":"border-dashed"} transition-all duration-1000`,style:{bottom:`${d.percent}%`,borderColor:h?t:"currentColor",boxShadow:h?`0 0 15px 1px ${t}`:"none"}},d.percent)})}),f.jsx("div",{className:"h-full grid grid-cols-4 gap-x-4 md:gap-x-6 z-10",children:e.slice(0,4).map(d=>{var E,j;const h=Yn(d.id),p=d.score||0,g=((E=d.scoreHistory)==null?void 0:E[1])||0,v=((j=d.scoreHistory)==null?void 0:j[0])||0,x=l(p),S=l(g),_=l(v);return f.jsxs("div",{className:"relative flex flex-col items-center justify-end h-full",children:[f.jsxs("div",{className:"relative w-full h-[calc(100%-2.5rem)]",children:[f.jsx("div",{className:"absolute z-20 w-full flex justify-center transition-all duration-1000 ease-out",style:{bottom:`calc(${x} + 4px)`},children:f.jsx("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm rounded-lg px-2 py-0.5 shadow-lg text-center",children:f.jsx("div",{className:"text-slate-800 dark:text-slate-100 text-xs font-bold",children:p})})}),f.jsx("div",{className:"absolute bottom-0 right-[15%] w-1/4 rounded-t-md",style:{height:_,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,opacity:.4,transition:"height 1s ease-out 0.2s"}}),f.jsx("div",{className:"absolute bottom-0 left-[15%] w-1/4 rounded-t-md",style:{height:S,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,opacity:.6,transition:"height 1s ease-out 0.1s"}}),f.jsx("div",{className:"absolute bottom-0 w-1/3 left-1/2 -translate-x-1/2 rounded-t-lg",style:{height:x,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,boxShadow:`0 0 20px -5px ${h.gradient.glow}`,transition:"height 1s ease-out"}})]}),f.jsx("span",{className:"mt-3 text-center font-semibold text-slate-600 dark:text-slate-300 truncate w-full text-xs sm:text-sm",children:d.name})]},d.id)})})]})]})},Ll=()=>{const e=w.useContext(mP);if(e===void 0)throw new Error("useEventContext must be used within an EventProvider");return e},C9={initial:{opacity:0,y:15},in:{opacity:1,y:0},out:{opacity:0,y:-15}},N9={type:"tween",ease:"anticipate",duration:.5},ui=({children:e,className:t})=>f.jsx(Zr.div,{initial:"initial",animate:"in",exit:"out",variants:C9,transition:N9,className:t,children:e}),sd=()=>{const{selectedEvent:e,setSelectedEvent:t}=Ll();return f.jsx(Ne,{className:"p-8 text-center mt-6",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("i",{className:"bi bi-info-circle-fill text-4xl text-slate-400 dark:text-slate-500 mb-4"}),f.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:"No Data Available"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-6",children:['Information for "',e,'" has not been registered yet. Please select "i3 Day | Clash of Cards" to view current event data.']}),f.jsx(me,{onClick:()=>t(Nh),children:"Switch to i3 Day Event"})]})})},rt=({className:e=""})=>f.jsx("div",{className:`bg-slate-200 dark:bg-slate-700/80 rounded-md animate-pulse-fast ${e}`}),rl=()=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark p-5 space-y-3",children:[f.jsx(rt,{className:"h-4 w-1/3"}),f.jsx(rt,{className:"h-6 w-1/2"}),f.jsx(rt,{className:"h-4 w-1/4"})]}),T9=({count:e=3,className:t})=>f.jsx("div",{className:`space-y-4 ${t}`,children:Array.from({length:e}).map((n,r)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark p-4 flex gap-4 items-center",children:[f.jsx(rt,{className:"h-12 w-12 rounded-full flex-shrink-0"}),f.jsxs("div",{className:"flex-grow space-y-2",children:[f.jsx(rt,{className:"h-5 w-3/4"}),f.jsx(rt,{className:"h-4 w-1/2"})]})]},r))}),lo=e=>{const{user:t}=Ft(),n=w.useRef(!1);w.useEffect(()=>{t&&!n.current&&(Hm(t.id,`viewed the ${e} page`),n.current=!0)},[t,e])};function GM(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GM(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GM(e))&&(r&&(r+=" "),r+=t);return r}var A9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Yw(e){if(typeof e!="string")return!1;var t=A9;return t.includes(e)}var O9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function YM(e){if(typeof e!="string")return!1;var t=O9;return t.includes(e)}function KM(e){return typeof e=="string"&&e.startsWith("data-")}function di(e){var t=Object.entries(e).filter(n=>{var[r]=n;return YM(r)||KM(r)});return Object.fromEntries(t)}function Qm(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return di(t)}return typeof e=="object"&&!Array.isArray(e)?di(e):null}function Dn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return YM(r)||KM(r)||Yw(r)});return Object.fromEntries(t)}function k9(e){return e==null?null:w.isValidElement(e)?Dn(e.props):typeof e=="object"&&!Array.isArray(e)?Dn(e):null}var D9=["children","width","height","viewBox","className","style","title","desc"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function P9(e,t){if(e==null)return{};var n,r,i=M9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WM=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=e,p=P9(e,D9),g=s||{width:r,height:i,x:0,y:0},v=at("recharts-surface",l);return w.createElement("svg",qx({},Dn(p),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),w.createElement("title",null,d),w.createElement("desc",null,h),n)}),R9=["children","className"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(null,arguments)}function I9(e,t){if(e==null)return{};var n,r,i=L9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Za=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=I9(e,R9),s=at("recharts-layer",r);return w.createElement("g",Gx({className:s},Dn(i),{ref:t}),n)}),B9=w.createContext(null);function ot(e){return function(){return e}}const XM=Math.cos,Rh=Math.sin,ei=Math.sqrt,Ih=Math.PI,Zm=2*Ih,Yx=Math.PI,Kx=2*Yx,ks=1e-6,z9=Kx-ks;function QM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function U9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QM;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let V9=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QM:U9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-t,h=i-n,p=l-t,g=u-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ks)if(!(Math.abs(g*d-h*p)>ks)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,S=i-u,_=d*d+h*h,E=x*x+S*S,j=Math.sqrt(_),A=Math.sqrt(v),N=s*Math.tan((Yx-Math.acos((_+v-E)/(2*j*A)))/2),P=N/A,T=N/j;Math.abs(P-1)>ks&&this._append`L${t+P*p},${n+P*g}`,this._append`A${s},${s},0,0,${+(g*x>p*S)},${this._x1=t+T*d},${this._y1=n+T*h}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=t+u,p=n+d,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ks||Math.abs(this._y1-p)>ks)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%Kx+Kx),v>z9?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>ks&&this._append`A${r},${r},0,${+(v>=Yx)},${g},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Kw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new V9(t)}function Ww(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZM(e){this._context=e}ZM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jm(e){return new ZM(e)}function JM(e){return e[0]}function eR(e){return e[1]}function tR(e,t){var n=ot(!0),r=null,i=Jm,s=null,l=Kw(u);e=typeof e=="function"?e:e===void 0?JM:ot(e),t=typeof t=="function"?t:t===void 0?eR:ot(t);function u(d){var h,p=(d=Ww(d)).length,g,v=!1,x;for(r==null&&(s=i(x=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,d),+t(g,h,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ot(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Qf(e,t,n){var r=null,i=ot(!0),s=null,l=Jm,u=null,d=Kw(h);e=typeof e=="function"?e:e===void 0?JM:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?eR:ot(+n);function h(g){var v,x,S,_=(g=Ww(g)).length,E,j=!1,A,N=new Array(_),P=new Array(_);for(s==null&&(u=l(A=d())),v=0;v<=_;++v){if(!(v<_&&i(E=g[v],v,g))===j)if(j=!j)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=x;--S)u.point(N[S],P[S]);u.lineEnd(),u.areaEnd()}j&&(N[v]=+e(E,v,g),P[v]=+t(E,v,g),u.point(r?+r(E,v,g):N[v],n?+n(E,v,g):P[v]))}if(A)return u=null,A+""||null}function p(){return tR().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:ot(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ot(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ot(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:ot(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ot(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ot(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ot(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class nR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function F9(e){return new nR(e,!0)}function H9(e){return new nR(e,!1)}const Xw={draw(e,t){const n=ei(t/Ih);e.moveTo(n,0),e.arc(0,0,n,0,Zm)}},$9={draw(e,t){const n=ei(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},rR=ei(1/3),q9=rR*2,G9={draw(e,t){const n=ei(t/q9),r=n*rR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Y9={draw(e,t){const n=ei(t),r=-n/2;e.rect(r,r,n,n)}},K9=.8908130915292852,iR=Rh(Ih/10)/Rh(7*Ih/10),W9=Rh(Zm/10)*iR,X9=-XM(Zm/10)*iR,Q9={draw(e,t){const n=ei(t*K9),r=W9*n,i=X9*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=Zm*s/5,u=XM(l),d=Rh(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},R0=ei(3),Z9={draw(e,t){const n=-ei(t/(R0*3));e.moveTo(0,n*2),e.lineTo(-R0*n,-n),e.lineTo(R0*n,-n),e.closePath()}},Or=-.5,kr=ei(3)/2,Wx=1/ei(12),J9=(Wx/2+1)*3,e$={draw(e,t){const n=ei(t/J9),r=n/2,i=n*Wx,s=r,l=n*Wx+n,u=-s,d=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(Or*r-kr*i,kr*r+Or*i),e.lineTo(Or*s-kr*l,kr*s+Or*l),e.lineTo(Or*u-kr*d,kr*u+Or*d),e.lineTo(Or*r+kr*i,Or*i-kr*r),e.lineTo(Or*s+kr*l,Or*l-kr*s),e.lineTo(Or*u+kr*d,Or*d-kr*u),e.closePath()}};function t$(e,t){let n=null,r=Kw(i);e=typeof e=="function"?e:ot(e||Xw),t=typeof t=="function"?t:ot(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:ot(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:ot(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Lh(){}function Bh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function aR(e){this._context=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n$(e){return new aR(e)}function sR(e){this._context=e}sR.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r$(e){return new sR(e)}function oR(e){this._context=e}oR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i$(e){return new oR(e)}function lR(e){this._context=e}lR.prototype={areaStart:Lh,areaEnd:Lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function a$(e){return new lR(e)}function MT(e){return e<0?-1:1}function RT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(MT(s)+MT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function IT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function I0(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,i+u*t,s-u,l-u*n,s,l)}function zh(e){this._context=e}zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:I0(this,this._t0,IT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,I0(this,IT(this,n=RT(this,e,t)),n);break;default:I0(this,this._t0,n=RT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function cR(e){this._context=new uR(e)}(cR.prototype=Object.create(zh.prototype)).point=function(e,t){zh.prototype.point.call(this,t,e)};function uR(e){this._context=e}uR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function s$(e){return new zh(e)}function o$(e){return new cR(e)}function dR(e){this._context=e}dR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=LT(e),i=LT(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function LT(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function l$(e){return new dR(e)}function ep(e,t){this._context=e,this._t=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function c$(e){return new ep(e,.5)}function u$(e){return new ep(e,0)}function d$(e){return new ep(e,1)}function Sl(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,u=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Xx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function f$(e,t){return e[t]}function h$(e){const t=[];return t.key=e,t}function m$(){var e=ot([]),t=Xx,n=Sl,r=f$;function i(s){var l=Array.from(e.apply(this,arguments),h$),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=Ww(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ot(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ot(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?Xx:typeof s=="function"?s:ot(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Sl,i):n},i}function p$(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Sl(e,t)}}function g$(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sl(e,t)}}function v$(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,v=p[r-1][1]||0,x=(g-v)/2,S=0;S<u;++S){var _=e[t[S]],E=_[r][1]||0,j=_[r-1][1]||0;x+=E-j}d+=g,h+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Sl(e,t)}}var L0={},B0={},BT;function y$(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(B0)),B0}var z0={},zT;function fR(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(z0)),z0}var U0={},UT;function Qw(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(U0)),U0}var V0={},F0={},VT;function x$(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(F0)),F0}var FT;function Zw(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x$(),n=Qw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=r})(V0)),V0}var HT;function Jw(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y$(),n=fR(),r=Qw(),i=Zw();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}e.get=s})(L0)),L0}var H0,$T;function b$(){return $T||($T=1,H0=Jw().get),H0}var w$=b$();const tp=gi(w$);var Mr=e=>e===0?0:e>0?1:-1,fi=e=>typeof e=="number"&&e!=+e,Qi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!fi(e),hi=e=>be(e)||typeof e=="string",S$=0,ku=e=>{var t=++S$;return"".concat(e||"").concat(t)},Ja=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return r;var s;if(Qi(t)){if(n==null)return r;var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return fi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},hR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Hn(e,t,n){return be(e)&&be(t)?e+n*(t-e):t}function mR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):tp(r,t))===n)}var tn=e=>e===null||typeof e>"u",od=e=>tn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _$(e){return e!=null}function Bl(){}var E$=["type","size","sizeType"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(null,arguments)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){j$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j$(e,t,n){return(t=C$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C$(e){var t=N$(e,"string");return typeof t=="symbol"?t:t+""}function N$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T$(e,t){if(e==null)return{};var n,r,i=A$(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pR={symbolCircle:Xw,symbolCross:$9,symbolDiamond:G9,symbolSquare:Y9,symbolStar:Q9,symbolTriangle:Z9,symbolWye:e$},O$=Math.PI/180,k$=e=>{var t="symbol".concat(od(e));return pR[t]||Xw},D$=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*O$;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},P$=(e,t)=>{pR["symbol".concat(od(e))]=t},gR=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=T$(e,E$),s=GT(GT({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=k$(l),x=t$().type(v).size(D$(n,r,l)),S=x();if(S!==null)return S},{className:d,cx:h,cy:p}=s,g=Dn(s);return be(h)&&be(p)&&be(n)?w.createElement("path",Qx({},g,{className:at("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};gR.registerSymbol=P$;var vR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,e1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Yw(i)&&(r[i]=(s=>n[i](n,s)))}),r},M$=(e,t,n)=>r=>(e(t,n,r),null),R$=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];Yw(i)&&typeof s=="function"&&(r||(r={}),r[i]=M$(s,t,n))}),r};function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){L$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L$(e,t,n){return(t=B$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(e){var t=z$(e,"string");return typeof t=="symbol"?t:t+""}function z$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e,t){var n=I$({},e),r=t,i=Object.keys(t),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}var $0={},q0={},KT;function U$(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(q0)),q0}var G0={},WT;function yR(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(G0)),G0}var Y0={},K0={},W0={},XT;function V$(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(W0)),W0}var QT;function t1(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V$();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(K0)),K0}var X0={},ZT;function F$(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(X0)),X0}var JT;function H$(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1(),n=F$();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Y0)),Y0}var Q0={},Z0={},eA;function $$(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jw();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Z0)),Z0}var J0={},ey={},ty={},ny={},tA;function xR(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ny)),ny}var ry={},nA;function bR(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(ry)),ry}var iy={},rA;function wR(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(iy)),iy}var iA;function q$(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xR(),n=bR(),r=wR();function i(p,g,v){return typeof v!="function"?i(p,g,()=>{}):s(p,g,function x(S,_,E,j,A,N){const P=v(S,_,E,j,A,N);return P!==void 0?!!P:s(S,_,x,N)},new Map)}function s(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,x);case"function":return Object.keys(g).length>0?s(p,{...g},v,x):r.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return d(p,g,v,x);if(g instanceof Map)return u(p,g,v,x);if(g instanceof Set)return h(p,g,v,x);const S=Object.keys(g);if(p==null)return S.length===0;if(S.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===p;x==null||x.set(g,p);try{for(let _=0;_<S.length;_++){const E=S[_];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!v(p[E],g[E],E,p,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function u(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[S,_]of g.entries()){const E=p.get(S);if(v(E,_,S,p,g,x)===!1)return!1}return!0}function d(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const S=new Set;for(let _=0;_<g.length;_++){const E=g[_];let j=!1;for(let A=0;A<p.length;A++){if(S.has(A))continue;const N=p[A];let P=!1;if(v(N,E,_,p,g,x)&&(P=!0),P){S.add(A),j=!0;break}}if(!j)return!1}return!0}function h(p,g,v,x){return g.size===0?!0:p instanceof Set?d([...p],[...g],v,x):!1}e.isMatchWith=i,e.isSetMatch=h})(ty)),ty}var aA;function SR(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q$();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(ey)),ey}var ay={},sy={},oy={},sA;function G$(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(oy)),oy}var ly={},oA;function _R(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ly)),ly}var cy={},lA;function ER(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",S="[object Error]",_="[object DataView]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",N="[object Uint32Array]",P="[object BigUint64Array]",T="[object Int8Array]",D="[object Int16Array]",I="[object Int32Array]",B="[object BigInt64Array]",$="[object Float32Array]",Z="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=Z,e.functionTag=g,e.int16ArrayTag=D,e.int32ArrayTag=I,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=N,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=j})(cy)),cy}var uy={},cA;function Y$(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(uy)),uy}var uA;function jR(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G$(),n=_R(),r=ER(),i=bR(),s=Y$();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,x=new Map,S=void 0){const _=S==null?void 0:S(p,g,v,x);if(_!==void 0)return _;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const E=new Array(p.length);x.set(p,E);for(let j=0;j<p.length;j++)E[j]=u(p[j],j,v,x,S);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;x.set(p,E);for(const[j,A]of p)E.set(j,u(A,j,v,x,S));return E}if(p instanceof Set){const E=new Set;x.set(p,E);for(const j of p)E.add(u(j,void 0,v,x,S));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,E);for(let j=0;j<p.length;j++)E[j]=u(p[j],j,v,x,S);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,E),d(E,p,v,x,S),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return x.set(p,E),d(E,p,v,x,S),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return x.set(p,E),d(E,p,v,x,S),E}if(p instanceof Error){const E=new p.constructor;return x.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,d(E,p,v,x,S),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return x.set(p,E),d(E,p,v,x,S),E}if(p instanceof Number){const E=new Number(p.valueOf());return x.set(p,E),d(E,p,v,x,S),E}if(p instanceof String){const E=new String(p.valueOf());return x.set(p,E),d(E,p,v,x,S),E}if(typeof p=="object"&&h(p)){const E=Object.create(Object.getPrototypeOf(p));return x.set(p,E),d(E,p,v,x,S),E}return p}function d(p,g,v=p,x,S){const _=[...Object.keys(g),...t.getSymbols(g)];for(let E=0;E<_.length;E++){const j=_[E],A=Object.getOwnPropertyDescriptor(p,j);(A==null||A.writable)&&(p[j]=u(g[j],j,v,x,S))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(sy)),sy}var dA;function K$(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(ay)),ay}var fA;function W$(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SR(),n=K$();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(J0)),J0}var dy={},fy={},hy={},hA;function X$(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jR(),n=ER();function r(i,s){return t.cloneDeepWith(i,(l,u,d,h)=>{const p=s==null?void 0:s(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(hy)),hy}var mA;function Q$(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X$();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(fy)),fy}var my={},py={},pA;function CR(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(py)),py}var gy={},gA;function Z$(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_R();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(gy)),gy}var vA;function J$(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR(),n=CR(),r=Z$(),i=Zw();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(my)),my}var yA;function eq(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SR(),n=Qw(),r=Q$(),i=Jw(),s=J$();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(dy)),dy}var xA;function tq(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR(),n=$$(),r=W$(),i=eq();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=s})(Q0)),Q0}var bA;function nq(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U$(),n=yR(),r=H$(),i=tq();function s(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=s})($0)),$0}var vy,wA;function rq(){return wA||(wA=1,vy=nq().uniqBy),vy}var iq=rq();const SA=gi(iq);function aq(e,t,n){return t===!0?SA(e,n):typeof t=="function"?SA(e,t):e}var yy={exports:{}},xy={},by={exports:{}},wy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function sq(){if(_A)return wy;_A=1;var e=Dl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),S=r({inst:{value:x,getSnapshot:v}}),_=S[0].inst,E=S[1];return s(function(){_.value=x,_.getSnapshot=v,d(_)&&E({inst:_})},[g,x,v]),i(function(){return d(_)&&E({inst:_}),g(function(){d(_)&&E({inst:_})})},[g]),l(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return wy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,wy}var EA;function oq(){return EA||(EA=1,by.exports=sq()),by.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function lq(){if(jA)return xy;jA=1;var e=Dl(),t=oq();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return xy.useSyncExternalStoreWithSelector=function(h,p,g,v,x){var S=s(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=u(function(){function j(D){if(!A){if(A=!0,N=D,D=v(D),x!==void 0&&_.hasValue){var I=_.value;if(x(I,D))return P=I}return P=D}if(I=P,r(N,D))return I;var B=v(D);return x!==void 0&&x(I,B)?(N=D,I):(N=D,P=B)}var A=!1,N,P,T=g===void 0?null:g;return[function(){return j(p())},T===null?void 0:function(){return j(T())}]},[p,g,v,x]);var E=i(h,S[0],S[1]);return l(function(){_.hasValue=!0,_.value=E},[E]),d(E),E},xy}var CA;function cq(){return CA||(CA=1,yy.exports=lq()),yy.exports}var uq=cq(),n1=w.createContext(null),dq=e=>e,rn=()=>{var e=w.useContext(n1);return e?e.store.dispatch:dq},xh=()=>{},fq=()=>xh,hq=(e,t)=>e===t;function we(e){var t=w.useContext(n1);return uq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fq,t?t.store.getState:xh,t?t.store.getState:xh,t?e:xh,hq)}function mq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var NA=e=>Array.isArray(e)?e:[e];function vq(e){const t=Array.isArray(e[0])?e[0]:e;return gq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yq(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var xq=class{constructor(e){this.value=e}deref(){return this.value}},bq=typeof WeakRef<"u"?WeakRef:xq,wq=0,TA=1;function Zf(){return{s:wq,v:void 0,o:null,p:null}}function NR(e,t={}){let n=Zf();const{resultEqualityCheck:r}=t;let i,s=0;function l(){var g;let u=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const E=_.get(S);E===void 0?(u=Zf(),_.set(S,u)):u=E}else{let _=u.p;_===null&&(u.p=_=new Map);const E=_.get(S);E===void 0?(u=Zf(),_.set(S,u)):u=E}}const h=u;let p;if(u.s===TA)p=u.v;else if(p=e.apply(null,arguments),s++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new bq(p):p}return h.s=TA,h.v=p,p}return l.clearCache=()=>{n=Zf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Sq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),mq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=NR,argsMemoizeOptions:S=[]}=p,_=NA(v),E=NA(S),j=vq(i),A=g(function(){return s++,h.apply(null,arguments)},..._),N=x(function(){l++;const T=yq(j,arguments);return u=A.apply(null,T),u},...E);return Object.assign(N,{resultFunc:h,memoizedResultFunc:A,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Q=Sq(NR),_q=Object.assign((e,t=Q)=>{pq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>_q}),Sy={},_y={},Ey={},AA;function Eq(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=n})(Ey)),Ey}var jy={},Cy={},OA;function TR(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Cy)),Cy}var kA;function jq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(jy)),jy}var DA;function Cq(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eq(),n=jq(),r=Zw();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,S)=>{let _=x;for(let E=0;E<S.length&&_!=null;++E)_=_[S[E]];return _},p=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(S=>p(S,x))})).slice().sort((x,S)=>{for(let _=0;_<g.length;_++){const E=t.compareValues(x.criteria[_],S.criteria[_],u[_]);if(E!==0)return E}return 0}).map(x=>x.original)}e.orderBy=i})(_y)),_y}var Ny={},PA;function Nq(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Ny)),Ny}var Ty={},MA;function AR(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CR(),n=t1(),r=xR(),i=wR();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=s})(Ty)),Ty}var RA;function Tq(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cq(),n=Nq(),r=AR();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,n.flatten(l),["asc"])}e.sortBy=i})(Sy)),Sy}var Ay,IA;function Aq(){return IA||(IA=1,Ay=Tq().sortBy),Ay}var Oq=Aq();const np=gi(Oq);var OR=e=>e.legend.settings,kq=e=>e.legend.size,Dq=e=>e.legend.payload;Q([Dq,OR],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?np(r,n):r});var Jf=1;function Pq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Jf||Math.abs(l.left-t.left)>Jf||Math.abs(l.top-t.top)>Jf||Math.abs(l.width-t.width)>Jf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function mn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Mq=typeof Symbol=="function"&&Symbol.observable||"@@observable",LA=Mq,Oy=()=>Math.random().toString(36).substring(7).split("").join("."),Rq={INIT:`@@redux/INIT${Oy()}`,REPLACE:`@@redux/REPLACE${Oy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Oy()}`},Uh=Rq;function r1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kR(e,t,n){if(typeof e!="function")throw new Error(mn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mn(1));return n(kR)(e,t)}let r=e,i=t,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((E,j)=>{l.set(j,E)}))}function p(){if(d)throw new Error(mn(3));return i}function g(E){if(typeof E!="function")throw new Error(mn(4));if(d)throw new Error(mn(5));let j=!0;h();const A=u++;return l.set(A,E),function(){if(j){if(d)throw new Error(mn(6));j=!1,h(),l.delete(A),s=null}}}function v(E){if(!r1(E))throw new Error(mn(7));if(typeof E.type>"u")throw new Error(mn(8));if(typeof E.type!="string")throw new Error(mn(17));if(d)throw new Error(mn(9));try{d=!0,i=r(i,E)}finally{d=!1}return(s=l).forEach(A=>{A()}),E}function x(E){if(typeof E!="function")throw new Error(mn(10));r=E,v({type:Uh.REPLACE})}function S(){const E=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(mn(11));function A(){const P=j;P.next&&P.next(p())}return A(),{unsubscribe:E(A)}},[LA](){return this}}}return v({type:Uh.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[LA]:S}}function Iq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Uh.INIT})>"u")throw new Error(mn(12));if(typeof n(void 0,{type:Uh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function DR(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{Iq(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],x=l[g],S=v(x,u);if(typeof S>"u")throw u&&u.type,new Error(mn(14));h[g]=S,d=d||S!==x}return d=d||r.length!==Object.keys(l).length,d?h:l}}function Vh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Lq(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(mn(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=e.map(d=>d(l));return s=Vh(...u)(i.dispatch),{...i,dispatch:s}}}function PR(e){return r1(e)&&"type"in e&&typeof e.type=="string"}var MR=Symbol.for("immer-nothing"),BA=Symbol.for("immer-draftable"),yr=Symbol.for("immer-state");function Gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Du=Object.getPrototypeOf;function Ws(e){return!!e&&!!e[yr]}function Zi(e){var t;return e?RR(e)||Array.isArray(e)||!!e[BA]||!!((t=e.constructor)!=null&&t[BA])||ld(e)||ip(e):!1}var Bq=Object.prototype.constructor.toString(),zA=new WeakMap;function RR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zA.get(n);return r===void 0&&(r=Function.toString.call(n),zA.set(n,r)),r===Bq}function Fh(e,t,n=!0){rp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function rp(e){const t=e[yr];return t?t.type_:Array.isArray(e)?1:ld(e)?2:ip(e)?3:0}function Zx(e,t){return rp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IR(e,t,n){const r=rp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ld(e){return e instanceof Map}function ip(e){return e instanceof Set}function Ds(e){return e.copy_||e.base_}function Jx(e,t){if(ld(e))return new Map(e);if(ip(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=RR(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[yr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Du(e),r)}else{const r=Du(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function i1(e,t=!1){return ap(e)||Ws(e)||!Zi(e)||(rp(e)>1&&Object.defineProperties(e,{set:eh,add:eh,clear:eh,delete:eh}),Object.freeze(e),t&&Object.values(e).forEach(n=>i1(n,!0))),e}function Uq(){Gr(2)}var eh={value:Uq};function ap(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Vq={};function Xs(e){const t=Vq[e];return t||Gr(0,e),t}var Pu;function LR(){return Pu}function Fq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UA(e,t){t&&(Xs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eb(e){tb(e),e.drafts_.forEach(Hq),e.drafts_=null}function tb(e){e===Pu&&(Pu=e.parent_)}function VA(e){return Pu=Fq(Pu,e)}function Hq(e){const t=e[yr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[yr].modified_&&(eb(t),Gr(4)),Zi(e)&&(e=Hh(t,e),t.parent_||$h(t,e)),t.patches_&&Xs("Patches").generateReplacementPatches_(n[yr].base_,e,t.patches_,t.inversePatches_)):e=Hh(t,n,[]),eb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MR?e:void 0}function Hh(e,t,n){if(ap(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[yr];if(!i)return Fh(t,(s,l)=>HA(e,i,t,s,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return $h(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Fh(l,(d,h)=>HA(e,i,s,d,h,n,u),r),$h(e,s,!1),n&&e.patches_&&Xs("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function HA(e,t,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=ap(i);if(!(u&&!l)){if(Ws(i)){const d=s&&t&&t.type_!==3&&!Zx(t.assigned_,r)?s.concat(r):void 0,h=Hh(e,i,d);if(IR(n,r,h),Ws(h))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Zi(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Hh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ld(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&$h(e,i)}}}function $h(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&i1(t,n)}function $q(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:LR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=a1;n&&(i=[r],s=Mu);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var a1={get(e,t){if(t===yr)return e;const n=Ds(e);if(!Zx(n,t))return qq(e,n,t);const r=n[t];return e.finalized_||!Zi(r)?r:r===ky(e.base_,t)?(Dy(e),e.copy_[t]=rb(r,e)):r},has(e,t){return t in Ds(e)},ownKeys(e){return Reflect.ownKeys(Ds(e))},set(e,t,n){const r=BR(Ds(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ky(Ds(e),t),s=i==null?void 0:i[yr];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zq(n,i)&&(n!==void 0||Zx(e.base_,t)))return!0;Dy(e),nb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ky(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Dy(e),nb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ds(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gr(11)},getPrototypeOf(e){return Du(e.base_)},setPrototypeOf(){Gr(12)}},Mu={};Fh(a1,(e,t)=>{Mu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mu.deleteProperty=function(e,t){return Mu.set.call(this,e,t,void 0)};Mu.set=function(e,t,n){return a1.set.call(this,e[0],t,n,e[0])};function ky(e,t){const n=e[yr];return(n?Ds(n):e)[t]}function qq(e,t,n){var i;const r=BR(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function BR(e,t){if(!(t in e))return;let n=Du(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Du(n)}}function nb(e){e.modified_||(e.modified_=!0,e.parent_&&nb(e.parent_))}function Dy(e){e.copy_||(e.copy_=Jx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Gq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&Gr(6),r!==void 0&&typeof r!="function"&&Gr(7);let i;if(Zi(t)){const s=VA(this),l=rb(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?eb(s):tb(s)}return UA(s,r),FA(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===MR&&(i=void 0),this.autoFreeze_&&i1(i,!0),r){const s=[],l=[];Xs("Patches").generateReplacementPatches_(t,i,s,l),r(s,l)}return i}else Gr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Zi(e)||Gr(8),Ws(e)&&(e=Gi(e));const t=VA(this),n=rb(e,void 0);return n[yr].isManual_=!0,tb(t),n}finishDraft(e,t){const n=e&&e[yr];(!n||!n.isManual_)&&Gr(9);const{scope_:r}=n;return UA(r,t),FA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Xs("Patches").applyPatches_;return Ws(e)?r(e,t):this.produce(e,i=>r(i,t))}};function rb(e,t){const n=ld(e)?Xs("MapSet").proxyMap_(e,t):ip(e)?Xs("MapSet").proxySet_(e,t):$q(e,t);return(t?t.scope_:LR()).drafts_.push(n),n}function Gi(e){return Ws(e)||Gr(10,e),zR(e)}function zR(e){if(!Zi(e)||ap(e))return e;const t=e[yr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Jx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Jx(e,!0);return Fh(n,(i,s)=>{IR(n,i,zR(s))},r),t&&(t.finalized_=!1),n}var ib=new Gq,UR=ib.produce,Yq=ib.setUseStrictIteration.bind(ib);function VR(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Kq=VR(),Wq=VR,Xq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vh:Vh.apply(null,arguments)};function Ir(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(pr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PR(r)&&r.type===e,n}var FR=class fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fu.prototype)}static get[Symbol.species](){return fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fu(...t[0].concat(this)):new fu(...t.concat(this))}};function $A(e){return Zi(e)?UR(e,()=>{}):e}function th(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Qq(e){return typeof e=="boolean"}var Zq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new FR;return n&&(Qq(n)?l.push(Kq):l.push(Wq(n.extraArgument))),l},HR="RTK_autoBatch",zt=()=>e=>({payload:e,meta:{[HR]:!0}}),qA=e=>t=>{setTimeout(t,e)},$R=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:qA(10):e.type==="callback"?e.queueNotification:qA(e.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[HR]),s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},Jq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new FR(e);return r&&i.push($R(typeof r=="object"?r:void 0)),i};function eG(e){const t=Zq(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(r1(n))u=DR(n);else throw new Error(pr(1));let d;typeof r=="function"?d=r(t):d=t();let h=Vh;i&&(h=Xq({trace:!1,...typeof i=="object"&&i}));const p=Lq(...d),g=Jq(p);let v=typeof l=="function"?l(g):g();const x=h(...v);return kR(u,s,x)}function qR(e){const t={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(pr(28));if(u in t)throw new Error(pr(29));return t[u]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}Yq(!1);function tG(e){return typeof e=="function"}function nG(e,t){let[n,r,i]=qR(t),s;if(tG(e))s=()=>$A(e());else{const u=$A(e);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(Ws(p)){const x=g(p,d);return x===void 0?p:x}else{if(Zi(p))return UR(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=s,l}var rG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iG=(e=21)=>{let t="",n=e;for(;n--;)t+=rG[Math.random()*64|0];return t},aG=Symbol.for("rtk-slice-createasyncthunk");function sG(e,t){return`${e}/${t}`}function oG({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[aG];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(pr(11));const u=(typeof i.reducers=="function"?i.reducers(cG()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(P,T){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(pr(12));if(D in h.sliceCaseReducersByType)throw new Error(pr(13));return h.sliceCaseReducersByType[D]=T,p},addMatcher(P,T){return h.sliceMatchers.push({matcher:P,reducer:T}),p},exposeAction(P,T){return h.actionCreators[P]=T,p},exposeCaseReducer(P,T){return h.sliceCaseReducersByName[P]=T,p}};d.forEach(P=>{const T=u[P],D={reducerName:P,type:sG(s,P),createNotation:typeof i.reducers=="function"};dG(T)?hG(D,T,p,t):uG(D,T,p)});function g(){const[P={},T=[],D=void 0]=typeof i.extraReducers=="function"?qR(i.extraReducers):[i.extraReducers],I={...P,...h.sliceCaseReducersByType};return nG(i.initialState,B=>{for(let $ in I)B.addCase($,I[$]);for(let $ of h.sliceMatchers)B.addMatcher($.matcher,$.reducer);for(let $ of T)B.addMatcher($.matcher,$.reducer);D&&B.addDefaultCase(D)})}const v=P=>P,x=new Map,S=new WeakMap;let _;function E(P,T){return _||(_=g()),_(P,T)}function j(){return _||(_=g()),_.getInitialState()}function A(P,T=!1){function D(B){let $=B[P];return typeof $>"u"&&T&&($=th(S,D,j)),$}function I(B=v){const $=th(x,T,()=>new WeakMap);return th($,B,()=>{const Z={};for(const[U,J]of Object.entries(i.selectors??{}))Z[U]=lG(J,B,()=>th(S,B,j),T);return Z})}return{reducerPath:P,getSelectors:I,get selectors(){return I(D)},selectSlice:D}}const N={name:s,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:j,...A(l),injectInto(P,{reducerPath:T,...D}={}){const I=T??l;return P.inject({reducerPath:I,reducer:E},D),{...N,...A(I,!0)}}};return N}}function lG(e,t,n,r){function i(s,...l){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Qn=oG();function cG(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function uG({type:e,reducerName:t,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!fG(r))throw new Error(pr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Ir(e,l):Ir(e))}function dG(e){return e._reducerDefinitionType==="asyncThunk"}function fG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hG({type:e,reducerName:t},n,r,i){if(!i)throw new Error(pr(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(e,s,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||nh,pending:u||nh,rejected:d||nh,settled:h||nh})}function nh(){}var mG="task",GR="listener",YR="completed",s1="cancelled",pG=`task-${s1}`,gG=`task-${YR}`,ab=`${GR}-${s1}`,vG=`${GR}-${YR}`,sp=class{constructor(e){l0(this,"name","TaskAbortError");l0(this,"message");this.code=e,this.message=`${mG} ${s1} (reason: ${e})`}},o1=(e,t)=>{if(typeof e!="function")throw new TypeError(pr(32))},qh=()=>{},KR=(e,t=qh)=>(e.catch(t),e),WR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$s=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},qs=e=>{if(e.aborted){const{reason:t}=e;throw new sp(t)}};function XR(e,t){let n=qh;return new Promise((r,i)=>{const s=()=>i(new sp(e.reason));if(e.aborted){s();return}n=WR(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=qh})}var yG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof sp?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gh=e=>t=>KR(XR(e,t).then(n=>(qs(e),n))),QR=e=>{const t=Gh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:fl}=Object,GA={},op="listenerMiddleware",xG=(e,t)=>{const n=r=>WR(e,()=>$s(r,e.reason));return(r,i)=>{o1(r);const s=new AbortController;n(s);const l=yG(async()=>{qs(e),qs(s.signal);const u=await r({pause:Gh(s.signal),delay:QR(s.signal),signal:s.signal});return qs(s.signal),u},()=>$s(s,gG));return i!=null&&i.autoJoin&&t.push(l.catch(qh)),{result:Gh(e)(l),cancel(){$s(s,pG)}}}},bG=(e,t)=>{const n=async(r,i)=>{qs(t);let s=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await XR(t,Promise.race(u));return qs(t),d}finally{s()}};return(r,i)=>KR(n(r,i))},ZR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ir(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(pr(21));return o1(s),{predicate:i,type:t,effect:s}},JR=fl(e=>{const{type:t,predicate:n,effect:r}=ZR(e);return{id:iG(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pr(22))}}},{withTypes:()=>JR}),YA=(e,t)=>{const{type:n,effect:r,predicate:i}=ZR(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},sb=e=>{e.pending.forEach(t=>{$s(t,ab)})},wG=(e,t)=>()=>{for(const n of t.keys())sb(n);e.clear()},KA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},eI=fl(Ir(`${op}/add`),{withTypes:()=>eI}),SG=Ir(`${op}/removeAll`),tI=fl(Ir(`${op}/remove`),{withTypes:()=>tI}),_G=(...e)=>{console.error(`${op}/error`,...e)},cd=(e={})=>{const t=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:s,onError:l=_G}=e;o1(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S!=null&&S.cancelActive&&sb(x)}),d=x=>{const S=YA(t,x)??JR(x);return u(S)};fl(d,{withTypes:()=>d});const h=x=>{const S=YA(t,x);return S&&(S.unsubscribe(),x.cancelActive&&sb(S)),!!S};fl(h,{withTypes:()=>h});const p=async(x,S,_,E)=>{const j=new AbortController,A=bG(d,j.signal),N=[];try{x.pending.add(j),r(x),await Promise.resolve(x.effect(S,fl({},_,{getOriginalState:E,condition:(P,T)=>A(P,T).then(Boolean),take:A,delay:QR(j.signal),pause:Gh(j.signal),extra:s,signal:j.signal,fork:xG(j.signal,N),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,T,D)=>{P!==j&&($s(P,ab),D.delete(P))})},cancel:()=>{$s(j,ab),x.pending.delete(j)},throwIfCancelled:()=>{qs(j.signal)}})))}catch(P){P instanceof sp||KA(l,P,{raisedBy:"effect"})}finally{await Promise.all(N),$s(j,vG),i(x),x.pending.delete(j)}},g=wG(t,n);return{middleware:x=>S=>_=>{if(!PR(_))return S(_);if(eI.match(_))return d(_.payload);if(SG.match(_)){g();return}if(tI.match(_))return h(_.payload);let E=x.getState();const j=()=>{if(E===GA)throw new Error(pr(23));return E};let A;try{if(A=S(_),t.size>0){const N=x.getState(),P=Array.from(t.values());for(const T of P){let D=!1;try{D=T.predicate(_,N,E)}catch(I){D=!1,KA(l,I,{raisedBy:"predicate"})}D&&p(T,_,x,j)}}}finally{E=GA}return A},startListening:d,stopListening:h,clearListeners:g}};function pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nI=Qn({name:"chartLayout",initialState:EG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jG,setLayout:CG,setChartSize:NG,setScale:TG}=nI.actions,AG=nI.reducer;function rI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(e,t,n){return tn(e)||tn(t)?n:hi(t)?tp(e,t,n):typeof t=="function"?t(e):n}var PG=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&be(e[s]))return cl(cl({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&be(e[l]))return cl(cl({},e),{},{[l]:e[l]+(i||0)})}return e},rs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iI=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,s,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(t),s||l.push(n),l},aI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(_=x==="angleAxis"&&s&&s.length>=2?Mr(s[0]-s[1])*2*_:_,g||v){var E=(g||v||[]).map((j,A)=>{var N=r?r.indexOf(j):j;return{coordinate:l(N)+_,value:j,offset:_,index:A}});return E.filter(j=>!fi(j.coordinate))}return d&&h?h.map((j,A)=>({coordinate:l(j)+_,value:j,index:A,offset:_})):l.ticks&&p!=null?l.ticks(p).map((j,A)=>({coordinate:l(j)+_,value:j,offset:_,index:A})):l.domain().map((j,A)=>({coordinate:l(j)+_,value:r?r[j]:j,index:A,offset:_}))},XA=1e-4,MG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-XA,s=Math.max(r[0],r[1])+XA,l=e(t[0]),u=e(t[n-1]);(l<i||l>s||u<i||u>s)&&e.domain([t[0],t[n-1]])}},RG=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,l=0;l<t;++l){var u=fi(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+u,s=e[l][n][1])}},IG=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var l=fi(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},LG={sign:RG,expand:p$,none:Sl,silhouette:g$,wiggle:v$,positive:IG},BG=(e,t,n)=>{var r=LG[n],i=m$().keys(t).value((s,l)=>Number(kn(s,l,0))).order(Xx).offset(r);return i(e)};function QA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!tn(i[t.dataKey])){var u=mR(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=kn(i,tn(l)?t.dataKey:l);return tn(d)?null:t.scale(d)}var zG=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},UG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VG=(e,t,n)=>{if(e!=null)return UG(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:l}=s,u=l.reduce((d,h)=>{var p=rI(h,t,n),g=zG(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},ZA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=np(t,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function eO(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return cl(cl({},t),{},{dataKey:n,payload:r,value:i,name:s})}function sI(e,t){if(e)return String(e);if(typeof t=="string")return t}var FG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},HG=(e,t)=>t==="centric"?e.angle:e.radius,la=e=>e.layout.width,ca=e=>e.layout.height,$G=e=>e.layout.scale,oI=e=>e.layout.margin,lp=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cp=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qG="data-recharts-item-index",GG="data-recharts-item-data-key",ud=60;function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){YG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XG=e=>e.brush.height;function QG(e){var t=cp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ud;return n+i}return n},0)}function ZG(e){var t=cp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:ud;return n+i}return n},0)}function JG(e){var t=lp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function eY(e){var t=lp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var yn=Q([la,ca,oI,XG,QG,ZG,JG,eY,OR,kq],(e,t,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=rh(rh({},g),p),x=v.bottom;v.bottom+=r,v=PG(v,d,h);var S=e-v.left-v.right,_=t-v.top-v.bottom;return rh(rh({brushBottom:x},v),{},{width:Math.max(S,0),height:Math.max(_,0)})}),tY=Q(yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lI=Q(la,ca,(e,t)=>({x:0,y:0,width:e,height:t})),nY=w.createContext(null),Zn=()=>w.useContext(nY)!=null,up=e=>e.brush,dp=Q([up,yn,oI],(e,t,n)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:be(e.width)?e.width:t.width})),Py={},My={},Ry={},nO;function rY(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),_()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{S(),l=void 0,u=null},E=()=>{p()},j=function(...A){if(i!=null&&i.aborted)return;l=this,u=A;const N=v==null;x(),d&&N&&p()};return j.schedule=x,j.cancel=_,j.flush=E,i==null||i.addEventListener("abort",_,{once:!0}),j}e.debounce=t})(Ry)),Ry}var rO;function iY(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(..._){p=r.apply(this,_),g=null},i,{edges:h}),x=function(..._){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,_),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,_),p)},S=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=S,x}e.debounce=n})(My)),My}var iO;function aY(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Py)),Py}var Iy,aO;function sY(){return aO||(aO=1,Iy=aY().throttle),Iy}var oY=sY();const lY=gi(oY);var Kh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},cI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Qi(r)?e:Number(r),d=Qi(i)?t:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},cY={width:0,height:0,overflow:"visible"},uY={width:0,overflowX:"visible"},dY={height:0,overflowY:"visible"},fY={},hY=e=>{var{width:t,height:n}=e,r=Qi(t),i=Qi(n);return r&&i?cY:r?uY:i?dY:fY};function mY(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function nn(e){return Number.isFinite(e)}function mi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uI=w.createContext({width:-1,height:-1});function yY(e){return mi(e.width)&&mi(e.height)}function dI(e){var{children:t,width:n,height:r}=e,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return yY(i)?w.createElement(uI.Provider,{value:i},t):null}var l1=()=>w.useContext(uI),xY=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:v,onResize:x,style:S={}}=e,_=w.useRef(null),E=w.useRef();E.current=x,w.useImperativeHandle(t,()=>_.current);var[j,A]=w.useState({containerWidth:r.width,containerHeight:r.height}),N=w.useCallback((B,$)=>{A(Z=>{var U=Math.round(B),J=Math.round($);return Z.containerWidth===U&&Z.containerHeight===J?Z:{containerWidth:U,containerHeight:J}})},[]);w.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Bl;var B=J=>{var oe,{width:de,height:ae}=J[0].contentRect;N(de,ae),(oe=E.current)===null||oe===void 0||oe.call(E,de,ae)};p>0&&(B=lY(B,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),{width:Z,height:U}=_.current.getBoundingClientRect();return N(Z,U),$.observe(_.current),()=>{$.disconnect()}},[N,p]);var{containerWidth:P,containerHeight:T}=j;Kh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:I}=cI(P,T,{width:i,height:s,aspect:n,maxHeight:d});return Kh(D!=null&&D>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,I,i,s,l,u,n),w.createElement("div",{id:g?"".concat(g):void 0,className:at("recharts-responsive-container",v),style:oO(oO({},S),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:_},w.createElement("div",{style:hY({width:i,height:s})},w.createElement(dI,{width:D,height:I},h)))}),bY=w.forwardRef((e,t)=>{var n=l1();if(mi(n.width)&&mi(n.height))return e.children;var{width:r,height:i}=mY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=cI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(s)&&be(l)?w.createElement(dI,{width:s,height:l},e.children):w.createElement(xY,ob({},e,{width:r,height:i,ref:t}))});function fI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var fp=()=>{var e,t=Zn(),n=we(tY),r=we(dp),i=(e=we(up))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},wY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hI=()=>{var e;return(e=we(yn))!==null&&e!==void 0?e:wY},mI=()=>we(la),pI=()=>we(ca),pt=e=>e.layout.layoutType,hp=()=>we(pt),SY=()=>{var e=hp();return e!==void 0},mp=e=>{var t=rn(),n=Zn(),{width:r,height:i}=e,s=l1(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),w.useEffect(()=>{!n&&mi(l)&&mi(u)&&t(NG({width:l,height:u}))},[t,n,l,u]),null},_Y={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gI=Qn({name:"legend",initialState:_Y,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:zt()},removeLegendPayload:{reducer(e,t){var n=Gi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:zt()}}}),{setLegendSize:afe,setLegendSettings:sfe,addLegendPayload:EY,removeLegendPayload:jY}=gI.actions,CY=gI.reducer;function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(r){NY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t,n){return(t=TY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OY(e){return Array.isArray(e)&&hi(e[0])&&hi(e[1])?e.join(" ~ "):e}var kY=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(s&&s.length){var T={padding:0,margin:0},D=(u?np(s,u):s).map((I,B)=>{if(I.type==="none")return null;var $=I.formatter||l||OY,{value:Z,name:U}=I,J=Z,oe=U;if($){var de=$(Z,U,I,B,s);if(Array.isArray(de))[J,oe]=de;else if(de!=null)J=de;else return null}var ae=Ly({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ae},hi(oe)?w.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,hi(oe)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},J),w.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},S=Ly({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Ly({margin:0},i),E=!tn(p),j=E?p:"",A=at("recharts-default-tooltip",d),N=at("recharts-tooltip-label",h);E&&g&&s!==void 0&&s!==null&&(j=g(p,s));var P=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",lb({className:A,style:S},P),w.createElement("p",{className:N,style:_},w.isValidElement(j)?j:"".concat(j)),x())},Qc="recharts-tooltip-wrapper",DY={visibility:"hidden"};function PY(e){var{coordinate:t,translateX:n,translateY:r}=e;return at(Qc,{["".concat(Qc,"-right")]:be(n)&&t&&be(t.x)&&n>=t.x,["".concat(Qc,"-left")]:be(n)&&t&&be(t.x)&&n<t.x,["".concat(Qc,"-bottom")]:be(r)&&t&&be(t.y)&&r>=t.y,["".concat(Qc,"-top")]:be(r)&&t&&be(t.y)&&r<t.y})}function cO(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(s&&be(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=d[r];if(v==null)return 0;if(l[r]){var x=p,S=v;return x<S?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var _=g+u,E=v+h;return _>E?Math.max(p,v):Math.max(g,v)}function MY(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function RY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=cO({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=cO({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=MY({translateX:p,translateY:g,useTranslate3d:u})):h=DY,{cssProperties:h,cssClasses:PY({translateX:p,translateY:g,coordinate:n})}}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){cb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cb(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BY extends w.PureComponent{constructor(){super(...arguments),cb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:S,lastBoundingBox:_,innerRef:E,hasPortalFromProps:j}=this.props,{cssClasses:A,cssProperties:N}=RY({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:x}),P=j?{}:ih(ih({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=ih(ih({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:T,ref:E},s)}}var zY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zl={devToolsEnabled:!1,isSsr:zY()},vI=()=>{var e;return(e=we(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function dO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(n),!0).forEach(function(r){UY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hO={curveBasisClosed:r$,curveBasisOpen:i$,curveBasis:n$,curveBumpX:F9,curveBumpY:H9,curveLinearClosed:a$,curveLinear:Jm,curveMonotoneX:s$,curveMonotoneY:o$,curveNatural:l$,curveStep:c$,curveStepAfter:d$,curveStepBefore:u$},Wh=e=>nn(e.x)&&nn(e.y),mO=e=>e.base!=null&&Wh(e.base)&&Wh(e),Zc=e=>e.x,Jc=e=>e.y,HY=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(od(e));return(n==="curveMonotone"||n==="curveBump")&&t?hO["".concat(n).concat(t==="vertical"?"Y":"X")]:hO[n]||Jm},$Y=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,l=HY(t,i),u=s?n.filter(Wh):n,d;if(Array.isArray(r)){var h=n.map((x,S)=>fO(fO({},x),{},{base:r[S]}));i==="vertical"?d=Qf().y(Jc).x1(Zc).x0(x=>x.base.x):d=Qf().x(Zc).y1(Jc).y0(x=>x.base.y);var p=d.defined(mO).curve(l),g=s?h.filter(mO):h;return p(g)}i==="vertical"&&be(r)?d=Qf().y(Jc).x1(Zc).x0(r):be(r)?d=Qf().x(Zc).y1(Jc).y0(r):d=tR().x(Zc).y(Jc);var v=d.defined(Wh).curve(l);return v(u)},yI=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?$Y(e):r;return w.createElement("path",ub({},di(e),e1(e),{className:at("recharts-curve",t),d:s===null?void 0:s,ref:i}))},qY=["x","y","top","left","width","height","className"];function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(null,arguments)}function pO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(n),!0).forEach(function(r){YY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XY(e,t){if(e==null)return{};var n,r,i=QY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZY=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),JY=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=e,d=XY(e,qY),h=GY({x:t,y:n,top:r,left:i,width:s,height:l},d);return!be(t)||!be(n)||!be(s)||!be(l)||!be(r)||!be(i)?null:w.createElement("path",db({},Dn(h),{className:at("recharts-cross",u),d:ZY(t,n,s,l,r,i)}))};function eK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(n),!0).forEach(function(r){tK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tK(e,t,n){return(t=nK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xI=(e,t,n)=>e.map(r=>"".concat(iK(r)," ").concat(t,"ms ").concat(n)).join(","),aK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ru=(e,t)=>Object.keys(t).reduce((n,r)=>vO(vO({},n),{},{[r]:e(r,t[r])}),{});function yO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(n),!0).forEach(function(r){sK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sK(e,t,n){return(t=oK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xh=(e,t,n)=>e+(t-e)*n,fb=e=>{var{from:t,to:n}=e;return t!==n},bI=(e,t,n)=>{var r=Ru((i,s)=>{if(fb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Bt(Bt({},s),{},{from:l,velocity:u})}return s},t);return n<1?Ru((i,s)=>fb(s)?Bt(Bt({},s),{},{velocity:Xh(s.velocity,r[i].velocity,n),from:Xh(s.from,r[i].from,n)}):s,t):bI(e,r,n-1)};function cK(e,t,n,r,i,s){var l,u=r.reduce((v,x)=>Bt(Bt({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Ru((v,x)=>x.from,u),h=()=>!Object.values(u).filter(fb).length,p=null,g=v=>{l||(l=v);var x=v-l,S=x/n.dt;u=bI(n,u,S),i(Bt(Bt(Bt({},e),t),d())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function uK(e,t,n,r,i,s,l){var u=null,d=i.reduce((g,v)=>Bt(Bt({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,x=Ru((_,E)=>Xh(...E,n(v)),d);if(s(Bt(Bt(Bt({},e),t),x)),v<1)u=l.setTimeout(p);else{var S=Ru((_,E)=>Xh(...E,n(1)),d);s(Bt(Bt(Bt({},e),t),S))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const dK=(e,t,n,r,i,s)=>{var l=aK(e,t);return n==null?()=>(i(Bt(Bt({},e),t)),()=>{}):n.isStepper===!0?cK(e,t,n,l,i,s):uK(e,t,n,r,l,i,s)};var Qh=1e-4,wI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),xO=(e,t)=>n=>{var r=wI(e,t);return SI(r,n)},fK=(e,t)=>n=>{var r=wI(e,t),i=[...r.map((s,l)=>s*l).slice(1),0];return SI(i,n)},hK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},mK=(e,t,n,r)=>{var i=xO(e,n),s=xO(t,r),l=fK(e,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var x=i(g)-p,S=l(g);if(Math.abs(x-p)<Qh||S<Qh)return s(g);g=u(g-x/S)}return s(g)};return d.isStepper=!1,d},bO=function(){return mK(...hK(...arguments))},pK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<Qh&&Math.abs(g)<Qh?[u,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},gK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bO(e);case"spring":return pK();default:if(e.split("(")[0]==="cubic-bezier")return bO(e)}return typeof e=="function"?e:null};function vK(e){var t,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=e.setTimeout(s.bind(null,h),d);return}s(d),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class yK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function xK(){return vK(new yK)}var bK=w.createContext(xK);function wK(e,t){var n=w.useContext(bK);return w.useMemo(()=>t??n(e),[e,t,n])}var SK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wO={t:0},By={t:1};function c1(e){var t=Xn(e,SK),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=t,p=wK(t.animationId,t.animationManager),[g,v]=w.useState(n?wO:By),x=w.useRef(null);return w.useEffect(()=>{n||v(By)},[n]),w.useEffect(()=>{if(!n||!r)return Bl;var S=dK(wO,By,gK(s),i,v,p.getTimeoutController()),_=()=>{x.current=S()};return p.start([d,l,_,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,s,l,d,u,p]),h(g.t)}function u1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(ku(t)),r=w.useRef(e);return r.current!==e&&(n.current=ku(t),r.current=e),n.current}var _K=["radius"],EK=["radius"];function SO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(n),!0).forEach(function(r){jK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jK(e,t,n){return(t=CK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zh.apply(null,arguments)}function EO(e,t){if(e==null)return{};var n,r,i=TK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jO=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>s?s:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),h+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);h="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*x,`
            L `).concat(e+n,",").concat(t+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},CO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_I=e=>{var t=Xn(e,CO),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&i(k)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:_}=t,E=w.useRef(u),j=w.useRef(d),A=w.useRef(s),N=w.useRef(l),P=w.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),T=u1(P,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var D=at("recharts-rectangle",p);if(!_){var I=Dn(t),{radius:B}=I,$=EO(I,_K);return w.createElement("path",Zh({},$,{radius:typeof h=="number"?h:void 0,className:D,d:jO(s,l,u,d,h)}))}var Z=E.current,U=j.current,J=A.current,oe=N.current,de="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),M=xI(["strokeDasharray"],v,typeof g=="string"?g:CO.animationEasing);return w.createElement(c1,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:_,begin:x},k=>{var Y=Hn(Z,u,k),F=Hn(U,d,k),se=Hn(J,s,k),R=Hn(oe,l,k);n.current&&(E.current=Y,j.current=F,A.current=se,N.current=R);var G;S?k>0?G={transition:M,strokeDasharray:ae}:G={strokeDasharray:de}:G={strokeDasharray:ae};var ie=Dn(t),{radius:ue}=ie,ge=EO(ie,EK);return w.createElement("path",Zh({},ge,{radius:typeof h=="number"?h:void 0,className:D,d:jO(se,R,Y,F,h),ref:n,style:_O(_O({},G),t.style)}))})};function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){AK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AK(e,t,n){return(t=OK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh=Math.PI/180,DK=e=>e*180/Math.PI,vn=(e,t,n,r)=>({x:e+Math.cos(-Jh*r)*n,y:t+Math.sin(-Jh*r)*n}),PK=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},MK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},RK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,l=MK({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:DK(d),angleInRadian:d}},IK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},LK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return e+l*360},BK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=RK({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=IK(t),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?TO(TO({},t),{},{radius:i,angle:LK(p,t)}):null};function EI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,l=vn(t,n,r,i),u=vn(t,n,r,s);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(null,arguments)}var zK=(e,t)=>{var n=Mr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ah=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Jh,g=d?i:i+s*p,v=vn(t,n,h,g),x=vn(t,n,r,g),S=d?i-s*p:i,_=vn(t,n,h*Math.cos(p*Jh),S);return{center:v,circleTangency:x,lineTangency:_,theta:p}},jI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=e,u=zK(s,l),d=s+u,h=vn(t,n,i,s),p=vn(t,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=vn(t,n,r,s),x=vn(t,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},UK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=Mr(h-d),{circleTangency:g,lineTangency:v,theta:x}=ah({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:_,theta:E}=ah({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-h):Math.abs(d-h)-x-E;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:P,theta:T}=ah({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:D,lineTangency:I,theta:B}=ah({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),$=u?Math.abs(d-h):Math.abs(d-h)-T-B;if($<0&&s===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},VK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CI=e=>{var t=Xn(e,VK),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=at("recharts-sector",g),x=s-i,S=Ja(l,x,0,!0),_;return S>0&&Math.abs(h-p)<360?_=UK({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):_=jI({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",hb({},Dn(t),{className:v,d:_}))};function FK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(vR(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=t,d=vn(r,i,s,u),h=vn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return EI(t)}}var zy={},Uy={},Vy={},AO;function HK(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Vy)),Vy}var OO;function $K(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HK();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Uy)),Uy}var kO;function qK(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AR(),n=$K();function r(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}e.range=r})(zy)),zy}var Fy,DO;function GK(){return DO||(DO=1,Fy=qK().range),Fy}var YK=GK();const NI=gi(YK);function qa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d1(e){let t,n,r;e.length!==2?(t=qa,n=(u,d)=>qa(e(u),d),r=(u,d)=>e(u)-d):(t=e===qa||e===KK?e:WK,n=e,r=e);function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function WK(){return 0}function TI(e){return e===null?NaN:+e}function*XK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const QK=d1(qa),dd=QK.right;d1(TI).center;class PO extends Map{constructor(t,n=eW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MO(this,t))}has(t){return super.has(MO(this,t))}set(t,n){return super.set(ZK(this,t),n)}delete(t){return super.delete(JK(this,t))}}function MO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ZK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function JK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function eW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tW(e=qa){if(e===qa)return AI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function AI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const nW=Math.sqrt(50),rW=Math.sqrt(10),iW=Math.sqrt(2);function em(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=nW?10:s>=rW?5:s>=iW?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=n&&n<2?em(e,t,n*2):[u,d,h]}function mb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?em(t,e,n):em(e,t,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function pb(e,t,n){return t=+t,e=+e,n=+n,em(e,t,n)[2]}function gb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?pb(t,e,n):pb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function RO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function IO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function OI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?AI:tW(i);r>n;){if(r-n>600){const d=r-n+1,h=t-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),x=Math.max(n,Math.floor(t-h*g/d+v)),S=Math.min(r,Math.floor(t+(d-h)*g/d+v));OI(e,t,x,S,i)}const s=e[t];let l=n,u=r;for(eu(e,n,t),i(e[r],s)>0&&eu(e,n,r);l<u;){for(eu(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[n],s)===0?eu(e,n,u):(++u,eu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function eu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function aW(e,t,n){if(e=Float64Array.from(XK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return IO(e);if(t>=1)return RO(e);var r,i=(r-1)*t,s=Math.floor(i),l=RO(OI(e,s).subarray(0,s+1)),u=IO(e.subarray(s+1));return l+(u-l)*(i-s)}}function sW(e,t,n=TI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function oW(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vb=Symbol("implicit");function f1(){var e=new PO,t=[],n=[],r=vb;function i(s){let l=e.get(s);if(l===void 0){if(r!==vb)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new PO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return f1(t,n).unknown(r)},Vr.apply(i,arguments),i}function h1(){var e=f1().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<r,S=x?i:r,_=x?r:i;s=(_-S)/Math.max(1,v-d+h*2),u&&(s=Math.floor(s)),S+=(_-S-s*(v-d))*p,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var E=oW(v).map(function(j){return S+s*j});return n(x?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return h1(t(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Vr.apply(g(),arguments)}function kI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kI(t())},e}function lW(){return kI(h1.apply(null,arguments).paddingInner(1))}function m1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function DI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fd(){}var Iu=.7,tm=1/Iu,hl="\\s*([+-]?\\d+)\\s*",Lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cW=/^#([0-9a-f]{3,8})$/,uW=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),dW=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),fW=new RegExp(`^rgba\\(${hl},${hl},${hl},${Lu}\\)$`),hW=new RegExp(`^rgba\\(${ci},${ci},${ci},${Lu}\\)$`),mW=new RegExp(`^hsl\\(${Lu},${ci},${ci}\\)$`),pW=new RegExp(`^hsla\\(${Lu},${ci},${ci},${Lu}\\)$`),LO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m1(fd,Bu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BO,formatHex:BO,formatHex8:gW,formatHsl:vW,formatRgb:zO,toString:zO});function BO(){return this.rgb().formatHex()}function gW(){return this.rgb().formatHex8()}function vW(){return PI(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function Bu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?UO(t):n===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uW.exec(e))?new $n(t[1],t[2],t[3],1):(t=dW.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fW.exec(e))?sh(t[1],t[2],t[3],t[4]):(t=hW.exec(e))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mW.exec(e))?HO(t[1],t[2]/100,t[3]/100,1):(t=pW.exec(e))?HO(t[1],t[2]/100,t[3]/100,t[4]):LO.hasOwnProperty(e)?UO(LO[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function UO(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function sh(e,t,n,r){return r<=0&&(e=t=n=NaN),new $n(e,t,n,r)}function yW(e){return e instanceof fd||(e=Bu(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function yb(e,t,n,r){return arguments.length===1?yW(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}m1($n,yb,DI(fd,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(Gs(this.r),Gs(this.g),Gs(this.b),nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VO,formatHex:VO,formatHex8:xW,formatRgb:FO,toString:FO}));function VO(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}`}function xW(){return`#${Ls(this.r)}${Ls(this.g)}${Ls(this.b)}${Ls((isNaN(this.opacity)?1:this.opacity)*255)}`}function FO(){const e=nm(this.opacity);return`${e===1?"rgb(":"rgba("}${Gs(this.r)}, ${Gs(this.g)}, ${Gs(this.b)}${e===1?")":`, ${e})`}`}function nm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ls(e){return e=Gs(e),(e<16?"0":"")+e.toString(16)}function HO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Yr(e,t,n,r)}function PI(e){if(e instanceof Yr)return new Yr(e.h,e.s,e.l,e.opacity);if(e instanceof fd||(e=Bu(e)),!e)return new Yr;if(e instanceof Yr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(t===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Yr(l,u,d,e.opacity)}function bW(e,t,n,r){return arguments.length===1?PI(e):new Yr(e,t,n,r??1)}function Yr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}m1(Yr,bW,DI(fd,{brighter(e){return e=e==null?tm:Math.pow(tm,e),new Yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Iu:Math.pow(Iu,e),new Yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $n(Hy(e>=240?e-240:e+120,i,r),Hy(e,i,r),Hy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Yr($O(this.h),oh(this.s),oh(this.l),nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nm(this.opacity);return`${e===1?"hsl(":"hsla("}${$O(this.h)}, ${oh(this.s)*100}%, ${oh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $O(e){return e=(e||0)%360,e<0?e+360:e}function oh(e){return Math.max(0,Math.min(1,e||0))}function Hy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const p1=e=>()=>e;function wW(e,t){return function(n){return e+n*t}}function SW(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _W(e){return(e=+e)==1?MI:function(t,n){return n-t?SW(t,n,e):p1(isNaN(t)?n:t)}}function MI(e,t){var n=t-e;return n?wW(e,n):p1(isNaN(e)?t:e)}const qO=(function e(t){var n=_W(t);function r(i,s){var l=n((i=yb(i)).r,(s=yb(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=MI(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function EW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function jW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CW(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Ul(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function NW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function rm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function TW(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ul(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var xb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$y=new RegExp(xb.source,"g");function AW(e){return function(){return e}}function OW(e){return function(t){return e(t)+""}}function kW(e,t){var n=xb.lastIndex=$y.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=xb.exec(e))&&(i=$y.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:rm(r,i)})),n=$y.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?OW(d[0].x):AW(t):(t=d.length,function(h){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function Ul(e,t){var n=typeof t,r;return t==null||n==="boolean"?p1(t):(n==="number"?rm:n==="string"?(r=Bu(t))?(t=r,qO):kW:t instanceof Bu?qO:t instanceof Date?NW:jW(t)?EW:Array.isArray(t)?CW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TW:rm)(e,t)}function g1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function DW(e,t){t===void 0&&(t=e,e=Ul);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function PW(e){return function(){return e}}function im(e){return+e}var GO=[0,1];function Tn(e){return e}function bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:PW(isNaN(t)?NaN:.5)}function MW(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function RW(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=bb(i,r),s=n(l,s)):(r=bb(r,i),s=n(s,l)),function(u){return s(r(u))}}function IW(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=bb(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(u){var d=dd(e,u,1,r)-1;return s[d](i[d](u))}}function hd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pp(){var e=GO,t=GO,n=Ul,r,i,s,l=Tn,u,d,h;function p(){var v=Math.min(e.length,t.length);return l!==Tn&&(l=MW(e[0],e[v-1])),u=v>2?IW:RW,d=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=u(t,e.map(r),rm)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,im),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=g1,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Tn,p()):l!==Tn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,x){return r=v,i=x,p()}}function v1(){return pp()(Tn,Tn)}function LW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function am(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _l(e){return e=am(Math.abs(e)),e?e[1]:NaN}function BW(e,t){return function(n,r){for(var i=n.length,s=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function zW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var UW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zu(e){if(!(t=UW.exec(e)))throw new Error("invalid format: "+e);var t;return new y1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zu.prototype=y1.prototype;function y1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}y1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VW(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var RI;function FW(e,t){var n=am(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(RI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+am(e,Math.max(0,t+s-1))[0]}function YO(e,t){var n=am(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YO(e*100,t),r:YO,s:FW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WO(e){return e}var XO=Array.prototype.map,QO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function HW(e){var t=e.grouping===void 0||e.thousands===void 0?WO:BW(XO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?WO:zW(XO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(g){g=zu(g);var v=g.fill,x=g.align,S=g.sign,_=g.symbol,E=g.zero,j=g.width,A=g.comma,N=g.precision,P=g.trim,T=g.type;T==="n"?(A=!0,T="g"):KO[T]||(N===void 0&&(N=12),P=!0,T="g"),(E||v==="0"&&x==="=")&&(E=!0,v="0",x="=");var D=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=_==="$"?r:/[%p]/.test(T)?l:"",B=KO[T],$=/[defgprs%]/.test(T);N=N===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function Z(U){var J=D,oe=I,de,ae,M;if(T==="c")oe=B(U)+oe,U="";else{U=+U;var k=U<0||1/U<0;if(U=isNaN(U)?d:B(Math.abs(U),N),P&&(U=VW(U)),k&&+U==0&&S!=="+"&&(k=!1),J=(k?S==="("?S:u:S==="-"||S==="("?"":S)+J,oe=(T==="s"?QO[8+RI/3]:"")+oe+(k&&S==="("?")":""),$){for(de=-1,ae=U.length;++de<ae;)if(M=U.charCodeAt(de),48>M||M>57){oe=(M===46?i+U.slice(de+1):U.slice(de))+oe,U=U.slice(0,de);break}}}A&&!E&&(U=t(U,1/0));var Y=J.length+U.length+oe.length,F=Y<j?new Array(j-Y+1).join(v):"";switch(A&&E&&(U=t(F+U,F.length?j-oe.length:1/0),F=""),x){case"<":U=J+U+oe+F;break;case"=":U=J+F+U+oe;break;case"^":U=F.slice(0,Y=F.length>>1)+J+U+oe+F.slice(Y);break;default:U=F+J+U+oe;break}return s(U)}return Z.toString=function(){return g+""},Z}function p(g,v){var x=h((g=zu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(_l(v)/3)))*3,_=Math.pow(10,-S),E=QO[8+S/3];return function(j){return x(_*j)+E}}return{format:h,formatPrefix:p}}var lh,x1,II;$W({thousands:",",grouping:[3],currency:["$",""]});function $W(e){return lh=HW(e),x1=lh.format,II=lh.formatPrefix,lh}function qW(e){return Math.max(0,-_l(Math.abs(e)))}function GW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_l(t)/3)))*3-_l(Math.abs(e)))}function YW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_l(t)-_l(e))+1}function LI(e,t,n,r){var i=gb(e,t,n),s;switch(r=zu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=GW(i,l))&&(r.precision=s),II(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=YW(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qW(i))&&(r.precision=s-(r.type==="%")*2);break}}return x1(r)}function is(e){var t=e.domain;return e.ticks=function(n){var r=t();return mb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return LI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=pb(l,u,n),h===d)return r[i]=l,r[s]=u,t(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function BI(){var e=v1();return e.copy=function(){return hd(e,BI())},Vr.apply(e,arguments),is(e)}function zI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,im),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return zI(e).unknown(t)},e=arguments.length?Array.from(e,im):[0,1],is(n)}function UI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function ZO(e){return Math.log(e)}function JO(e){return Math.exp(e)}function KW(e){return-Math.log(-e)}function WW(e){return-Math.exp(-e)}function XW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QW(e){return e===10?XW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ZW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function e2(e){return(t,n)=>-e(-t,n)}function b1(e){const t=e(ZO,JO),n=t.domain;let r=10,i,s;function l(){return i=ZW(r),s=QW(r),n()[0]<0?(i=e2(i),s=e2(s),e(KW,WW)):e(ZO,JO),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),x=i(p),S,_;const E=u==null?10:+u;let j=[];if(!(r%1)&&x-v<E){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(S=1;S<r;++S)if(_=v<0?S/s(-v):S*s(v),!(_<h)){if(_>p)break;j.push(_)}}else for(;v<=x;++v)for(S=r-1;S>=1;--S)if(_=v>0?S/s(-v):S*s(v),!(_<h)){if(_>p)break;j.push(_)}j.length*2<E&&(j=mb(h,p,E))}else j=mb(v,x,Math.min(x-v,E)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=zu(d)).precision==null&&(d.trim=!0),d=x1(d)),u===1/0)return d;const h=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},t.nice=()=>n(UI(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function VI(){const e=b1(pp()).domain([1,10]);return e.copy=()=>hd(e,VI()).base(e.base()),Vr.apply(e,arguments),e}function t2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function n2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function w1(e){var t=1,n=e(t2(t),n2(t));return n.constant=function(r){return arguments.length?e(t2(t=+r),n2(t)):t},is(n)}function FI(){var e=w1(pp());return e.copy=function(){return hd(e,FI()).constant(e.constant())},Vr.apply(e,arguments)}function r2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eX(e){return e<0?-e*e:e*e}function S1(e){var t=e(Tn,Tn),n=1;function r(){return n===1?e(Tn,Tn):n===.5?e(JW,eX):e(r2(n),r2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},is(t)}function _1(){var e=S1(pp());return e.copy=function(){return hd(e,_1()).exponent(e.exponent())},Vr.apply(e,arguments),e}function tX(){return _1.apply(null,arguments).exponent(.5)}function i2(e){return Math.sign(e)*e*e}function nX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HI(){var e=v1(),t=[0,1],n=!1,r;function i(s){var l=nX(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert(i2(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,im)).map(i2)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return HI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vr.apply(i,arguments),is(i)}function $I(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=sW(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:t[dd(n,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(qa),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return $I().domain(e).range(t).unknown(r)},Vr.apply(s,arguments)}function qI(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[dd(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return qI().domain([e,t]).range(i).unknown(s)},Vr.apply(is(l),arguments)}function GI(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[dd(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return GI().domain(e).range(t).unknown(n)},Vr.apply(i,arguments)}const qy=new Date,Gy=new Date;function Ht(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<l);return d},i.filter=s=>Ht(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(qy.setTime(+s),Gy.setTime(+l),e(qy),e(Gy),Math.floor(n(qy,Gy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const sm=Ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sm);sm.range;const zi=1e3,Rr=zi*60,Ui=Rr*60,Ji=Ui*24,E1=Ji*7,a2=Ji*30,Yy=Ji*365,Bs=Ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCSeconds());Bs.range;const j1=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zi)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());j1.range;const C1=Ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());C1.range;const N1=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zi-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getHours());N1.range;const T1=Ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCHours());T1.range;const md=Ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Ji,e=>e.getDate()-1);md.range;const gp=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>e.getUTCDate()-1);gp.range;const YI=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ji,e=>Math.floor(e/Ji));YI.range;function co(e){return Ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/E1)}const vp=co(0),om=co(1),rX=co(2),iX=co(3),El=co(4),aX=co(5),sX=co(6);vp.range;om.range;rX.range;iX.range;El.range;aX.range;sX.range;function uo(e){return Ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/E1)}const yp=uo(0),lm=uo(1),oX=uo(2),lX=uo(3),jl=uo(4),cX=uo(5),uX=uo(6);yp.range;lm.range;oX.range;lX.range;jl.range;cX.range;uX.range;const A1=Ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());A1.range;const O1=Ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());O1.range;const ea=Ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ea.range;const ta=Ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ta.range;function KI(e,t,n,r,i,s){const l=[[Bs,1,zi],[Bs,5,5*zi],[Bs,15,15*zi],[Bs,30,30*zi],[s,1,Rr],[s,5,5*Rr],[s,15,15*Rr],[s,30,30*Rr],[i,1,Ui],[i,3,3*Ui],[i,6,6*Ui],[i,12,12*Ui],[r,1,Ji],[r,2,2*Ji],[n,1,E1],[t,1,a2],[t,3,3*a2],[e,1,Yy]];function u(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:d(h,p,g),S=x?x.range(h,+p+1):[];return v?S.reverse():S}function d(h,p,g){const v=Math.abs(p-h)/g,x=d1(([,,E])=>E).right(l,v);if(x===l.length)return e.every(gb(h/Yy,p/Yy,g));if(x===0)return sm.every(Math.max(gb(h,p,g),1));const[S,_]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return S.every(_)}return[u,d]}const[dX,fX]=KI(ta,O1,yp,YI,T1,C1),[hX,mX]=KI(ea,A1,vp,md,N1,j1);function Ky(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=nu(i),p=ru(i),g=nu(s),v=ru(s),x=nu(l),S=ru(l),_=nu(u),E=ru(u),j=nu(d),A=ru(d),N={a:k,A:Y,b:F,B:se,c:null,d:d2,e:d2,f:BX,g:KX,G:XX,H:RX,I:IX,j:LX,L:WI,m:zX,M:UX,p:R,q:G,Q:m2,s:p2,S:VX,u:FX,U:HX,V:$X,w:qX,W:GX,x:null,X:null,y:YX,Y:WX,Z:QX,"%":h2},P={a:ie,A:ue,b:ge,B:Ce,c:null,d:f2,e:f2,f:tQ,g:dQ,G:hQ,H:ZX,I:JX,j:eQ,L:QI,m:nQ,M:rQ,p:te,q:ve,Q:m2,s:p2,S:iQ,u:aQ,U:sQ,V:oQ,w:lQ,W:cQ,x:null,X:null,y:uQ,Y:fQ,Z:mQ,"%":h2},T={a:Z,A:U,b:J,B:oe,c:de,d:c2,e:c2,f:kX,g:l2,G:o2,H:u2,I:u2,j:NX,L:OX,m:CX,M:TX,p:$,q:jX,Q:PX,s:MX,S:AX,u:bX,U:wX,V:SX,w:xX,W:_X,x:ae,X:M,y:l2,Y:o2,Z:EX,"%":DX};N.x=D(n,N),N.X=D(r,N),N.c=D(t,N),P.x=D(n,P),P.X=D(r,P),P.c=D(t,P);function D(W,Ee){return function(De){var le=[],sn=-1,Fe=0,on=W.length,ln,yi,ec;for(De instanceof Date||(De=new Date(+De));++sn<on;)W.charCodeAt(sn)===37&&(le.push(W.slice(Fe,sn)),(yi=s2[ln=W.charAt(++sn)])!=null?ln=W.charAt(++sn):yi=ln==="e"?" ":"0",(ec=Ee[ln])&&(ln=ec(De,yi)),le.push(ln),Fe=sn+1);return le.push(W.slice(Fe,sn)),le.join("")}}function I(W,Ee){return function(De){var le=tu(1900,void 0,1),sn=B(le,W,De+="",0),Fe,on;if(sn!=De.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ee&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Fe=Wy(tu(le.y,0,1)),on=Fe.getUTCDay(),Fe=on>4||on===0?lm.ceil(Fe):lm(Fe),Fe=gp.offset(Fe,(le.V-1)*7),le.y=Fe.getUTCFullYear(),le.m=Fe.getUTCMonth(),le.d=Fe.getUTCDate()+(le.w+6)%7):(Fe=Ky(tu(le.y,0,1)),on=Fe.getDay(),Fe=on>4||on===0?om.ceil(Fe):om(Fe),Fe=md.offset(Fe,(le.V-1)*7),le.y=Fe.getFullYear(),le.m=Fe.getMonth(),le.d=Fe.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),on="Z"in le?Wy(tu(le.y,0,1)).getUTCDay():Ky(tu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(on+5)%7:le.w+le.U*7-(on+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Wy(le)):Ky(le)}}function B(W,Ee,De,le){for(var sn=0,Fe=Ee.length,on=De.length,ln,yi;sn<Fe;){if(le>=on)return-1;if(ln=Ee.charCodeAt(sn++),ln===37){if(ln=Ee.charAt(sn++),yi=T[ln in s2?Ee.charAt(sn++):ln],!yi||(le=yi(W,De,le))<0)return-1}else if(ln!=De.charCodeAt(le++))return-1}return le}function $(W,Ee,De){var le=h.exec(Ee.slice(De));return le?(W.p=p.get(le[0].toLowerCase()),De+le[0].length):-1}function Z(W,Ee,De){var le=x.exec(Ee.slice(De));return le?(W.w=S.get(le[0].toLowerCase()),De+le[0].length):-1}function U(W,Ee,De){var le=g.exec(Ee.slice(De));return le?(W.w=v.get(le[0].toLowerCase()),De+le[0].length):-1}function J(W,Ee,De){var le=j.exec(Ee.slice(De));return le?(W.m=A.get(le[0].toLowerCase()),De+le[0].length):-1}function oe(W,Ee,De){var le=_.exec(Ee.slice(De));return le?(W.m=E.get(le[0].toLowerCase()),De+le[0].length):-1}function de(W,Ee,De){return B(W,t,Ee,De)}function ae(W,Ee,De){return B(W,n,Ee,De)}function M(W,Ee,De){return B(W,r,Ee,De)}function k(W){return l[W.getDay()]}function Y(W){return s[W.getDay()]}function F(W){return d[W.getMonth()]}function se(W){return u[W.getMonth()]}function R(W){return i[+(W.getHours()>=12)]}function G(W){return 1+~~(W.getMonth()/3)}function ie(W){return l[W.getUTCDay()]}function ue(W){return s[W.getUTCDay()]}function ge(W){return d[W.getUTCMonth()]}function Ce(W){return u[W.getUTCMonth()]}function te(W){return i[+(W.getUTCHours()>=12)]}function ve(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Ee=D(W+="",N);return Ee.toString=function(){return W},Ee},parse:function(W){var Ee=I(W+="",!1);return Ee.toString=function(){return W},Ee},utcFormat:function(W){var Ee=D(W+="",P);return Ee.toString=function(){return W},Ee},utcParse:function(W){var Ee=I(W+="",!0);return Ee.toString=function(){return W},Ee}}}var s2={"-":"",_:" ",0:"0"},an=/^\s*\d+/,gX=/^%/,vX=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function yX(e){return e.replace(vX,"\\$&")}function nu(e){return new RegExp("^(?:"+e.map(yX).join("|")+")","i")}function ru(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function xX(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bX(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wX(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function SX(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _X(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function o2(e,t,n){var r=an.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function l2(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jX(e,t,n){var r=an.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function CX(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function c2(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function NX(e,t,n){var r=an.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function u2(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function TX(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AX(e,t,n){var r=an.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function OX(e,t,n){var r=an.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kX(e,t,n){var r=an.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DX(e,t,n){var r=gX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function PX(e,t,n){var r=an.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MX(e,t,n){var r=an.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function d2(e,t){return Ge(e.getDate(),t,2)}function RX(e,t){return Ge(e.getHours(),t,2)}function IX(e,t){return Ge(e.getHours()%12||12,t,2)}function LX(e,t){return Ge(1+md.count(ea(e),e),t,3)}function WI(e,t){return Ge(e.getMilliseconds(),t,3)}function BX(e,t){return WI(e,t)+"000"}function zX(e,t){return Ge(e.getMonth()+1,t,2)}function UX(e,t){return Ge(e.getMinutes(),t,2)}function VX(e,t){return Ge(e.getSeconds(),t,2)}function FX(e){var t=e.getDay();return t===0?7:t}function HX(e,t){return Ge(vp.count(ea(e)-1,e),t,2)}function XI(e){var t=e.getDay();return t>=4||t===0?El(e):El.ceil(e)}function $X(e,t){return e=XI(e),Ge(El.count(ea(e),e)+(ea(e).getDay()===4),t,2)}function qX(e){return e.getDay()}function GX(e,t){return Ge(om.count(ea(e)-1,e),t,2)}function YX(e,t){return Ge(e.getFullYear()%100,t,2)}function KX(e,t){return e=XI(e),Ge(e.getFullYear()%100,t,2)}function WX(e,t){return Ge(e.getFullYear()%1e4,t,4)}function XX(e,t){var n=e.getDay();return e=n>=4||n===0?El(e):El.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function QX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function f2(e,t){return Ge(e.getUTCDate(),t,2)}function ZX(e,t){return Ge(e.getUTCHours(),t,2)}function JX(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function eQ(e,t){return Ge(1+gp.count(ta(e),e),t,3)}function QI(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function tQ(e,t){return QI(e,t)+"000"}function nQ(e,t){return Ge(e.getUTCMonth()+1,t,2)}function rQ(e,t){return Ge(e.getUTCMinutes(),t,2)}function iQ(e,t){return Ge(e.getUTCSeconds(),t,2)}function aQ(e){var t=e.getUTCDay();return t===0?7:t}function sQ(e,t){return Ge(yp.count(ta(e)-1,e),t,2)}function ZI(e){var t=e.getUTCDay();return t>=4||t===0?jl(e):jl.ceil(e)}function oQ(e,t){return e=ZI(e),Ge(jl.count(ta(e),e)+(ta(e).getUTCDay()===4),t,2)}function lQ(e){return e.getUTCDay()}function cQ(e,t){return Ge(lm.count(ta(e)-1,e),t,2)}function uQ(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function dQ(e,t){return e=ZI(e),Ge(e.getUTCFullYear()%100,t,2)}function fQ(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function hQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jl(e):jl.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function mQ(){return"+0000"}function h2(){return"%"}function m2(e){return+e}function p2(e){return Math.floor(+e/1e3)}var Jo,JI,eL;pQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pQ(e){return Jo=pX(e),JI=Jo.format,Jo.parse,eL=Jo.utcFormat,Jo.utcParse,Jo}function gQ(e){return new Date(e)}function vQ(e){return e instanceof Date?+e:+new Date(+e)}function k1(e,t,n,r,i,s,l,u,d,h){var p=v1(),g=p.invert,v=p.domain,x=h(".%L"),S=h(":%S"),_=h("%I:%M"),E=h("%I %p"),j=h("%a %d"),A=h("%b %d"),N=h("%B"),P=h("%Y");function T(D){return(d(D)<D?x:u(D)<D?S:l(D)<D?_:s(D)<D?E:r(D)<D?i(D)<D?j:A:n(D)<D?N:P)(D)}return p.invert=function(D){return new Date(g(D))},p.domain=function(D){return arguments.length?v(Array.from(D,vQ)):v().map(gQ)},p.ticks=function(D){var I=v();return e(I[0],I[I.length-1],D??10)},p.tickFormat=function(D,I){return I==null?T:h(I)},p.nice=function(D){var I=v();return(!D||typeof D.range!="function")&&(D=t(I[0],I[I.length-1],D??10)),D?v(UI(I,D)):p},p.copy=function(){return hd(p,k1(e,t,n,r,i,s,l,u,d,h))},p}function yQ(){return Vr.apply(k1(hX,mX,ea,A1,vp,md,N1,j1,Bs,JI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xQ(){return Vr.apply(k1(dX,fX,ta,O1,yp,gp,T1,C1,Bs,eL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xp(){var e=0,t=1,n,r,i,s,l=Tn,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var x,S;return arguments.length?([x,S]=v,l=g(x,S),h):[l(0),l(1)]}}return h.range=p(Ul),h.rangeRound=p(g1),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function as(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tL(){var e=is(xp()(Tn));return e.copy=function(){return as(e,tL())},ua.apply(e,arguments)}function nL(){var e=b1(xp()).domain([1,10]);return e.copy=function(){return as(e,nL()).base(e.base())},ua.apply(e,arguments)}function rL(){var e=w1(xp());return e.copy=function(){return as(e,rL()).constant(e.constant())},ua.apply(e,arguments)}function D1(){var e=S1(xp());return e.copy=function(){return as(e,D1()).exponent(e.exponent())},ua.apply(e,arguments)}function bQ(){return D1.apply(null,arguments).exponent(.5)}function iL(){var e=[],t=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return t((dd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(qa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>aW(e,s/r))},n.copy=function(){return iL(t).domain(e)},ua.apply(n,arguments)}function bp(){var e=0,t=.5,n=1,r=1,i,s,l,u,d,h=Tn,p,g=!1,v;function x(_){return isNaN(_=+_)?v:(_=.5+((_=+p(_))-s)*(r*_<r*s?u:d),h(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,i=p(e=+e),s=p(t=+t),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(h=_,x):h};function S(_){return function(E){var j,A,N;return arguments.length?([j,A,N]=E,h=DW(_,[j,A,N]),x):[h(0),h(.5),h(1)]}}return x.range=S(Ul),x.rangeRound=S(g1),x.unknown=function(_){return arguments.length?(v=_,x):v},function(_){return p=_,i=_(e),s=_(t),l=_(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function aL(){var e=is(bp()(Tn));return e.copy=function(){return as(e,aL())},ua.apply(e,arguments)}function sL(){var e=b1(bp()).domain([.1,1,10]);return e.copy=function(){return as(e,sL()).base(e.base())},ua.apply(e,arguments)}function oL(){var e=w1(bp());return e.copy=function(){return as(e,oL()).constant(e.constant())},ua.apply(e,arguments)}function P1(){var e=S1(bp());return e.copy=function(){return as(e,P1()).exponent(e.exponent())},ua.apply(e,arguments)}function wQ(){return P1.apply(null,arguments).exponent(.5)}const hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h1,scaleDiverging:aL,scaleDivergingLog:sL,scaleDivergingPow:P1,scaleDivergingSqrt:wQ,scaleDivergingSymlog:oL,scaleIdentity:zI,scaleImplicit:vb,scaleLinear:BI,scaleLog:VI,scaleOrdinal:f1,scalePoint:lW,scalePow:_1,scaleQuantile:$I,scaleQuantize:qI,scaleRadial:HI,scaleSequential:tL,scaleSequentialLog:nL,scaleSequentialPow:D1,scaleSequentialQuantile:iL,scaleSequentialSqrt:bQ,scaleSequentialSymlog:rL,scaleSqrt:tX,scaleSymlog:FI,scaleThreshold:GI,scaleTime:yQ,scaleUtc:xQ,tickFormat:LI},Symbol.toStringTag,{value:"Module"}));var ss=e=>e.chartData,SQ=Q([ss],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),M1=(e,t,n,r)=>r?SQ(e):ss(e);function Qs(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(nn(t)&&nn(n))return!0}return!1}function g2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(nn(n))i=n;else if(typeof n=="function")return;if(nn(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(Qs(l))return l}}function _Q(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Qs(r))return g2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&ZA.test(i)){var d=ZA.exec(i);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(be(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&JA.test(s)){var p=JA.exec(s);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(Qs(v))return t==null?v:g2(v,t,n)}}}var Vl=1e9,EQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},I1,vt=!0,Lr="[DecimalError] ",Ys=Lr+"Invalid argument: ",R1=Lr+"Exponent out of range: ",Fl=Math.floor,Ps=Math.pow,jQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr,Zt=1e7,ht=7,cL=9007199254740991,cm=Fl(cL/ht),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return Yi(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return it(Yi(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return It(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(hr))throw Error(Lr+"NaN");if(n.s<1)throw Error(Lr+(n.s?"NaN":"-Infinity"));return n.eq(hr)?new r(0):(vt=!1,t=Yi(Uu(n,s),Uu(e,s),s),vt=!0,it(t,i))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fL(t,e):uL(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Lr+"NaN");return n.s?(vt=!1,t=Yi(n,e,0,1).times(e),vt=!0,n.minus(t)):it(new r(n),i)};fe.naturalExponential=fe.exp=function(){return dL(this)};fe.naturalLogarithm=fe.ln=function(){return Uu(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uL(t,e):fL(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ys+e);if(t=It(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Lr+"NaN")}for(e=It(u),vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=si(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Yi(u,s,l+2)).times(.5),si(s.d).slice(0,l)===(t=si(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(it(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;l+=4}return vt=!0,it(r,n)};fe.times=fe.mul=function(e){var t,n,r,i,s,l,u,d,h,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,d=v.length,h=x.length,d<h&&(s=v,v=x,x=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=d+r;i>r;)u=s[i]+x[r]*v[i-r-1]+t,s[i--]=u%Zt|0,t=u/Zt|0;s[i]=(s[i]+t)%Zt|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,vt?it(e,g.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(pi(e,0,Vl),t===void 0?t=r.rounding:pi(t,0,8),it(n,e+It(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Zs(r,!0):(pi(e,0,Vl),t===void 0?t=i.rounding:pi(t,0,8),r=it(new i(r),e+1,t),n=Zs(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Zs(i):(pi(e,0,Vl),t===void 0?t=s.rounding:pi(t,0,8),r=it(new s(i),e+It(i)+1,t),n=Zs(r.abs(),!1,e+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return it(new t(e),It(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(hr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Lr+"Infinity");return u}if(u.eq(hr))return u;if(r=d.precision,e.eq(hr))return it(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=u.s,l){if((n=p<0?-p:p)<=cL){for(i=new d(hr),t=Math.ceil(r/ht+4),vt=!1;n%2&&(i=i.times(u),y2(i.d,t)),n=Fl(n/2),n!==0;)u=u.times(u),y2(u.d,t);return vt=!0,e.s<0?new d(hr).div(i):it(i,r)}}else if(s<0)throw Error(Lr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,vt=!1,i=e.times(Uu(u,r+h)),vt=!0,i=dL(i),i.s=s,i};fe.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=It(i),r=Zs(i,n<=s.toExpNeg||n>=s.toExpPos)):(pi(e,1,Vl),t===void 0?t=s.rounding:pi(t,0,8),i=it(new s(i),e,t),n=It(i),r=Zs(i,e<=n||n<=s.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(pi(e,1,Vl),t===void 0?t=r.rounding:pi(t,0,8)),it(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=It(e),n=e.constructor;return Zs(e,t<=n.toExpNeg||t>=n.toExpPos)};function uL(e,t){var n,r,i,s,l,u,d,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),vt?it(t,g):t;if(d=e.d,h=t.d,l=e.e,i=t.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/ht),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Zt|0,d[s]%=Zt;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,vt?it(t,g):t}function pi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ys+e)}function si(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=ht-r.length,n&&(s+=Fa(n)),s+=r;l=e[t],r=l+"",n=ht-r.length,n&&(s+=Fa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Yi=(function(){function e(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Zt|0,l=s/Zt|0;return l&&r.unshift(l),r}function t(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Zt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,v,x,S,_,E,j,A,N,P,T,D,I,B,$=r.constructor,Z=r.s==i.s?1:-1,U=r.d,J=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Lr+"Division by zero");for(d=r.e-i.e,I=J.length,T=U.length,x=new $(Z),S=x.d=[],h=0;J[h]==(U[h]||0);)++h;if(J[h]>(U[h]||0)&&--d,s==null?A=s=$.precision:l?A=s+(It(r)-It(i))+1:A=s,A<0)return new $(0);if(A=A/ht+2|0,h=0,I==1)for(p=0,J=J[0],A++;(h<T||p)&&A--;h++)N=p*Zt+(U[h]||0),S[h]=N/J|0,p=N%J|0;else{for(p=Zt/(J[0]+1)|0,p>1&&(J=e(J,p),U=e(U,p),I=J.length,T=U.length),P=I,_=U.slice(0,I),E=_.length;E<I;)_[E++]=0;B=J.slice(),B.unshift(0),D=J[0],J[1]>=Zt/2&&++D;do p=0,u=t(J,_,I,E),u<0?(j=_[0],I!=E&&(j=j*Zt+(_[1]||0)),p=j/D|0,p>1?(p>=Zt&&(p=Zt-1),g=e(J,p),v=g.length,E=_.length,u=t(g,_,v,E),u==1&&(p--,n(g,I<v?B:J,v))):(p==0&&(u=p=1),g=J.slice()),v=g.length,v<E&&g.unshift(0),n(_,g,E),u==-1&&(E=_.length,u=t(J,_,I,E),u<1&&(p++,n(_,I<E?B:J,E))),E=_.length):u===0&&(p++,_=[0]),S[h++]=p,u&&_[0]?_[E++]=U[P]||0:(_=[U[P]],E=1);while((P++<T||_[0]!==void 0)&&A--)}return S[0]||S.shift(),x.e=d,it(x,l?s+It(x)+1:s)}})();function dL(e,t){var n,r,i,s,l,u,d=0,h=0,p=e.constructor,g=p.precision;if(It(e)>16)throw Error(R1+It(e));if(!e.s)return new p(hr);for(vt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(Ps(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(hr),p.precision=u;;){if(i=it(i.times(e),u),n=n.times(++d),l=s.plus(Yi(i,n,u)),si(l.d).slice(0,u)===si(s.d).slice(0,u)){for(;h--;)s=it(s.times(s),u);return p.precision=g,t==null?(vt=!0,it(s,g)):s}s=l}}function It(e){for(var t=e.e*ht,n=e.d[0];n>=10;n/=10)t++;return t}function Xy(e,t,n){if(t>e.LN10.sd())throw vt=!0,n&&(e.precision=n),Error(Lr+"LN10 precision limit exceeded");return it(new e(e.LN10),t)}function Fa(e){for(var t="";e--;)t+="0";return t}function Uu(e,t){var n,r,i,s,l,u,d,h,p,g=1,v=10,x=e,S=x.d,_=x.constructor,E=_.precision;if(x.s<1)throw Error(Lr+(x.s?"NaN":"-Infinity"));if(x.eq(hr))return new _(0);if(t==null?(vt=!1,h=E):h=t,x.eq(10))return t==null&&(vt=!0),Xy(_,h);if(h+=v,_.precision=h,n=si(S),r=n.charAt(0),s=It(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=si(x.d),r=n.charAt(0),g++;s=It(x),r>1?(x=new _("0."+n),s++):x=new _(r+"."+n.slice(1))}else return d=Xy(_,h+2,E).times(s+""),x=Uu(new _(r+"."+n.slice(1)),h-v).plus(d),_.precision=E,t==null?(vt=!0,it(x,E)):x;for(u=l=x=Yi(x.minus(hr),x.plus(hr),h),p=it(x.times(x),h),i=3;;){if(l=it(l.times(p),h),d=u.plus(Yi(l,new _(i),h)),si(d.d).slice(0,h)===si(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(Xy(_,h+2,E).times(s+""))),u=Yi(u,new _(g),h),_.precision=E,t==null?(vt=!0,it(u,E)):u;u=d,i+=2}}function v2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fl(n/ht),e.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ht;r<i;)e.d.push(+t.slice(r,r+=ht));t=t.slice(r),r=ht-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vt&&(e.e>cm||e.e<-cm))throw Error(R1+n)}else e.s=0,e.e=0,e.d=[0];return e}function it(e,t,n){var r,i,s,l,u,d,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=ht,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/ht),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=ht,i=r-ht+l}if(n!==void 0&&(s=Ps(10,l-i-1),u=h/s%10|0,d=t<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Ps(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(s=It(e),g.length=1,t=t-s-1,g[0]=Ps(10,(ht-t%ht)%ht),e.e=Fl(-t/ht)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Ps(10,ht-r),g[p]=i>0?(h/Ps(10,l-i)%Ps(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Zt&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Zt)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(vt&&(e.e>cm||e.e<-cm))throw Error(R1+It(e));return e}function fL(e,t){var n,r,i,s,l,u,d,h,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),vt?it(t,x):t;if(d=e.d,g=t.d,r=t.e,h=e.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(x/ht),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Zt-1;--d[s],d[i]+=Zt}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,vt?it(t,x):t):new v(0)}function Zs(e,t,n){var r,i=It(e),s=si(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Fa(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Fa(-i-1)+s,n&&(r=n-l)>0&&(s+=Fa(r))):i>=l?(s+=Fa(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Fa(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Fa(r))),e.s<0?"-"+s:s}function y2(e,t){if(e.length>t)return e.length=t,!0}function hL(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ys+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return v2(l,s.toString())}else if(typeof s!="string")throw Error(Ys+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,jQ.test(s))v2(l,s);else throw Error(Ys+s)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hL,i.config=i.set=CQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function CQ(e){if(!e||typeof e!="object")throw Error(Lr+"Object expected");var t,n,r,i=["precision",1,Vl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ys+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ys+n+": "+r);return this}var I1=hL(EQ);hr=new I1(1);const Ze=I1;var NQ=e=>e,mL={},pL=e=>e===mL,x2=e=>function t(){return arguments.length===0||arguments.length===1&&pL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gL=(e,t)=>e===1?t:x2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==mL).length;return s>=e?t(...r):gL(e-s,x2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>pL(p)?u.shift():p);return t(...h,...u)}))}),wp=e=>gL(e.length,e),wb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},TQ=wp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),AQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return NQ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Sb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),vL=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function yL(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function xL(e,t,n){for(var r=new Ze(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}wp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});wp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});wp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var bL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},wL=(e,t,n)=>{if(e.lte(0))return new Ze(0);var r=yL(e.toNumber()),i=new Ze(10).pow(r),s=e.div(i),l=r!==1?.05:.1,u=new Ze(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new Ze(d.toNumber()):new Ze(Math.ceil(d.toNumber()))},OQ=(e,t,n)=>{var r=new Ze(1),i=new Ze(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ze(10).pow(yL(e)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ze(Math.floor(e)))}else e===0?i=new Ze(Math.floor((t-1)/2)):n||(i=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=AQ(TQ(d=>i.add(new Ze(d-l).mul(r)).toNumber()),wb);return u(0,t)},SL=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var l=wL(new Ze(n).sub(t).div(r-1),i,s),u;t<=0&&n>=0?u=new Ze(0):(u=new Ze(t).add(n).div(2),u=u.sub(new Ze(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new Ze(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?SL(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new Ze(d).mul(l)),tickMax:u.add(new Ze(h).mul(l))})};function kQ(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,u]=bL([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...wb(0,r-1).map(()=>1/0)]:[...wb(0,r-1).map(()=>-1/0),u];return t>n?Sb(d):d}if(l===u)return OQ(l,r,i);var{step:h,tickMin:p,tickMax:g}=SL(l,u,s,i,0),v=xL(p,g.add(new Ze(.1).mul(h)),h);return t>n?Sb(v):v}function DQ(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=bL([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var u=Math.max(t,2),d=wL(new Ze(l).sub(s).div(u-1),i,0),h=[...xL(new Ze(s),new Ze(l),d),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?Sb(h):h}var PQ=vL(kQ),MQ=vL(DQ),RQ=e=>e.rootProps.barCategoryGap,Sp=e=>e.rootProps.stackOffset,L1=e=>e.options.chartName,B1=e=>e.rootProps.syncId,_L=e=>e.rootProps.syncMethod,z1=e=>e.options.eventEmitter,An={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Li={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_p=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:Li.reversed,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:Li.type,unit:void 0},LQ={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:fr.type,unit:void 0},BQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zQ={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:"category",unit:void 0},U1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?BQ:IQ,V1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zQ:LQ,Ep=e=>e.polarOptions,F1=Q([la,ca,yn],PK),EL=Q([Ep,F1],(e,t)=>{if(e!=null)return Ja(e.innerRadius,t,0)}),jL=Q([Ep,F1],(e,t)=>{if(e!=null)return Ja(e.outerRadius,t,t*.8)}),UQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},CL=Q([Ep],UQ);Q([U1,CL],_p);var NL=Q([F1,EL,jL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([V1,NL],_p);var TL=Q([pt,Ep,EL,jL,la,ca],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=t;return{cx:Ja(l,i,i/2),cy:Ja(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),$t=(e,t)=>t,jp=(e,t,n)=>n;function AL(e){return e==null?void 0:e.id}function OL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return e.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=AL(u);h.forEach((g,v)=>{var x=s==null||i?v:String(kn(g,s,null)),S=kn(g,u.dataKey,0),_;l.has(x)?_=l.get(x):_={},Object.assign(_,{[p]:S}),l.set(x,_)})}}),Array.from(l.values())}function H1(e){return e.stackId!=null&&e.dataKey!=null}var Cp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Np(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VQ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var qt=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hl=e=>e.tooltip.settings.axisId;function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(r){FQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FQ(e,t,n){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _b=[0,"auto"],ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kL=(e,t)=>e.cartesianAxis.xAxis[t],da=(e,t)=>{var n=kL(e,t);return n??ur},dr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_b,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ud},DL=(e,t)=>e.cartesianAxis.yAxis[t],fa=(e,t)=>{var n=DL(e,t);return n??dr},qQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??qQ},Pn=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);case"zAxis":return $1(e,n);case"angleAxis":return U1(e,n);case"radiusAxis":return V1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},GQ=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pd=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);case"angleAxis":return U1(e,n);case"radiusAxis":return V1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ML(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var RL=e=>e.graphicalItems.cartesianItems,YQ=Q([$t,jp],ML),IL=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),gd=Q([RL,Pn,YQ],IL,{memoizeOptions:{resultEqualityCheck:Np}}),LL=Q([gd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(H1)),BL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),KQ=Q([gd],BL),zL=e=>e.map(t=>t.data).filter(Boolean).flat(1),WQ=Q([gd],zL,{memoizeOptions:{resultEqualityCheck:Np}}),UL=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},q1=Q([WQ,M1],UL),VL=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:kn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:kn(i,r)}))):e.map(r=>({value:r})),Tp=Q([q1,Pn,gd],VL);function FL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bh(e){if(hi(e)||e instanceof Date){var t=Number(e);if(nn(t))return t}}function w2(e){if(Array.isArray(e)){var t=[bh(e[0]),bh(e[1])];return Qs(t)?t:void 0}var n=bh(e);if(n!=null)return[n,n]}function na(e){return e.map(bh).filter(_$)}function XQ(e,t,n){return!n||typeof t!="number"||fi(t)?[]:n.length?na(n.flatMap(r=>{var i=kn(e,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!nn(s)||!nn(l)))return[t-s,t+l]})):[]}var Gt=e=>{var t=qt(e),n=Hl(e);return pd(e,t,n)},HL=Q([Gt],e=>e==null?void 0:e.dataKey),QQ=Q([LL,M1,Gt],OL),$L=(e,t,n)=>{var r={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,d=u.map(AL);return[l,{stackedData:BG(e,d,n),graphicalItems:u}]}))},ZQ=Q([QQ,LL,Sp],$L),qL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var l=VG(e,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},JQ=Q([Pn],e=>e.allowDataOverflow),G1=e=>{var t;if(e==null||!("domain"in e))return _b;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=na(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_b},GL=Q([Pn],G1),YL=Q([GL,JQ],lL),eZ=Q([ZQ,ss,$t,YL],qL,{memoizeOptions:{resultEqualityCheck:Cp}}),Y1=e=>e.errorBars,tZ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>FL(n,r)),dm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},KL=(e,t,n,r,i)=>{var s,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(j=>FL(i,j)),v=kn(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),x=XQ(u,v,g);if(x.length>=2){var S=Math.min(...x),_=Math.max(...x);(s==null||S<s)&&(s=S),(l==null||_>l)&&(l=_)}var E=w2(v);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=w2(kn(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),nn(s)&&nn(l))return[s,l]},nZ=Q([q1,Pn,KQ,Y1,$t],KL,{memoizeOptions:{resultEqualityCheck:Cp}});function rZ(e){var{value:t}=e;if(hi(t)||t instanceof Date)return t}var iZ=(e,t,n)=>{var r=e.map(rZ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hR(r))?NI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},WL=e=>e.referenceElements.dots,$l=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),aZ=Q([WL,$t,jp],$l),XL=e=>e.referenceElements.areas,sZ=Q([XL,$t,jp],$l),QL=e=>e.referenceElements.lines,oZ=Q([QL,$t,jp],$l),ZL=(e,t)=>{var n=na(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lZ=Q(aZ,$t,ZL),JL=(e,t)=>{var n=na(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cZ=Q([sZ,$t],JL);function uZ(e){var t;if(e.x!=null)return na([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:na(n)}function dZ(e){var t;if(e.y!=null)return na([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:na(n)}var e3=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?uZ(r):dZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fZ=Q([oZ,$t],e3),hZ=Q(lZ,fZ,cZ,(e,t,n)=>dm(e,n,t)),t3=(e,t,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?dm(r,s,i):dm(s,i);return _Q(t,h,e.allowDataOverflow)},mZ=Q([Pn,GL,YL,eZ,nZ,hZ,pt,$t],t3,{memoizeOptions:{resultEqualityCheck:Cp}}),pZ=[0,1],n3=(e,t,n,r,i,s,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,h=rs(t,s);if(h&&u==null){var p;return NI(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return d==="category"?iZ(r,e,h):i==="expand"?pZ:l}},K1=Q([Pn,pt,q1,Tp,Sp,$t,mZ],n3),r3=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(od(s));return u in hu?u:"point"}}},vd=Q([Pn,pt,PL,L1,$t],r3);function gZ(e){if(e!=null){if(e in hu)return hu[e]();var t="scale".concat(od(e));if(t in hu)return hu[t]()}}function W1(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=gZ(t);if(i!=null){var s=i.domain(n).range(r);return MG(s),s}}}var i3=(e,t,n)=>{var r=G1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qs(e))return PQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qs(e))return MQ(e,t.tickCount,t.allowDecimals)}},X1=Q([K1,pd,vd],i3),a3=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Qs(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return t},vZ=Q([Pn,K1,X1,$t],a3),yZ=Q(Tp,Pn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(na(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),s3=Q(yZ,pt,RQ,yn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!nn(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=Ja(n,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),xZ=(e,t)=>{var n=da(e,t);return n==null||typeof n.padding!="string"?0:s3(e,"xAxis",t,n.padding)},bZ=(e,t)=>{var n=fa(e,t);return n==null||typeof n.padding!="string"?0:s3(e,"yAxis",t,n.padding)},wZ=Q(da,xZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),SZ=Q(fa,bZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),_Z=Q([yn,wZ,dp,up,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),EZ=Q([yn,pt,SZ,dp,up,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),yd=(e,t,n,r)=>{var i;switch(t){case"xAxis":return _Z(e,n,r);case"yAxis":return EZ(e,n,r);case"zAxis":return(i=$1(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return CL(e);case"radiusAxis":return NL(e,n);default:return}},o3=Q([Pn,yd],_p),ql=Q([Pn,vd,vZ,o3],W1);Q([gd,Y1,$t],tZ);function l3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ap=(e,t)=>t,Op=(e,t,n)=>n,jZ=Q(lp,Ap,Op,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(l3)),CZ=Q(cp,Ap,Op,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(l3)),c3=(e,t)=>({width:e.width,height:t.height}),NZ=(e,t)=>{var n=typeof t.width=="number"?t.width:ud;return{width:n,height:e.height}},TZ=Q(yn,da,c3),AZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},OZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},kZ=Q(ca,yn,jZ,Ap,Op,(e,t,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=c3(t,u);l==null&&(l=AZ(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),DZ=Q(la,yn,CZ,Ap,Op,(e,t,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=NZ(t,u);l==null&&(l=OZ(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),PZ=(e,t)=>{var n=da(e,t);if(n!=null)return kZ(e,n.orientation,n.mirror)},MZ=Q([yn,da,PZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),RZ=(e,t)=>{var n=fa(e,t);if(n!=null)return DZ(e,n.orientation,n.mirror)},IZ=Q([yn,fa,RZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),LZ=Q(yn,fa,(e,t)=>{var n=typeof t.width=="number"?t.width:ud;return{width:n,height:e.height}}),u3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=rs(e,r),d=t.map(h=>h.value);if(l&&u&&s==="category"&&i&&hR(d))return d}},Q1=Q([pt,Tp,Pn,$t],u3),d3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=rs(e,r);if(l&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},Z1=Q([pt,Tp,pd,$t],d3),S2=Q([pt,GQ,vd,ql,Q1,Z1,yd,X1,$t],(e,t,n,r,i,s,l,u,d)=>{if(t!=null){var h=rs(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),BZ=(e,t,n,r,i,s,l,u,d)=>{if(!(t==null||r==null)){var h=rs(e,d),{type:p,ticks:g,tickCount:v}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=p==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Mr(s[0]-s[1])*2*S:S;var _=g||i;if(_){var E=_.map((j,A)=>{var N=l?l.indexOf(j):j;return{index:A,coordinate:r(N)+S,value:j,offset:S}});return E.filter(j=>nn(j.coordinate))}return h&&u?u.map((j,A)=>({coordinate:r(j)+S,value:j,index:A,offset:S})).filter(j=>nn(j.coordinate)):r.ticks?r.ticks(v).map(j=>({coordinate:r(j)+S,value:j,offset:S})):r.domain().map((j,A)=>({coordinate:r(j)+S,value:l?l[j]:j,index:A,offset:S}))}},f3=Q([pt,pd,vd,ql,X1,yd,Q1,Z1,$t],BZ),zZ=(e,t,n,r,i,s,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=rs(e,l),{tickCount:d}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Mr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},h3=Q([pt,pd,ql,yd,Q1,Z1,$t],zZ),m3=Q(Pn,ql,(e,t)=>{if(!(e==null||t==null))return um(um({},e),{},{scale:t})}),UZ=Q([Pn,vd,K1,o3],W1);Q((e,t,n)=>$1(e,n),UZ,(e,t)=>{if(!(e==null||t==null))return um(um({},e),{},{scale:t})});var VZ=Q([pt,lp,cp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p3=e=>e.options.defaultTooltipEventType,g3=e=>e.options.validateTooltipEventTypes;function v3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function J1(e,t){var n=p3(e),r=g3(e);return v3(t,n,r)}function FZ(e){return we(t=>J1(t,e))}var y3=(e,t)=>{var n,r=Number(t);if(!(fi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},HZ=e=>e.tooltip.settings,$a={active:!1,index:null,dataKey:void 0,coordinate:void 0},$Z={itemInteraction:{click:$a,hover:$a},axisInteraction:{click:$a,hover:$a},keyboardInteraction:$a,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x3=Qn({name:"tooltip",initialState:$Z,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:zt()},removeTooltipEntrySettings:{reducer(e,t){var n=Gi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:zt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qZ,removeTooltipEntrySettings:GZ,setTooltipSettingsState:YZ,setActiveMouseOverItemIndex:KZ,mouseLeaveItem:ofe,mouseLeaveChart:b3,setActiveClickItemIndex:lfe,setMouseOverAxisIndex:w3,setMouseClickAxisIndex:WZ,setSyncInteraction:Eb,setKeyboardInteraction:jb}=x3.actions,XZ=x3.reducer;function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tJ(e){return e.index!=null}var S3=(e,t,n,r)=>{if(t==null)return $a;var i=eJ(e,t,n);if(i==null)return $a;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(tJ(i)){if(s)return ch(ch({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ch(ch({},$a),{},{coordinate:i.coordinate})},eS=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!nn(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},_3=(e,t,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},E3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},xd=e=>e.options.tooltipPayloadSearcher,Gl=e=>e.tooltip;function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(r){nJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aJ(e,t){return e??t}var j3=(e,t,n,r,i,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((v,x)=>{var S,{dataDefinedOnItem:_,settings:E}=x,j=aJ(_,u),A=Array.isArray(j)?rI(j,h,p):j,N=(S=E==null?void 0:E.dataKey)!==null&&S!==void 0?S:r,P=E==null?void 0:E.nameKey,T;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?T=mR(A,r,i):T=s(A,t,d,P),Array.isArray(T))T.forEach(I=>{var B=j2(j2({},E),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(eO({tooltipEntrySettings:B,dataKey:I.dataKey,payload:I.payload,value:kn(I.payload,I.dataKey),name:I.name}))});else{var D;v.push(eO({tooltipEntrySettings:E,dataKey:N,payload:T,value:kn(T,N),name:(D=kn(T,P))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return v},g)}},tS=Q([Gt,pt,PL,L1,qt],r3),sJ=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oJ=Q([qt,Hl],ML),bd=Q([sJ,Gt,oJ],IL,{memoizeOptions:{resultEqualityCheck:Np}}),lJ=Q([bd],e=>e.filter(H1)),cJ=Q([bd],zL,{memoizeOptions:{resultEqualityCheck:Np}}),Yl=Q([cJ,ss],UL),uJ=Q([lJ,ss,Gt],OL),nS=Q([Yl,Gt,bd],VL),C3=Q([Gt],G1),dJ=Q([Gt],e=>e.allowDataOverflow),N3=Q([C3,dJ],lL),fJ=Q([bd],e=>e.filter(H1)),hJ=Q([uJ,fJ,Sp],$L),mJ=Q([hJ,ss,qt,N3],qL),pJ=Q([bd],BL),gJ=Q([Yl,Gt,pJ,Y1,qt],KL,{memoizeOptions:{resultEqualityCheck:Cp}}),vJ=Q([WL,qt,Hl],$l),yJ=Q([vJ,qt],ZL),xJ=Q([XL,qt,Hl],$l),bJ=Q([xJ,qt],JL),wJ=Q([QL,qt,Hl],$l),SJ=Q([wJ,qt],e3),_J=Q([yJ,SJ,bJ],dm),EJ=Q([Gt,C3,N3,mJ,gJ,_J,pt,qt],t3),T3=Q([Gt,pt,Yl,nS,Sp,qt,EJ],n3),jJ=Q([T3,Gt,tS],i3),CJ=Q([Gt,T3,jJ,qt],a3),A3=e=>{var t=qt(e),n=Hl(e),r=!1;return yd(e,t,n,r)},O3=Q([Gt,A3],_p),k3=Q([Gt,tS,CJ,O3],W1),NJ=Q([pt,nS,Gt,qt],u3),TJ=Q([pt,nS,Gt,qt],d3),AJ=(e,t,n,r,i,s,l,u)=>{if(t){var{type:d}=t,h=rs(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Mr(i[0]-i[1])*2*g:g,h&&l?l.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:s?s[v]:v,index:x,offset:g}))}}},ha=Q([pt,Gt,tS,k3,A3,NJ,TJ,qt],AJ),rS=Q([p3,g3,HZ],(e,t,n)=>v3(n.shared,e,t)),D3=e=>e.tooltip.settings.trigger,iS=e=>e.tooltip.settings.defaultIndex,kp=Q([Gl,rS,D3,iS],S3),Vu=Q([kp,Yl],eS),P3=Q([ha,Vu],y3),OJ=Q([kp],e=>{if(e)return e.dataKey}),M3=Q([Gl,rS,D3,iS],E3),kJ=Q([la,ca,pt,yn,ha,iS,M3,xd],_3),DJ=Q([kp,kJ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),PJ=Q([kp],e=>e.active),MJ=Q([M3,Vu,ss,HL,P3,xd,rS],j3),RJ=Q([MJ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=LJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zJ=()=>we(Gt),UJ=()=>{var e=zJ(),t=we(ha),n=we(k3);return Yh(!e||!n?void 0:N2(N2({},e),{},{scale:n}),t)};function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $J=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},qJ=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:l}=r;return el(el(el({},r),vn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return el(el(el({},r),vn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function GJ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var R3=(e,t,n,r,i)=>{var s,l=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(Mr(p-h)!==Mr(g-p)){var x=[];if(Mr(g-p)===Mr(i[1]-i[0])){v=g;var S=p+i[1]-i[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{v=h;var _=g+i[1]-i[0];x[0]=Math.min(p,(_+p)/2),x[1]=Math.max(p,(_+p)/2)}var E=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){({index:l}=n[d]);break}}else{var j=Math.min(h,g),A=Math.max(h,g);if(e>(j+p)/2&&e<=(A+p)/2){({index:l}=n[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:l}=t[N]);break}}return l},YJ=()=>we(L1),aS=(e,t)=>t,I3=(e,t,n)=>n,sS=(e,t,n,r)=>r,KJ=Q(ha,e=>np(e,t=>t.coordinate)),oS=Q([Gl,aS,I3,sS],S3),L3=Q([oS,Yl],eS),WJ=(e,t,n)=>{if(t!=null){var r=Gl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},B3=Q([Gl,aS,I3,sS],E3),fm=Q([la,ca,pt,yn,ha,sS,B3,xd],_3),XJ=Q([oS,fm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),z3=Q([ha,L3],y3),QJ=Q([B3,L3,ss,HL,z3,xd,aS],j3),ZJ=Q([oS],e=>({isActive:e.active,activeIndex:e.index})),JJ=(e,t,n,r,i,s,l)=>{if(!(!e||!n||!r||!i)&&GJ(e,l)){var u=FG(e,t),d=R3(u,s,i,n,r),h=$J(t,i,d,e);return{activeIndex:String(d),activeCoordinate:h}}},eee=(e,t,n,r,i,s,l)=>{if(!(!e||!r||!i||!s||!n)){var u=BK(e,n);if(u){var d=HG(u,t),h=R3(d,l,s,r,i),p=qJ(t,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},tee=(e,t,n,r,i,s,l,u)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?JJ(e,t,r,i,s,l,u):eee(e,t,n,r,i,s,l)},nee=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),ree=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(An)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:VQ}});function A2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oee={},lee={zIndexMap:Object.values(An).reduce((e,t)=>O2(O2({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),oee)},cee=new Set(Object.values(An));function uee(e){return cee.has(e)}var U3=Qn({name:"zIndex",initialState:lee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!uee(n)&&delete e.zIndexMap[n])},prepare:zt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:zt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:zt()}}}),{registerZIndexPortal:dee,unregisterZIndexPortal:fee,registerZIndexPortalId:hee,unregisterZIndexPortalId:mee}=U3.actions,pee=U3.reducer;function ma(e){var{zIndex:t,children:n}=e,r=SY(),i=r&&t!==void 0&&t!==0,s=Zn(),l=rn();w.useLayoutEffect(()=>i?(l(dee({zIndex:t})),()=>{l(fee({zIndex:t}))}):Bl,[l,t,i]);var u=we(h=>nee(h,t,s));if(!i)return n;if(!u)return null;var d=document.getElementById(u);return d?VD.createPortal(n,d):null}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}function k2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(n),!0).forEach(function(r){gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gee(e,t,n){return(t=vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xee(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return w.isValidElement(t)?w.cloneElement(t,r):w.createElement(n,r)}function bee(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=e,g=n,v=r,x=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var S,_,E;if(p==="ScatterChart")S=g,_=JY,E=An.cursorLine;else if(p==="BarChart")S=eK(u,g,s,l),_=_I,E=An.cursorRectangle;else if(u==="radial"&&vR(g)){var{cx:j,cy:A,radius:N,startAngle:P,endAngle:T}=EI(g);S={cx:j,cy:A,startAngle:P,endAngle:T,innerRadius:N,outerRadius:N},_=CI,E=An.cursorLine}else S={points:FK(u,g,s)},_=yI,E=An.cursorLine;var D=typeof d=="object"&&"className"in d?d.className:void 0,I=uh(uh(uh(uh({stroke:"#ccc",pointerEvents:"none"},s),S),Qm(d)),{},{payload:v,payloadIndex:x,className:at("recharts-tooltip-cursor",D)});return w.createElement(ma,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},w.createElement(xee,{cursor:d,cursorComp:_,cursorProps:I}))}function wee(e){var t=UJ(),n=hI(),r=hp(),i=YJ();return t==null||n==null||r==null||i==null?null:w.createElement(bee,Cb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var V3=w.createContext(null),See=()=>w.useContext(V3),Qy={exports:{}},D2;function _ee(){return D2||(D2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,v),S=n?n+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,S=new Array(x);v<x;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,v,x,S){var _=n?n+h:h;if(!this._events[_])return!1;var E=this._events[_],j=arguments.length,A,N;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),j){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,v),!0;case 5:return E.fn.call(E.context,p,g,v,x),!0;case 6:return E.fn.call(E.context,p,g,v,x,S),!0}for(N=1,A=new Array(j-1);N<j;N++)A[N-1]=arguments[N];E.fn.apply(E.context,A)}else{var P=E.length,T;for(N=0;N<P;N++)switch(E[N].once&&this.removeListener(h,E[N].fn,void 0,!0),j){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,p);break;case 3:E[N].fn.call(E[N].context,p,g);break;case 4:E[N].fn.call(E[N].context,p,g,v);break;default:if(!A)for(T=1,A=new Array(j-1);T<j;T++)A[T-1]=arguments[T];E[N].fn.apply(E[N].context,A)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,v){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!v||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var _=0,E=[],j=S.length;_<j;_++)(S[_].fn!==p||v&&!S[_].once||g&&S[_].context!==g)&&E.push(S[_]);E.length?this._events[x]=E.length===1?E[0]:E:l(this,x)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Qy)),Qy.exports}var Eee=_ee();const jee=gi(Eee);var Fu=new jee,Nb="recharts.syncEvent.tooltip",P2="recharts.syncEvent.brush";function Cee(e,t){if(t){var n=Number.parseInt(t,10);if(!fi(n))return e==null?void 0:e[n]}}var Nee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},F3=Qn({name:"options",initialState:Nee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tee=F3.reducer,{createEventEmitter:Aee}=F3.actions;function Oee(e){return e.tooltip.syncInteraction}var kee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H3=Qn({name:"chartData",initialState:kee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:M2,setDataStartEndIndexes:Dee,setComputedData:cfe}=H3.actions,Pee=H3.reducer,Mee=["x","y"];function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=Lee(e,"string");return typeof t=="symbol"?t:t+""}function Lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e,t){if(e==null)return{};var n,r,i=zee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uee(){var e=we(B1),t=we(z1),n=rn(),r=we(_L),i=we(ha),s=hp(),l=fp(),u=we(d=>d.rootProps.className);w.useEffect(()=>{if(e==null)return Bl;var d=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:S,y:_}=x,E=Bee(x,Mee),{x:j,y:A,width:N,height:P}=p.payload.sourceViewBox,T=tl(tl({},E),{},{x:l.x+(N?(S-j)/N:0)*l.width,y:l.y+(P?(_-A)/P:0)*l.height});n(tl(tl({},p),{},{payload:tl(tl({},p.payload),{},{coordinate:T})}))}else n(p);return}if(i!=null){var D;if(typeof r=="function"){var I={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},B=r(i,I);D=i[B]}else r==="value"&&(D=i.find(M=>String(M.value)===p.payload.label));var{coordinate:$}=p.payload;if(D==null||p.payload.active===!1||$==null||l==null){n(Eb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Z,y:U}=$,J=Math.min(Z,l.x+l.width),oe=Math.min(U,l.y+l.height),de={x:s==="horizontal"?D.coordinate:J,y:s==="horizontal"?oe:D.coordinate},ae=Eb({active:p.payload.active,coordinate:de,dataKey:p.payload.dataKey,index:String(D.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ae)}}};return Fu.on(Nb,d),()=>{Fu.off(Nb,d)}},[u,n,t,e,r,i,s,l])}function Vee(){var e=we(B1),t=we(z1),n=rn();w.useEffect(()=>{if(e==null)return Bl;var r=(i,s,l)=>{t!==l&&e===i&&n(Dee(s))};return Fu.on(P2,r),()=>{Fu.off(P2,r)}},[n,t,e])}function Fee(){var e=rn();w.useEffect(()=>{e(Aee())},[e]),Uee(),Vee()}function Hee(e,t,n,r,i,s){var l=we(x=>WJ(x,e,t)),u=we(z1),d=we(B1),h=we(_L),p=we(Oee),g=p==null?void 0:p.active,v=fp();w.useEffect(()=>{if(!g&&d!=null&&u!=null){var x=Eb({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});Fu.emit(Nb,d,x,u)}},[g,n,l,i,r,u,d,h,s,v])}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yee(e){return e.dataKey}function Kee(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(kY,t)}var B2=[],Wee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!zl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xee(e){var t,n,r=Xn(e,Wee),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:x,reverseDirection:S,useTranslate3d:_,wrapperStyle:E,cursor:j,shared:A,trigger:N,defaultIndex:P,portal:T,axisId:D}=r,I=rn(),B=typeof P=="number"?String(P):P;w.useEffect(()=>{I(YZ({shared:A,trigger:N,axisId:D,active:i,defaultIndex:B}))},[I,A,N,D,i,B]);var $=fp(),Z=vI(),U=FZ(A),{activeIndex:J,isActive:oe}=(t=we(te=>ZJ(te,U,N,B)))!==null&&t!==void 0?t:{},de=we(te=>QJ(te,U,N,B)),ae=we(te=>z3(te,U,N,B)),M=we(te=>XJ(te,U,N,B)),k=de,Y=See(),F=(n=i??oe)!==null&&n!==void 0?n:!1,[se,R]=Pq([k,F]),G=U==="axis"?ae:void 0;Hee(U,N,M,G,J,F);var ie=T??Y;if(ie==null||$==null||U==null)return null;var ue=k??B2;F||(ue=B2),h&&ue.length&&(ue=aq(ue.filter(te=>te.value!=null&&(te.hide!==!0||r.includeHidden)),v,Yee));var ge=ue.length>0,Ce=w.createElement(BY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:F,coordinate:M,hasPayload:ge,offset:g,position:x,reverseDirection:S,useTranslate3d:_,viewBox:$,wrapperStyle:E,lastBoundingBox:se,innerRef:R,hasPortalFromProps:!!T},Kee(d,L2(L2({},r),{},{payload:ue,label:G,active:F,activeIndex:J,coordinate:M,accessibilityLayer:Z})));return w.createElement(w.Fragment,null,VD.createPortal(Ce,ie),F&&w.createElement(wee,{cursor:j,tooltipEventType:U,coordinate:M,payload:ue,index:J}))}function Qee(e,t,n){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ete{constructor(t){Qee(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ate={cacheSize:2e3,enableCache:!0},$3=tte({},ate),U2=new ete($3.cacheSize),ste={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V2="recharts_measurement_span";function ote(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var F2=(e,t)=>{try{var n=document.getElementById(V2);n||(n=document.createElement("span"),n.setAttribute("id",V2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ste,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},yu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zl.isSsr)return{width:0,height:0};if(!$3.enableCache)return F2(t,n);var r=ote(t,n),i=U2.get(r);if(i)return i;var s=F2(t,n);return U2.set(r,s),s},H2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ute=Object.keys(q3),ul="NaN";function dte(e,t){return e*q3[t]}class Fn{static parse(t){var n,[,r,i]=(n=cte.exec(t))!==null&&n!==void 0?n:[];return new Fn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,fi(t)&&(this.unit=""),n!==""&&!lte.test(n)&&(this.num=NaN,this.unit=""),ute.includes(n)&&(this.num=dte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fi(this.num)}}function G3(e){if(e.includes(ul))return ul;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=H2.exec(t))!==null&&n!==void 0?n:[],l=Fn.parse(r??""),u=Fn.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ul;t=t.replace(H2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=$2.exec(t))!==null&&h!==void 0?h:[],x=Fn.parse(p??""),S=Fn.parse(v??""),_=g==="+"?x.add(S):x.subtract(S);if(_.isNaN())return ul;t=t.replace($2,_.toString())}return t}var q2=/\(([^()]*)\)/;function fte(e){for(var t=e,n;(n=q2.exec(t))!=null;){var[,r]=n;t=t.replace(q2,G3(r))}return t}function hte(e){var t=e.replace(/\s+/g,"");return t=fte(t),t=G3(t),t}function mte(e){try{return hte(e)}catch{return ul}}function Zy(e){var t=mte(e.slice(5,-1));return t===ul?"":t}var pte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gte=["dx","dy","angle","className","breakAll"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function G2(e,t){if(e==null)return{};var n,r,i=vte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y3=/[ \f\n\r\t\v\u2028\u2029]+/,K3=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];tn(t)||(n?i=t.toString().split(""):i=t.toString().split(Y3));var s=i.map(u=>({word:u,width:yu(u,r).width})),l=n?0:yu("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function yte(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var W3=(e,t,n,r)=>e.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),X3=e=>e.reduce((t,n)=>t.width>n.width?t:n),xte="",Y2=(e,t,n,r,i,s,l,u)=>{var d=e.slice(0,t),h=K3({breakAll:n,style:r,children:d+xte});if(!h)return[!1,[]];var p=W3(h.wordsWithComputedWidth,s,l,u),g=p.length>i||X3(p).width>Number(s);return[g,p]},bte=(e,t,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,h=be(s),p=String(l),g=W3(t,r,n,i);if(!h||i)return g;var v=g.length>s||X3(g).width>Number(r);if(!v)return g;for(var x=0,S=p.length-1,_=0,E;x<=S&&_<=p.length-1;){var j=Math.floor((x+S)/2),A=j-1,[N,P]=Y2(p,A,d,u,s,r,n,i),[T]=Y2(p,j,d,u,s,r,n,i);if(!N&&!T&&(x=j+1),N&&T&&(S=j-1),!N&&T){E=P;break}_++}return E||g},K2=e=>{var t=tn(e)?[]:e.toString().split(Y3);return[{words:t,width:void 0}]},wte=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=e;if((t||n)&&!zl.isSsr){var u,d,h=K3({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return K2(r);return bte({breakAll:s,children:r,maxLines:l,style:i},u,d,t,!!n)}return K2(r)},Q3="#808080",Ste={breakAll:!1,capHeight:"0.71em",fill:Q3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lS=w.forwardRef((e,t)=>{var n=Xn(e,Ste),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=G2(n,pte),v=w.useMemo(()=>wte({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:x,dy:S,angle:_,className:E,breakAll:j}=g,A=G2(g,gte);if(!hi(r)||!hi(i)||v.length===0)return null;var N=Number(r)+(be(x)?x:0),P=Number(i)+(be(S)?S:0);if(!nn(N)||!nn(P))return null;var T;switch(p){case"start":T=Zy("calc(".concat(l,")"));break;case"middle":T=Zy("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Zy("calc(".concat(v.length-1," * -").concat(s,")"));break}var D=[];if(d){var I=v[0].width,{width:B}=g;D.push("scale(".concat(be(B)&&be(I)?B/I:1,")"))}return _&&D.push("rotate(".concat(_,", ").concat(N,", ").concat(P,")")),D.length&&(A.transform=D.join(" ")),w.createElement("text",Tb({},Dn(A),{ref:t,x:N,y:P,className:at("recharts-text",E),textAnchor:h,fill:u.includes("url")?Q3:u}),v.map(($,Z)=>{var U=$.words.join(j?"":" ");return w.createElement("tspan",{x:N,dy:Z===0?T:s,key:"".concat(U,"-").concat(Z)},U)}))});lS.displayName="Text";var _te=["labelRef"];function Ete(e,t){if(e==null)return{};var n,r,i=jte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){Cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(null,arguments)}var Z3=w.createContext(null),Ate=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=e,d=w.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[t,n,r,i,s,l]);return w.createElement(Z3.Provider,{value:d},u)},J3=()=>{var e=w.useContext(Z3),t=fp();return e||fI(t)},Ote=w.createContext(null),kte=()=>{var e=w.useContext(Ote),t=we(TL);return e||t},Dte=e=>{var{value:t,formatter:n}=e,r=tn(e.children)?t:e.children;return typeof n=="function"?n(r):r},cS=e=>e!=null&&typeof e=="function",Pte=(e,t)=>{var n=Mr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Mte=(e,t,n,r,i)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,S=(h+p)/2,_=Pte(g,v),E=_>=0?1:-1,j,A;switch(t){case"insideStart":j=g+E*s,A=x;break;case"insideEnd":j=v-E*s,A=!x;break;case"end":j=v+E*s,A=x;break;default:throw new Error("Unsupported position ".concat(t))}A=_<=0?A:!A;var N=vn(u,d,S,j),P=vn(u,d,S,j+(A?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),D=tn(e.id)?ku("recharts-radial-line-"):e.id;return w.createElement("text",Bi({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:D,d:T})),w.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Rte=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=vn(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x,y:S}=vn(r,i,v,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Ab=e=>"cx"in e&&be(e.cx),Ite=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!Ab(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=t,g=l,v=l+(d-h)/2,x=(g+v)/2,S=(d+h)/2,_=g+d/2,E=p>=0?1:-1,j=E*r,A=E>0?"end":"start",N=E>0?"start":"end",P=d>=0?1:-1,T=P*r,D=P>0?"end":"start",I=P>0?"start":"end";if(i==="top"){var B={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:A};return Tt(Tt({},B),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var $={x:v+h/2,y:u+p+j,textAnchor:"middle",verticalAnchor:N};return Tt(Tt({},$),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var Z={x:x-T,y:u+p/2,textAnchor:D,verticalAnchor:"middle"};return Tt(Tt({},Z),s?{width:Math.max(Z.x-s.x,0),height:p}:{})}if(i==="right"){var U={x:x+S+T,y:u+p/2,textAnchor:I,verticalAnchor:"middle"};return Tt(Tt({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:p}:{})}var J=s?{width:S,height:p}:{};return i==="insideLeft"?Tt({x:x+T,y:u+p/2,textAnchor:I,verticalAnchor:"middle"},J):i==="insideRight"?Tt({x:x+S-T,y:u+p/2,textAnchor:D,verticalAnchor:"middle"},J):i==="insideTop"?Tt({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:N},J):i==="insideBottom"?Tt({x:v+h/2,y:u+p-j,textAnchor:"middle",verticalAnchor:A},J):i==="insideTopLeft"?Tt({x:g+T,y:u+j,textAnchor:I,verticalAnchor:N},J):i==="insideTopRight"?Tt({x:g+d-T,y:u+j,textAnchor:D,verticalAnchor:N},J):i==="insideBottomLeft"?Tt({x:v+T,y:u+p-j,textAnchor:I,verticalAnchor:A},J):i==="insideBottomRight"?Tt({x:v+h-T,y:u+p-j,textAnchor:D,verticalAnchor:A},J):i&&typeof i=="object"&&(be(i.x)||Qi(i.x))&&(be(i.y)||Qi(i.y))?Tt({x:l+Ja(i.x,S),y:u+Ja(i.y,p),textAnchor:"end",verticalAnchor:"end"},J):Tt({x:_,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},J)},Lte={offset:5,zIndex:An.label};function Ha(e){var t=Xn(e,Lte),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=t,p=kte(),g=J3(),v=r==="center"?g:p??g,x,S,_;if(n==null?x=v:Ab(n)?x=n:x=fI(n),!x||tn(i)&&tn(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var E=Tt(Tt({},t),{},{viewBox:x});if(w.isValidElement(l)){var{labelRef:j}=E,A=Ete(E,_te);return w.cloneElement(l,A)}if(typeof l=="function"){if(S=w.createElement(l,E),w.isValidElement(S))return S}else S=Dte(t);var N=Dn(t);if(Ab(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Mte(t,r,S,N,x);_=Rte(x,t.offset,t.position)}else _=Ite(t,x);return w.createElement(ma,{zIndex:t.zIndex},w.createElement(lS,Bi({ref:h,className:at("recharts-label",u)},N,_,{textAnchor:yte(N.textAnchor)?N.textAnchor:_.textAnchor,breakAll:d}),S))}Ha.displayName="Label";var Bte=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(Ha,Bi({key:"label-implicit"},r)):hi(e)?w.createElement(Ha,Bi({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===Ha?w.cloneElement(e,Tt({key:"label-implicit"},r)):w.createElement(Ha,Bi({key:"label-implicit",content:e},r)):cS(e)?w.createElement(Ha,Bi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(Ha,Bi({},e,{key:"label-implicit"},r)):null};function zte(e){var{label:t,labelRef:n}=e,r=J3();return Bte(t,r,n)||null}var Jy={},ex={},X2;function Ute(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ex)),ex}var tx={},Q2;function Vte(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(tx)),tx}var Z2;function Fte(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ute(),n=Vte(),r=t1();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(Jy)),Jy}var nx,J2;function Hte(){return J2||(J2=1,nx=Fte().last),nx}var $te=Hte();const qte=gi($te);var Gte=["valueAccessor"],Yte=["dataKey","clockWise","id","textBreakAll","zIndex"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(null,arguments)}function ek(e,t){if(e==null)return{};var n,r,i=Kte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wte=e=>Array.isArray(e.value)?qte(e.value):e.value,e5=w.createContext(void 0),Xte=e5.Provider,t5=w.createContext(void 0);t5.Provider;function Qte(){return w.useContext(e5)}function Zte(){return w.useContext(t5)}function wh(e){var{valueAccessor:t=Wte}=e,n=ek(e,Gte),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=ek(n,Yte),h=Qte(),p=Zte(),g=h||p;return!g||!g.length?null:w.createElement(ma,{zIndex:u??An.label},w.createElement(Za,{className:"recharts-label-list"},g.map((v,x)=>{var S,_=tn(r)?t(v,x):kn(v&&v.payload,r),E=tn(s)?{}:{id:"".concat(s,"-").concat(x)};return w.createElement(Ha,hm({key:"label-".concat(x)},Dn(v),d,E,{fill:(S=n.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:_,textBreakAll:l,viewBox:v.viewBox,index:x,zIndex:0}))})))}wh.displayName="LabelList";function Jte(e){var{label:t}=e;return t?t===!0?w.createElement(wh,{key:"labelList-implicit"}):w.isValidElement(t)||cS(t)?w.createElement(wh,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(wh,hm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}var n5=e=>{var{cx:t,cy:n,r,className:i}=e,s=at("recharts-dot",i);return be(t)&&be(n)&&be(r)?w.createElement("circle",Ob({},di(e),e1(e),{className:s,cx:t,cy:n,r})):null},ene={radiusAxis:{},angleAxis:{}},r5=Qn({name:"polarAxis",initialState:ene,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ufe,removeRadiusAxis:dfe,addAngleAxis:ffe,removeAngleAxis:hfe}=r5.actions,tne=r5.reducer,i5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,rx={},tk;function nne(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(rx)),rx}var ix,nk;function rne(){return nk||(nk=1,ix=nne().isPlainObject),ix}var ine=rne();const ane=gi(ine);function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=one(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function one(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mm(){return mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mm.apply(null,arguments)}var ak=(e,t,n,r,i)=>{var s=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+i),l+="L ".concat(e+n-s/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},cne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},une=e=>{var t=Xn(e,cne),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=w.useRef(null),[x,S]=w.useState(-1),_=w.useRef(i),E=w.useRef(s),j=w.useRef(l),A=w.useRef(n),N=w.useRef(r),P=u1(e,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var de=v.current.getTotalLength();de&&S(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var T=at("recharts-trapezoid",u);if(!g)return w.createElement("g",null,w.createElement("path",mm({},Dn(t),{className:T,d:ak(n,r,i,s,l)})));var D=_.current,I=E.current,B=j.current,$=A.current,Z=N.current,U="0px ".concat(x===-1?1:x,"px"),J="".concat(x,"px 0px"),oe=xI(["strokeDasharray"],h,d);return w.createElement(c1,{animationId:P,key:P,canBegin:x>0,duration:h,easing:d,isActive:g,begin:p},de=>{var ae=Hn(D,i,de),M=Hn(I,s,de),k=Hn(B,l,de),Y=Hn($,n,de),F=Hn(Z,r,de);v.current&&(_.current=ae,E.current=M,j.current=k,A.current=Y,N.current=F);var se=de>0?{transition:oe,strokeDasharray:J}:{strokeDasharray:U};return w.createElement("path",mm({},Dn(t),{className:T,d:ak(Y,F,ae,M,k),ref:v,style:ik(ik({},se),t.style)}))})},dne=["option","shapeType","propTransformer","activeClassName","isActive"];function fne(e,t){if(e==null)return{};var n,r,i=hne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(n),!0).forEach(function(r){mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mne(e,t,n){return(t=pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vne(e,t){return pm(pm({},t),e)}function yne(e,t){return e==="symbols"}function ok(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return w.createElement(_I,n);case"trapezoid":return w.createElement(une,n);case"sector":return w.createElement(CI,n);case"symbols":if(yne(t))return w.createElement(gR,n);break;case"curve":return w.createElement(yI,n);default:return null}}function xne(e){return w.isValidElement(e)?e.props:e}function bne(e){var{option:t,shapeType:n,propTransformer:r=vne,activeClassName:i="recharts-active-shape",isActive:s}=e,l=fne(e,dne),u;if(w.isValidElement(t))u=w.cloneElement(t,pm(pm({},l),xne(t)));else if(typeof t=="function")u=t(l);else if(ane(t)&&typeof t!="boolean"){var d=r(t,l);u=w.createElement(ok,{shapeType:n,elementProps:d})}else{var h=l;u=w.createElement(ok,{shapeType:n,elementProps:h})}return s?w.createElement(Za,{className:i},u):u}function wne(e){var{fn:t,args:n}=e,r=rn(),i=Zn();return w.useLayoutEffect(()=>{if(!i){var s=t(n);return r(qZ(s)),()=>{r(GZ(s))}}},[t,n,r,i]),null}function Sne(e){var{legendPayload:t}=e,n=rn(),r=Zn();return w.useLayoutEffect(()=>r?Bl:(n(EY(t)),()=>{n(jY(t))}),[n,r,t]),null}var ax,_ne=()=>{var[e]=w.useState(()=>ku("uid-"));return e},Ene=(ax=WB.useId)!==null&&ax!==void 0?ax:_ne;function a5(e,t){var n=Ene();return t||(e?"".concat(e,"-").concat(n):n)}var jne=w.createContext(void 0),Cne=e=>{var{id:t,type:n,children:r}=e,i=a5("recharts-".concat(n),t);return w.createElement(jne.Provider,{value:i},r(i))},Nne={cartesianItems:[],polarItems:[]},s5=Qn({name:"graphicalItems",initialState:Nne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Gi(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:zt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Gi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:zt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(e,t){var n=Gi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:zt()}}}),{addCartesianGraphicalItem:Tne,replaceCartesianGraphicalItem:Ane,removeCartesianGraphicalItem:One,addPolarGraphicalItem:mfe,removePolarGraphicalItem:pfe}=s5.actions,kne=s5.reducer;function Dne(e){var t=rn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(Tne(e)):n.current!==e&&t(Ane({prev:n.current,next:e})),n.current=e},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(t(One(n.current)),n.current=null)},[t]),null}var Pne=["points"];function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){Mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mne(e,t,n){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rne(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gm.apply(null,arguments)}function Lne(e,t){if(e==null)return{};var n,r,i=Bne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zne(e){var{option:t,dotProps:n,className:r}=e;if(w.isValidElement(t))return w.cloneElement(t,n);if(typeof t=="function")return t(n);var i=at(r,typeof t!="boolean"?t.className:""),s=n??{},{points:l}=s,u=Lne(s,Pne);return w.createElement(n5,gm({},u,{className:i}))}function Une(e,t){return e==null?!1:t?!0:e.length===1}function Vne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=An.scatter}=e;if(!Une(t,n))return null;var p=i5(n),g=k9(n),v=t.map((S,_)=>{var E,j,A=sx(sx(sx({r:3},l),g),{},{index:_,cx:(E=S.x)!==null&&E!==void 0?E:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return w.createElement(zne,{key:"dot-".concat(_),option:n,dotProps:A,className:i})}),x={};return u&&d!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),w.createElement(ma,{zIndex:h},w.createElement(Za,gm({className:r},x),v))}function ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ck(Object(n),!0).forEach(function(r){Fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fne(e,t,n){return(t=Hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qne={xAxis:{},yAxis:{},zAxis:{}},o5=Qn({name:"cartesianAxis",initialState:qne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:zt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:zt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:zt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:zt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:zt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:zt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=uk(uk({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Gne,removeXAxis:Yne,addYAxis:Kne,removeYAxis:Wne,addZAxis:gfe,removeZAxis:vfe,updateYAxisWidth:Xne}=o5.actions,Qne=o5.reducer,Zne=Q([yn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Jne=Q([Zne,la,ca],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),uS=()=>we(Jne),ere=()=>we(RJ);function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tre(e,t,n){return(t=nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nre(e){var t=rre(e,"string");return typeof t=="symbol"?t:t+""}function rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ire=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=ox(ox(ox({},l),Qm(i)),e1(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,u):typeof i=="function"?d=i(u):d=w.createElement(n5,u),w.createElement(Za,{className:"recharts-active-dot"},d)};function are(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=An.activeDot}=e,l=we(Vu),u=ere();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return tn(d)?null:w.createElement(ma,{zIndex:s},w.createElement(ire,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var sre={},l5=Qn({name:"errorBars",initialState:sre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:yfe,replaceErrorBar:xfe,removeErrorBar:bfe}=l5.actions,ore=l5.reducer,lre=["children"];function cre(e,t){if(e==null)return{};var n,r,i=ure(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fre=w.createContext(dre);function hre(e){var{children:t}=e,n=cre(e,lre);return w.createElement(fre.Provider,{value:n},t)}function c5(e,t){var n,r,i=we(h=>da(h,e)),s=we(h=>fa(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ur.allowDataOverflow,u=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:dr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function mre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=uS(),{needClipX:s,needClipY:l,needClip:u}=c5(t,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var pre=e=>{var{chartData:t}=e,n=rn(),r=Zn();return w.useEffect(()=>r?()=>{}:(n(M2(t)),()=>{n(M2(void 0))}),[t,n,r]),null},fk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u5=Qn({name:"brush",initialState:fk,reducers:{setBrushSettings(e,t){return t.payload==null?fk:t.payload}}}),{setBrushSettings:wfe}=u5.actions,gre=u5.reducer;function vre(e,t,n){return(t=yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dS{static create(t){return new dS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}vre(dS,"EPS",1e-4);function bre(e){return(e%180+180)%180}var wre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=bre(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Sre={dots:[],areas:[],lines:[]},d5=Qn({name:"referenceElements",initialState:Sre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Gi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Gi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Gi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Sfe,removeDot:_fe,addArea:Efe,removeArea:jfe,addLine:Cfe,removeLine:Nfe}=d5.actions,_re=d5.reducer,Ere=w.createContext(void 0),jre=e=>{var{children:t}=e,[n]=w.useState("".concat(ku("recharts"),"-clip")),r=uS();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return w.createElement(Ere.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:u,width:l}))),t)};function Cl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function f5(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Cre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wre(r,n)}function Nre(e,t,n){var r=n==="width",{x:i,y:s,width:l,height:u}=e;return t===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function vm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function Tre(e,t){return f5(e,t+1)}function Are(e,t,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=t,d=0,h=1,p=l,g=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:f5(r,h)};var _=d,E,j=()=>(E===void 0&&(E=n(S,_)),E),A=S.coordinate,N=d===0||vm(e,A,j,p,u);N||(d=0,p=l,h+=1),N&&(p=A+e*(j()/2+i),d+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function hk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(n),!0).forEach(function(r){Ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ore(e,t,n){return(t=kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kre(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pre(e,t,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,h=function(v){var x=s[v],S,_=()=>(S===void 0&&(S=n(x,v)),S);if(v===l-1){var E=e*(x.coordinate+e*_()/2-d);s[v]=x=wn(wn({},x),{},{tickCoord:E>0?x.coordinate-E*e:x.coordinate})}else s[v]=x=wn(wn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=vm(e,x.tickCoord,_,u,d);j&&(d=x.tickCoord-e*(_()/2+i),s[v]=wn(wn({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function Mre(e,t,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=t;if(s){var p=r[u-1],g=n(p,u-1),v=e*(p.coordinate+e*g/2-h);if(l[u-1]=p=wn(wn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var x=vm(e,p.tickCoord,()=>g,d,h);x&&(h=p.tickCoord-e*(g/2+i),l[u-1]=wn(wn({},p),{},{isShow:!0}))}}for(var S=s?u-1:u,_=function(A){var N=l[A],P,T=()=>(P===void 0&&(P=n(N,A)),P);if(A===0){var D=e*(N.coordinate-e*T()/2-d);l[A]=N=wn(wn({},N),{},{tickCoord:D<0?N.coordinate-D*e:N.coordinate})}else l[A]=N=wn(wn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var I=vm(e,N.tickCoord,T,d,h);I&&(d=N.tickCoord+e*(T()/2+i),l[A]=wn(wn({},N),{},{isShow:!0}))}},E=0;E<S;E++)_(E);return l}function fS(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(be(d)||zl.isSsr){var v;return(v=Tre(i,be(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",_=p&&S==="width"?yu(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(N,P)=>{var T=typeof h=="function"?h(N.value,P):N.value;return S==="width"?Cre(yu(T,{fontSize:t,letterSpacing:n}),_,g):yu(T,{fontSize:t,letterSpacing:n})[S]},j=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,A=Nre(s,j,S);return d==="equidistantPreserveStart"?Are(j,A,E,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=Mre(j,A,E,i,l,d==="preserveStartEnd"):x=Pre(j,A,E,i,l),x.filter(N=>N.isShow))}var Rre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},Ire=["axisLine","width","height","className","hide","ticks","axisType"],Lre=["viewBox"],Bre=["viewBox"];function kb(e,t){if(e==null)return{};var n,r,i=zre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){Ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ure(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:An.axis};function Hre(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var h=Rt(Rt(Rt({},d),di(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Rt(Rt({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Rt(Rt({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return w.createElement("line",Js({},h,{className:at("recharts-cartesian-axis-line",tp(u,"className"))}))}function $re(e,t,n,r,i,s,l,u,d){var h,p,g,v,x,S,_=u?-1:1,E=e.tickSize||l,j=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=n+ +!u*i,g=v-_*E,S=g-_*d,x=j;break;case"left":g=v=e.coordinate,p=t+ +!u*r,h=p-_*E,x=h-_*d,S=j;break;case"right":g=v=e.coordinate,p=t+ +u*r,h=p+_*E,x=h+_*d,S=j;break;default:h=p=e.coordinate,v=n+ +u*i,g=v+_*E,S=g+_*d,x=j;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x,y:S}}}function qre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Gre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Yre(e){var{option:t,tickProps:n,value:r}=e,i,s=at(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,Rt(Rt({},n),{},{className:s}));else if(typeof t=="function")i=t(Rt(Rt({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=at(l,t==null?void 0:t.className)),i=w.createElement(lS,Js({},n,{className:l}),r)}return i}var Kre=w.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:v,y:x,width:S,height:_,tickSize:E,tickMargin:j,fontSize:A,letterSpacing:N,getTicksConfig:P,events:T,axisType:D}=e,I=fS(Rt(Rt({},P),{},{ticks:n}),A,N),B=qre(p,g),$=Gre(p,g),Z=di(P),U=Qm(r),J={};typeof i=="object"&&(J=i);var oe=Rt(Rt({},Z),{},{fill:"none"},J),de=I.map(k=>Rt({entry:k},$re(k,v,x,S,_,p,E,g,j))),ae=de.map(k=>{var{entry:Y,line:F}=k;return w.createElement(Za,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&w.createElement("line",Js({},oe,F,{className:at("recharts-cartesian-axis-tick-line",tp(i,"className"))})))}),M=de.map((k,Y)=>{var{entry:F,tick:se}=k,R=Rt(Rt(Rt(Rt({textAnchor:B,verticalAnchor:$},Z),{},{stroke:"none",fill:s},U),se),{},{index:Y,payload:F,visibleTicksCount:I.length,tickFormatter:l,padding:d},h);return w.createElement(Za,Js({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},R$(T,F,Y)),r&&w.createElement(Yre,{option:r,tickProps:R,value:"".concat(typeof l=="function"?l(F.value,Y):F.value).concat(u||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},M.length>0&&w.createElement(ma,{zIndex:An.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},M)),ae.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},ae))}),Wre=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=e,h=kb(e,Ire),[p,g]=w.useState(""),[v,x]=w.useState(""),S=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return Rre({ticks:S.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=w.useCallback(E=>{if(E){var j=E.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var A=j[0];if(A){var N=window.getComputedStyle(A),P=N.fontSize,T=N.letterSpacing;(P!==p||T!==v)&&(g(P),x(T))}}},[p,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(ma,{zIndex:e.zIndex},w.createElement(Za,{className:at("recharts-cartesian-axis",s)},w.createElement(Hre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:di(e)}),w.createElement(Kre,{ref:_,axisType:d,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(Ate,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(zte,{label:e.label,labelRef:e.labelRef}),e.children)))}),Xre=w.memo(Wre,(e,t)=>{var{viewBox:n}=e,r=kb(e,Lre),{viewBox:i}=t,s=kb(t,Bre);return Cl(n,i)&&Cl(r,s)}),mS=w.forwardRef((e,t)=>{var n=Xn(e,hS);return w.createElement(Xre,Js({},n,{ref:t}))});mS.displayName="CartesianAxis";var Qre=["x1","y1","x2","y2","key"],Zre=["offset"],Jre=["xAxisId","yAxisId"],eie=["xAxisId","yAxisId"];function pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(n),!0).forEach(function(r){tie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tie(e,t,n){return(t=nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function ym(e,t){if(e==null)return{};var n,r,i=iie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=e;return w.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h5(e){var{option:t,lineItemProps:n}=e,r;if(w.isValidElement(t))r=w.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=ym(n,Qre),g=(i=di(p))!==null&&i!==void 0?i:{},{offset:v}=g,x=ym(g,Zre);r=w.createElement("line",zs({},x,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function sie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=ym(e,Jre),d=i.map((h,p)=>{var g=Sn(Sn({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(h5,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function oie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=ym(e,eie),d=i.map((h,p)=>{var g=Sn(Sn({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return w.createElement(h5,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function lie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],S=x?i+l-g:h[v+1]-g;if(S<=0)return null;var _=v%t.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:S,width:s,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function cie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],S=x?i+l-g:h[v+1]-g;if(S<=0)return null;var _=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:S,height:u,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var uie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return iI(fS(Sn(Sn(Sn({},hS),n),{},{ticks:aI(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},die=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return iI(fS(Sn(Sn(Sn({},hS),n),{},{ticks:aI(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},fie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:An.grid};function m5(e){var t=mI(),n=pI(),r=hI(),i=Sn(Sn({},Xn(e,fie)),{},{x:be(e.x)?e.x:r.left,y:be(e.y)?e.y:r.top,width:be(e.width)?e.width:r.width,height:be(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,S=Zn(),_=we($=>S2($,"xAxis",s,S)),E=we($=>S2($,"yAxis",l,S));if(!mi(h)||!mi(p)||!be(u)||!be(d))return null;var j=i.verticalCoordinatesGenerator||uie,A=i.horizontalCoordinatesGenerator||die,{horizontalPoints:N,verticalPoints:P}=i;if((!N||!N.length)&&typeof A=="function"){var T=v&&v.length,D=A({yAxis:E?Sn(Sn({},E),{},{ticks:T?v:E.ticks}):void 0,width:t??h,height:n??p,offset:r},T?!0:g);Kh(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}if((!P||!P.length)&&typeof j=="function"){var I=x&&x.length,B=j({xAxis:_?Sn(Sn({},_),{},{ticks:I?x:_.ticks}):void 0,width:t??h,height:n??p,offset:r},I?!0:g);Kh(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(P=B)}return w.createElement(ma,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(aie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(lie,zs({},i,{horizontalPoints:N})),w.createElement(cie,zs({},i,{verticalPoints:P})),w.createElement(sie,zs({},i,{offset:r,horizontalPoints:N,xAxis:_,yAxis:E})),w.createElement(oie,zs({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:E}))))}m5.displayName="CartesianGrid";var p5=(e,t,n,r)=>m3(e,"xAxis",t,r),g5=(e,t,n,r)=>h3(e,"xAxis",t,r),v5=(e,t,n,r)=>m3(e,"yAxis",n,r),y5=(e,t,n,r)=>h3(e,"yAxis",n,r),hie=Q([pt,p5,v5,g5,y5],(e,t,n,r,i)=>rs(e,"xAxis")?Yh(t,r,!1):Yh(n,i,!1)),mie=(e,t,n,r,i)=>i;function pie(e){return e.type==="line"}var gie=Q([RL,mie],(e,t)=>e.filter(pie).find(n=>n.id===t)),vie=Q([pt,p5,v5,g5,y5,gie,hie,M1],(e,t,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:v}=s,x;if(v!=null&&v.length>0?x=v:x=d==null?void 0:d.slice(h,p+1),x!=null)return Bie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}});function yie(e){var t=Qm(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var xie=["id"],bie=["type","layout","connectNulls","needClip","shape"],wie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(null,arguments)}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){Sie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sie(e,t,n){return(t=_ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pS(e,t){if(e==null)return{};var n,r,i=jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:sI(n,t),payload:e}]};function Nie(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:sI(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var x5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Tie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Aie=(e,t,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return x5(t,e);for(var i=Math.floor(e/r),s=e%r,l=t-e,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...Tie(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function Oie(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=pS(r,xie),h=di(d);return w.createElement(Vne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function kie(e){var{showLabels:t,children:n,points:r}=e,i=w.useMemo(()=>r==null?void 0:r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ai(ai({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(Xte,{value:t?i:void 0},n)}function vk(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s}=e,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=pS(s,bie),v=ai(ai({},Dn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(bne,Hu({shapeType:"curve",option:p},v,{pathRef:n})),w.createElement(Oie,{points:r,clipPathId:t,props:s}))}function Die(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Pie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:v,width:x,height:S,onAnimationEnd:_,onAnimationStart:E}=n,j=i.current,A=u1(n,"recharts-line-"),[N,P]=w.useState(!1),T=!N,D=w.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),I=w.useCallback(()=>{typeof E=="function"&&E(),P(!0)},[E]),B=Die(r.current),$=s.current;return w.createElement(kie,{points:l,showLabels:T},n.children,w.createElement(c1,{animationId:A,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:D,onAnimationStart:I,key:A},Z=>{var U=Hn($,B+$,Z),J=Math.min(U,B),oe;if(d)if(u){var de="".concat(u).split(/[,\s]+/gim).map(k=>parseFloat(k));oe=Aie(J,B,de)}else oe=x5(B,J);else oe=u==null?void 0:String(u);if(j){var ae=j.length/l.length,M=Z===1?l:l.map((k,Y)=>{var F=Math.floor(Y*ae);if(j[F]){var se=j[F];return ai(ai({},k),{},{x:Hn(se.x,k.x,Z),y:Hn(se.y,k.y,Z)})}return v?ai(ai({},k),{},{x:Hn(x*2,k.x,Z),y:Hn(S/2,k.y,Z)}):ai(ai({},k),{},{x:k.x,y:k.y})});return i.current=M,w.createElement(vk,{props:n,points:M,clipPathId:t,pathRef:r,strokeDasharray:oe})}return Z>0&&B>0&&(i.current=l,s.current=J),w.createElement(vk,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:oe})}),w.createElement(Jte,{label:n.label}))}function Mie(e){var{clipPathId:t,props:n}=e,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(Pie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Rie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:kn(e.payload,t)}};class Iie extends w.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:v,zIndex:x}=this.props;if(t)return null;var S=at("recharts-line",i),_=g,{r:E,strokeWidth:j}=yie(n),A=i5(n),N=E*2+j;return w.createElement(ma,{zIndex:x},w.createElement(Za,{className:S},v&&w.createElement("defs",null,w.createElement(mre,{clipPathId:_,xAxisId:s,yAxisId:l}),!A&&w.createElement("clipPath",{id:"clipPath-dots-".concat(_)},w.createElement("rect",{x:d-N/2,y:u-N/2,width:h+N,height:p+N}))),w.createElement(hre,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:Rie,errorBarOffset:0},w.createElement(Mie,{props:this.props,clipPathId:_}))),w.createElement(are,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var b5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!zl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:An.line};function Lie(e){var t=Xn(e,b5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:v,xAxisId:x,yAxisId:S,id:_}=t,E=pS(t,wie),{needClip:j}=c5(x,S),A=uS(),N=hp(),P=Zn(),T=we(Z=>vie(Z,x,S,P,_));if(N!=="horizontal"&&N!=="vertical"||T==null||A==null)return null;var{height:D,width:I,x:B,y:$}=A;return w.createElement(Iie,Hu({},E,{id:_,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:v,xAxisId:x,yAxisId:S,points:T,layout:N,height:D,width:I,left:B,top:$,needClip:j}))}function Bie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((h,p)=>{var g=kn(h,l);if(t==="horizontal"){var v=QA({axis:n,ticks:i,bandSize:u,entry:h,index:p}),x=tn(g)?null:r.scale(g);return{x:v,y:x,value:g,payload:h}}var S=tn(g)?null:n.scale(g),_=QA({axis:r,ticks:s,bandSize:u,entry:h,index:p});return S==null||_==null?null:{x:S,y:_,value:g,payload:h}}).filter(Boolean)}function zie(e){var t=Xn(e,b5),n=Zn();return w.createElement(Cne,{id:t.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(Sne,{legendPayload:Cie(t)}),w.createElement(wne,{fn:Nie,args:t}),w.createElement(Dne,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),w.createElement(Lie,Hu({},t,{id:r}))))}var w5=w.memo(zie);w5.displayName="Line";var Uie=["dangerouslySetInnerHTML","ticks"],Vie=["id"],Fie=["domain"],Hie=["domain"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function xm(e,t){if(e==null)return{};var n,r,i=$ie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qie(e){var t=rn();return w.useLayoutEffect(()=>(t(Gne(e)),()=>{t(Yne(e))}),[e,t]),null}var Gie=e=>{var{xAxisId:t,className:n}=e,r=we(lI),i=Zn(),s="xAxis",l=we(E=>ql(E,s,t,i)),u=we(E=>f3(E,s,t,i)),d=we(E=>TZ(E,t)),h=we(E=>MZ(E,t)),p=we(E=>kL(E,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=xm(e,Uie),{id:S}=p,_=xm(p,Vie);return w.createElement(mS,Db({},x,_,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:at("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u,axisType:s}))},Yie={allowDataOverflow:ur.allowDataOverflow,allowDecimals:ur.allowDecimals,allowDuplicatedCategory:ur.allowDuplicatedCategory,height:ur.height,hide:!1,mirror:ur.mirror,orientation:ur.orientation,padding:ur.padding,reversed:ur.reversed,scale:ur.scale,tickCount:ur.tickCount,type:ur.type,xAxisId:0},Kie=e=>{var t,n,r,i,s,l=Xn(e,Yie);return w.createElement(w.Fragment,null,w.createElement(qie,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(Gie,l))},Wie=(e,t)=>{var{domain:n}=e,r=xm(e,Fie),{domain:i}=t,s=xm(t,Hie);return Cl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Cl({domain:n},{domain:i}):!1},S5=w.memo(Kie,Wie);S5.displayName="XAxis";var Xie=["dangerouslySetInnerHTML","ticks"],Qie=["id"],Zie=["domain"],Jie=["domain"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function bm(e,t){if(e==null)return{};var n,r,i=eae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tae(e){var t=rn();return w.useLayoutEffect(()=>(t(Kne(e)),()=>{t(Wne(e))}),[e,t]),null}var nae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=w.useRef(null),l=w.useRef(null),u=we(lI),d=Zn(),h=rn(),p="yAxis",g=we(T=>ql(T,p,t,d)),v=we(T=>LZ(T,t)),x=we(T=>IZ(T,t)),S=we(T=>f3(T,p,t,d)),_=we(T=>DL(T,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!v||cS(i)||w.isValidElement(i)||_==null)){var T=s.current;if(T){var D=T.getCalculatedWidth();Math.round(v.width)!==Math.round(D)&&h(Xne({id:t,width:D}))}}},[S,v,h,i,t,r,_]),v==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:j}=e,A=bm(e,Xie),{id:N}=_,P=bm(_,Qie);return w.createElement(mS,Pb({},A,P,{ref:s,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:at("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:S,axisType:p}))},rae={allowDataOverflow:dr.allowDataOverflow,allowDecimals:dr.allowDecimals,allowDuplicatedCategory:dr.allowDuplicatedCategory,hide:!1,mirror:dr.mirror,orientation:dr.orientation,padding:dr.padding,reversed:dr.reversed,scale:dr.scale,tickCount:dr.tickCount,type:dr.type,width:dr.width,yAxisId:0},iae=e=>{var t,n,r,i,s,l=Xn(e,rae);return w.createElement(w.Fragment,null,w.createElement(tae,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(nae,l))},aae=(e,t)=>{var{domain:n}=e,r=bm(e,Zie),{domain:i}=t,s=bm(t,Jie);return Cl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Cl({domain:n},{domain:i}):!1},_5=w.memo(iae,aae);_5.displayName="YAxis";var lx={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk;function sae(){if(yk)return cx;yk=1;var e=Dl();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return cx.useSyncExternalStoreWithSelector=function(d,h,p,g,v){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function E(T){if(!j){if(j=!0,A=T,T=g(T),v!==void 0&&S.hasValue){var D=S.value;if(v(D,T))return N=D}return N=T}if(D=N,n(A,T))return D;var I=g(T);return v!==void 0&&v(D,I)?(A=T,D):(A=T,N=I)}var j=!1,A,N,P=p===void 0?null:p;return[function(){return E(h())},P===null?void 0:function(){return E(P())}]},[h,p,g,v]);var _=r(d,x[0],x[1]);return s(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},cx}var xk;function oae(){return xk||(xk=1,lx.exports=sae()),lx.exports}oae();function lae(e){e()}function cae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var bk={notify(){},get:()=>[]};function uae(e,t){let n,r=bk,i=0,s=!1;function l(_){p();const E=r.subscribe(_);let j=!1;return()=>{j||(j=!0,E(),g())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(d),r=cae())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=bk)}function v(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return S}var dae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fae=dae(),hae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mae=hae(),pae=()=>fae||mae?w.useLayoutEffect:w.useEffect,gae=pae(),ux=Symbol.for("react-redux-context"),dx=typeof globalThis<"u"?globalThis:{};function vae(){if(!w.createContext)return{};const e=dx[ux]??(dx[ux]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var yae=vae();function xae(e){const{children:t,context:n,serverState:r,store:i}=e,s=w.useMemo(()=>{const d=uae(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);gae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||yae;return w.createElement(u.Provider,{value:s},t)}var bae=xae,wae=(e,t)=>t,gS=Q([wae,pt,TL,qt,O3,ha,KJ,yn],tee),vS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},E5=Ir("mouseClick"),j5=cd();j5.startListening({actionCreator:E5,effect:(e,t)=>{var n=e.payload,r=gS(t.getState(),vS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(WZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Mb=Ir("mouseMove"),C5=cd();C5.startListening({actionCreator:Mb,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=J1(r,r.tooltip.settings.shared),s=gS(r,vS(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(w3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(b3()))}});var wk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},N5=Qn({name:"rootProps",initialState:wk,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:wk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Sae=N5.reducer,{updateOptions:_ae}=N5.actions,T5=Qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Tfe}=T5.actions,Eae=T5.reducer,A5=Ir("keyDown"),O5=Ir("focus"),yS=cd();yS.startListening({actionCreator:A5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(eS(i,Yl(n))),u=ha(n);if(s==="Enter"){var d=fm(n,"axis","hover",String(i.index));t.dispatch(jb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=VZ(n),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(u==null||v>=u.length||v<0)){var x=fm(n,"axis","hover",String(v));t.dispatch(jb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});yS.startListening({actionCreator:O5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=fm(n,"axis","hover",String(s));t.dispatch(jb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Dr=Ir("externalEvent"),k5=cd();k5.startListening({actionCreator:Dr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:DJ(n),activeDataKey:OJ(n),activeIndex:Vu(n),activeLabel:P3(n),activeTooltipIndex:Vu(n),isTooltipActive:PJ(n)};e.payload.handler(r,e.payload.reactEvent)}}});var jae=Q([Gl],e=>e.tooltipItemPayloads),Cae=Q([jae,xd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,n);return l}}}),D5=Ir("touchMove"),P5=cd();P5.startListening({actionCreator:D5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=J1(r,r.tooltip.settings.shared);if(i==="axis"){var s=gS(r,vS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(w3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(qG),p=(l=d.getAttribute(GG))!==null&&l!==void 0?l:void 0,g=Cae(t.getState(),h,p);t.dispatch(KZ({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Nae=DR({brush:gre,cartesianAxis:Qne,chartData:Pee,errorBars:ore,graphicalItems:kne,layout:AG,legend:CY,options:Tee,polarAxis:tne,polarOptions:Eae,referenceElements:_re,rootProps:Sae,tooltip:XZ,zIndex:pee}),Tae=function(t){return eG({reducer:Nae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([j5.middleware,C5.middleware,yS.middleware,k5.middleware,P5.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat($R({type:"raf"}))},devTools:zl.devToolsEnabled})};function Aae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Zn(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=Tae(t));var l=n1;return w.createElement(bae,{context:l,store:s.current},n)}function Oae(e){var{layout:t,margin:n}=e,r=rn(),i=Zn();return w.useEffect(()=>{i||(r(CG(t)),r(jG(n)))},[r,i,t,n]),null}function kae(e){var t=rn();return w.useEffect(()=>{t(_ae(e))},[t,e]),null}function Sk(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=a5("".concat(r).concat(t)),s=rn();return w.useLayoutEffect(()=>(s(hee({zIndex:t,elementId:i,isPanorama:n})),()=>{s(mee({zIndex:t,isPanorama:n}))}),[s,t,i,n]),w.createElement("g",{id:i})}function _k(e){var{children:t,isPanorama:n}=e,r=we(ree);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(Sk,{key:l,zIndex:l,isPanorama:n})),t,s.map(l=>w.createElement(Sk,{key:l,zIndex:l,isPanorama:n})))}var Dae=["children"];function Pae(e,t){if(e==null)return{};var n,r,i=Mae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wm.apply(null,arguments)}var Rae={width:"100%",height:"100%",display:"block"},Iae=w.forwardRef((e,t)=>{var n=mI(),r=pI(),i=vI();if(!mi(n)||!mi(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),w.createElement(WM,wm({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:Rae,ref:t}),s)}),Lae=e=>{var{children:t}=e,n=we(dp);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(WM,{width:r,height:i,x:l,y:s},t)},Ek=w.forwardRef((e,t)=>{var{children:n}=e,r=Pae(e,Dae),i=Zn();return i?w.createElement(Lae,null,w.createElement(_k,{isPanorama:!0},n)):w.createElement(Iae,wm({ref:t},r),w.createElement(_k,{isPanorama:!1},n))});function Bae(){var e=rn(),[t,n]=w.useState(null),r=we($G);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;nn(s)&&s!==r&&e(TG(s))}},[t,e,r]),n}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){Uae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uae(e,t,n){return(t=Vae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(null,arguments)}var Hae=()=>(Fee(),null);function Sm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $ae=w.forwardRef((e,t)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:Sm((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Sm((r=e.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,p)=>{l(g=>{var v=Math.round(h),x=Math.round(p);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),d=w.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var v=S=>{var{width:_,height:E}=S[0].contentRect;u(_,E)},x=new ResizeObserver(v);x.observe(h),i.current=x}},[t,u]);return w.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(mp,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",eo({ref:d},e)))}),qae=w.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=w.useState({containerWidth:Sm(n),containerHeight:Sm(r)}),l=w.useCallback((d,h)=>{s(p=>{var g=Math.round(d),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=w.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[t,l]);return w.createElement(w.Fragment,null,w.createElement(mp,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",eo({ref:u},e)))}),Gae=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(mp,{width:n,height:r}),w.createElement("div",eo({ref:t},e)))}),Yae=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return Qi(n)||Qi(r)?w.createElement(qae,eo({},e,{ref:t})):w.createElement(Gae,eo({},e,{ref:t}))});function Kae(e){return e===!0?$ae:Yae}var Wae=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:S,onTouchStart:_,style:E,width:j,responsive:A,dispatchTouchEvents:N=!0}=e,P=w.useRef(null),T=rn(),[D,I]=w.useState(null),[B,$]=w.useState(null),Z=Bae(),U=l1(),J=(U==null?void 0:U.width)>0?U.width:j,oe=(U==null?void 0:U.height)>0?U.height:i,de=w.useCallback(W=>{Z(W),typeof t=="function"&&t(W),I(W),$(W),W!=null&&(P.current=W)},[Z,t,I,$]),ae=w.useCallback(W=>{T(E5(W)),T(Dr({handler:s,reactEvent:W}))},[T,s]),M=w.useCallback(W=>{T(Mb(W)),T(Dr({handler:h,reactEvent:W}))},[T,h]),k=w.useCallback(W=>{T(b3()),T(Dr({handler:p,reactEvent:W}))},[T,p]),Y=w.useCallback(W=>{T(Mb(W)),T(Dr({handler:g,reactEvent:W}))},[T,g]),F=w.useCallback(()=>{T(O5())},[T]),se=w.useCallback(W=>{T(A5(W.key))},[T]),R=w.useCallback(W=>{T(Dr({handler:l,reactEvent:W}))},[T,l]),G=w.useCallback(W=>{T(Dr({handler:u,reactEvent:W}))},[T,u]),ie=w.useCallback(W=>{T(Dr({handler:d,reactEvent:W}))},[T,d]),ue=w.useCallback(W=>{T(Dr({handler:v,reactEvent:W}))},[T,v]),ge=w.useCallback(W=>{T(Dr({handler:_,reactEvent:W}))},[T,_]),Ce=w.useCallback(W=>{N&&T(D5(W)),T(Dr({handler:S,reactEvent:W}))},[T,N,S]),te=w.useCallback(W=>{T(Dr({handler:x,reactEvent:W}))},[T,x]),ve=Kae(A);return w.createElement(V3.Provider,{value:D},w.createElement(B9.Provider,{value:B},w.createElement(ve,{width:J??(E==null?void 0:E.width),height:oe??(E==null?void 0:E.height),className:at("recharts-wrapper",r),style:zae({position:"relative",cursor:"default",width:J,height:oe},E),onClick:ae,onContextMenu:R,onDoubleClick:G,onFocus:F,onKeyDown:se,onMouseDown:ie,onMouseEnter:M,onMouseLeave:k,onMouseMove:Y,onMouseUp:ue,onTouchEnd:te,onTouchMove:Ce,onTouchStart:ge,ref:de},w.createElement(Hae,null),n)))}),Xae=["width","height","responsive","children","className","style","compact","title","desc"];function Qae(e,t){if(e==null)return{};var n,r,i=Zae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jae=w.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=e,g=Qae(e,Xae),v=di(g);return d?w.createElement(w.Fragment,null,w.createElement(mp,{width:n,height:r}),w.createElement(Ek,{otherAttributes:v,title:h,desc:p},s)):w.createElement(Wae,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(Ek,{otherAttributes:v,title:h,desc:p,ref:t},w.createElement(jre,null,s)))});function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(null,arguments)}var ese={top:5,right:5,bottom:5,left:5},tse={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ese,reverseStackOrder:!1,syncMethod:"index",responsive:!1},nse=w.forwardRef(function(t,n){var r,i=Xn(t.categoricalChartProps,tse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(Aae,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(pre,{chartData:h.data}),w.createElement(Oae,{layout:i.layout,margin:i.margin}),w.createElement(kae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(Jae,Rb({},i,{ref:n})))}),rse=["axis"],ise=w.forwardRef((e,t)=>w.createElement(nse,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rse,tooltipPayloadSearcher:Cee,categoricalChartProps:e,ref:t}));const xS=()=>{const e=w.useContext(FD);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Dp=()=>{const e=w.useContext(qM);if(e===void 0)throw new Error("useModal must be used within a ModalProvider");return e},ase=({active:e,payload:t})=>{if(e&&t&&t.length){const n=t[0].payload;return f.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 text-sm",children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:n.reason}),f.jsxs("p",{className:`font-semibold ${n.change>=0?"text-green-500":"text-red-500"}`,children:["Change: ",n.change>=0?`+${n.change}`:n.change," pts"]}),f.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Total Score: ",n.score]}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(n.timestamp).toLocaleString()})]})}return null},sse=({team:e})=>{const t=Yn(e.id);return f.jsxs("div",{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[f.jsx("i",{className:`${t.icon}`,style:{color:t.gradient.from}}),"Score History for ",e.name]}),f.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 space-y-3",children:e.detailedProgressHistory&&e.detailedProgressHistory.length>1?e.detailedProgressHistory.slice(1).map((n,r)=>f.jsx("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:n.reason}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(n.timestamp).toLocaleString()})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`font-bold text-lg ${n.change>=0?"text-green-500":"text-red-500"}`,children:n.change>=0?`+${n.change}`:n.change}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Total: ",n.score]})]})]})},r)):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No score updates recorded yet."})})]})},ose=({team:e,color:t})=>{var h;const{theme:n}=xS(),{openModal:r,closeModal:i}=Dp(),s=n==="dark"?"#94a3b8":"#64748b",l=()=>{r(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex justify-end p-2",children:f.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})}),f.jsx(sse,{team:e})]}))};if(!((((h=e.detailedProgressHistory)==null?void 0:h.length)??0)>1))return f.jsxs("div",{className:"h-48 flex flex-col",children:[f.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:t},children:e.name}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No score updates yet."})})]});const d=e.detailedProgressHistory?e.detailedProgressHistory.map((p,g)=>g).filter(p=>{var g,v;return p%Math.ceil((((g=e.detailedProgressHistory)==null?void 0:g.length)||1)/5)===0||p===(((v=e.detailedProgressHistory)==null?void 0:v.length)||0)-1}):[];return f.jsxs("div",{className:"h-48 cursor-pointer",onClick:l,title:"Click to view score log",children:[f.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:t},children:e.name}),f.jsx(bY,{width:"100%",height:"100%",children:f.jsxs(ise,{data:e.detailedProgressHistory||[],margin:{top:5,right:20,left:-20,bottom:5},children:[f.jsx(m5,{strokeDasharray:"3 3",strokeOpacity:n==="dark"?.1:.3}),f.jsx(S5,{tick:{fontSize:10,fill:s},tickFormatter:p=>`Update ${p}`,interval:0,angle:-30,textAnchor:"end",height:40,ticks:d}),f.jsx(_5,{tick:{fontSize:10,fill:s},domain:[0,"dataMax + 50"],allowDecimals:!1}),f.jsx(Xee,{content:f.jsx(ase,{})}),f.jsx(w5,{type:"stepAfter",dataKey:"score",stroke:t,strokeWidth:2,activeDot:{r:6},dot:{r:3,strokeWidth:2}})]})})]})},M5=({teams:e})=>!e||e.length===0?f.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 h-80 flex items-center justify-center",children:"No score history available to display."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:e.map(t=>{const n=Yn(t.id);return f.jsx(ose,{team:t,color:n.gradient.from},t.id)})}),lse=e=>{if(!e.length)return e;const t=[...e].sort((i,s)=>s.score-i.score);let n=1,r=t[0].score;return t.map((i,s)=>(i.score!==r&&(n=s+1,r=i.score),{...i,rank:n}))},R5=e=>lse(e),cse=({trend:e,className:t="w-6 h-6"})=>{switch(e){case"up":return f.jsxs("svg",{className:`${t} text-green-500`,viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M16.5 2.5c0-.83.67-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v6.5c0 .14-.02.27-.06.4l-6.7-6.7C13.23 2.52 13.36 2.5 13.5 2.5h3zM12 6L7.5 10.5V9c-.83 0-1.5.67-1.5 1.5v9c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5v-6.5c0-.83-.67-1.5-1.5-1.5h-1.5l4.5-4.5z"}),f.jsx("path",{d:"M21 19V8h-3V6h4v13z"})]});case"down":return f.jsxs("svg",{className:`${t} text-red-500`,viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M16.5 21.5c0 .83.67 1.5 1.5 1.5.84 0 1.5-.67 1.5-1.5v-6.5c0-.14-.02-.27-.06-.4l-6.7 6.7c.13.04.26.06.4.06h3zM12 18L7.5 13.5V15c-.83 0-1.5-.67-1.5-1.5v-9c0-.83.67-1.5 1.5-1.5h9c.83 0 1.5.67 1.5 1.5v6.5c0 .83-.67 1.5-1.5 1.5h-1.5l4.5 4.5z"}),f.jsx("path",{d:"M21 5v11h-3v2h4V5z"})]});case"none":default:return f.jsx("svg",{className:`${t} text-slate-400`,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4"})})}},use=e=>e>.5?"up":e<-.5?"down":"none",dse=()=>{lo("dashboard");const{selectedEvent:e,setSelectedEvent:t,isDataAvailable:n}=Ll(),r=Ur(),{data:i,loading:s}=Vt(vi,[ye.TEAMS,ye.EVENTS,ye.USERS]),l=s,u=w.useMemo(()=>{const x=(i||[]).filter(S=>S.id!==On);return R5(x)},[i]),d=w.useMemo(()=>(u||[]).reduce((x,S)=>x+(S.score||0),0),[u]),[h,p]=w.useState(!1),g=w.useRef(null);w.useEffect(()=>{const x=S=>{g.current&&!g.current.contains(S.target)&&p(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const v=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((x,S)=>f.jsx(rl,{},S))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsx(Ne,{className:"lg:col-span-3 p-6",children:f.jsx(rt,{className:"h-80 w-full"})}),f.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[f.jsx(rt,{className:"h-8 w-1/3 mb-2"}),f.jsx(T9,{count:3})]})]}),f.jsx(Ne,{className:"p-6",children:f.jsx(rt,{className:"h-80 w-full"})})]});return f.jsxs(ui,{className:"space-y-6",children:[f.jsx("div",{className:"text-center mb-6",children:f.jsxs("div",{className:"relative inline-block",ref:g,children:[f.jsxs("button",{onClick:()=>p(!h),className:"flex items-center justify-center gap-3 text-4xl md:text-5xl font-bold text-slate-800 dark:text-slate-100 focus:outline-none transition-colors hover:text-indigo-600 dark:hover:text-indigo-400","aria-haspopup":"true","aria-expanded":h,children:[f.jsx("span",{children:e}),f.jsx("i",{className:`bi bi-chevron-down text-2xl transition-transform duration-300 ${h?"rotate-180":""}`})]}),f.jsx(qm,{children:h&&f.jsx(Zr.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full mt-4 left-1/2 -translate-x-1/2 w-72 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden z-10",children:f.jsx("ul",{className:"p-2",children:KU.map(x=>f.jsx("li",{onClick:()=>{t(x),p(!1)},className:`px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-indigo-100 dark:hover:bg-indigo-900/50 rounded-lg cursor-pointer transition-colors ${e===x?"text-indigo-600":""}`,children:x},x))})})})]})}),n?l?v():f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:u.slice(0,4).map(x=>{var T,D;const S=x.progressHistory||[];let _=0;if(S.length>=2){const I=S[S.length-1].score,B=S[S.length-2].score;B>0?_=(I-B)/B*100:I>0&&(_=100)}const E=_>=0,j=Yn(x.id),A=use(_),P=`${(d>0?x.score/d*100:0).toFixed(1)}%`;return f.jsxs(Ne,{className:"p-5 transform transition-transform hover:-translate-y-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("small",{className:"text-slate-500 dark:text-slate-400 font-semibold",children:x.name}),f.jsx("i",{className:`${j.icon} text-2xl`,style:{color:j.gradient.from}})]}),f.jsxs("div",{className:"flex items-baseline justify-between mt-3 mb-2",children:[f.jsxs("h4",{className:"font-bold text-2xl text-slate-800 dark:text-slate-100 mb-0",children:[x.score," Pts"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Share of total"}),f.jsx("span",{className:"font-semibold text-sm text-slate-800 dark:text-slate-100",children:P})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Change"}),f.jsx("span",{className:`font-semibold text-sm ${E?"text-green-500":"text-red-500"}`,children:_!==0?(E?"+":"")+Math.abs(_).toFixed(1)+"%":"0%"})]}),f.jsx(cse,{trend:A,className:"w-5 h-5"})]})]}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400 mt-2 block",children:[f.jsx("i",{className:"bi bi-trophy-fill text-yellow-500 mr-1"}),((T=x.placementStats)==null?void 0:T.first)||0," 1st place",(((D=x.placementStats)==null?void 0:D.first)||0)!==1?"s":""]})]},x.id)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsxs(Ne,{className:"lg:col-span-3",children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Leaderboard Ranking"})}),f.jsx("div",{className:"px-6 pb-6",children:f.jsx(j9,{teams:u})})]}),f.jsx("div",{className:"lg:col-span-2 space-y-4",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Top Teams"}),f.jsx("div",{className:"space-y-3 mt-2",children:u.slice(0,5).map(x=>f.jsxs(Ne,{className:"p-4 cursor-pointer group",onClick:()=>r(`/teams?teamId=${x.id}`),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors",children:x.name}),f.jsxs("span",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:["#",x.rank]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("i",{className:"bi bi-people-fill mr-1"}),x.playersCount," Members"]}),f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:[x.score," pts"]})]})]},x.id))})]})})]}),f.jsxs(Ne,{children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Team Score Progression"})}),f.jsx("div",{className:"px-6 pb-6",children:f.jsx(M5,{teams:u})})]})]}):f.jsx(sd,{})]})},fo=()=>{const e=w.useContext(hP);if(e===void 0)throw new Error("useVisibility must be used within a VisibilityProvider");return e},fse=({log:e,teams:t,onClose:n,onSave:r})=>{const[i,s]=w.useState(e),l=t.filter(h=>h.id!==On),u="w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",d=h=>{const{name:p,value:g}=h.target;s(v=>({...v,[p]:p==="points"?parseInt(g)||0:g}))};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:[e.id?"Edit":"Add"," Merit/Demerit Entry"]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Team"}),f.jsxs("select",{name:"teamId",value:i.teamId,onChange:d,className:u,children:[f.jsx("option",{value:"",children:"Select Team..."}),l.map(h=>f.jsx("option",{value:h.id,children:h.name},h.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Type"}),f.jsxs("select",{name:"type",value:i.type,onChange:d,className:u,children:[f.jsx("option",{value:"merit",children:"Merit (+)"}),f.jsx("option",{value:"demerit",children:"Demerit (-)"})]})]}),f.jsx(xt,{id:"reason",name:"reason",label:"Reason",value:i.reason||"",onChange:d}),f.jsx(xt,{id:"points",name:"points",label:"Points (Positive Value)",type:"number",value:i.points||"",onChange:d})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{onClick:()=>r(i),children:"Save Entry"})]})]})},hse=()=>{lo("leaderboard");const{openModal:e,closeModal:t}=Dp(),[n,r]=w.useState("standings"),{addToast:i}=jn(),{user:s}=Ft(),{settings:l,isPrivileged:u}=fo(),{isDataAvailable:d}=Ll(),h=Ur(),{data:p,loading:g}=Vt(vi,[ye.TEAMS,ye.EVENTS,ye.USERS]),{data:v,loading:x}=Vt(oa,[ye.EVENTS]),S=p||[],_=v||[],E=g||x,[j,A]=w.useState(null),N=(s==null?void 0:s.role)===ke.ADMIN||(s==null?void 0:s.role)===ke.OFFICER||(s==null?void 0:s.teamId)===On,P=(s==null?void 0:s.role)===ke.ADMIN,T=w.useMemo(()=>_.reduce((M,k)=>((M[k.category]=M[k.category]||[]).push(k),M),{}),[_]),D=Object.values(Se),I=M=>{h(`/teams?teamId=${M.id}`,{replace:!0})},B=M=>{e(f.jsx(mse,{event:M,teams:S,onClose:t}))},$=async M=>{if(!M.teamId||!M.reason||M.points===void 0||M.points<=0){i("Please fill all fields with valid values (points must be > 0).","error");return}try{M.id?(await tP(M.id,M),i("Log entry updated!","success")):(await dw(M),i("New log entry added!","success")),t()}catch(k){try{const{enqueue:Y,processQueue:F}=await Ks(async()=>{const{enqueue:se,processQueue:R}=await Promise.resolve().then(()=>Nl);return{enqueue:se,processQueue:R}},void 0);Y("point:add",M),F(),i("Log entry queued  will sync when online.","info"),t()}catch{i(k.message||"Failed to save log entry.","error")}}},Z=M=>{const k=M||{teamId:"",type:"merit",reason:"",points:0};e(f.jsx(fse,{log:k,teams:S,onClose:t,onSave:$}))},U=async(M,k,Y)=>{if(window.confirm("Are you sure you want to delete this log entry?"))try{await eP(M),i("Log entry deleted.","success")}catch{i("Failed to delete log entry.","error")}},J=w.useMemo(()=>{const M=S.filter(k=>k.id!==On);return R5(M)},[S]),oe=S.flatMap(M=>[...(M.merits||[]).map(k=>({...k,teamName:M.name,teamId:M.id,type:"merit"})),...(M.demerits||[]).map(k=>({...k,teamName:M.name,teamId:M.id,type:"demerit"}))]).sort((M,k)=>new Date(k.timestamp).getTime()-new Date(M.timestamp).getTime()),de=()=>f.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((M,k)=>f.jsx(Ne,{className:"p-4",children:f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-4",children:[f.jsx(rt,{className:"h-8 w-12"})," ",f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(rt,{className:"h-10 w-10 rounded-full"})," ",f.jsxs("div",{className:"space-y-2",children:[f.jsx(rt,{className:"h-6 w-32"})," ",f.jsx(rt,{className:"h-4 w-48"})," "]})]}),f.jsxs("div",{className:"space-y-2 text-right",children:[f.jsx(rt,{className:"h-6 w-20 ml-auto"})," ",f.jsx(rt,{className:"h-4 w-16 ml-auto"})," "]})]})},k))}),ae=[{label:"1st Place",bg:"bg-yellow-500",text:"text-white"},{label:"2nd Place",bg:"bg-slate-300",text:"text-slate-800"},{label:"3rd Place",bg:"bg-amber-700",text:"text-white"},{label:"4th Place",bg:"bg-slate-200",text:"text-slate-600"},{label:"Merit",bg:"bg-blue-500",text:"text-white"},{label:"Demerit",bg:"bg-red-500",text:"text-white"}];return d?f.jsxs(ui,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Leaderboard"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[(u||l.leaderboard.tabs.standings)&&(u||l.competitionScores)&&f.jsx("button",{onClick:()=>r("standings"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="standings"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Team Standings"}),(u||l.leaderboard.tabs.records)&&f.jsx("button",{onClick:()=>r("records"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="records"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Competition Records"}),(u||l.leaderboard.tabs.meritsLog)&&f.jsx("button",{onClick:()=>r("merits"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="merits"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Merit & Demerit Log"})]}),n==="standings"&&(u||l.leaderboard.tabs.standings)&&(u||l.competitionScores)&&(E?de():f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-wrap gap-4 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-soft dark:shadow-soft-dark text-xs sm:text-sm",children:[f.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:"Legend:"}),ae.map((M,k)=>f.jsxs("div",{className:"flex items-center space-x-1.5",children:[f.jsx("span",{className:`inline-block w-4 h-4 rounded-full ${M.bg}`}),f.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:M.label})]},k))]}),f.jsx("div",{className:"space-y-3",children:[...J].sort((M,k)=>M.rank-k.rank).map(M=>{var Y,F,se,R,G,ie;const k=Yn(M.id);return f.jsx(Ne,{className:"cursor-pointer group hover:bg-slate-50 dark:hover:bg-slate-800/50",onClick:()=>I(M),children:f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center p-4 gap-4",children:[(u||l.competitionScores)&&f.jsx("div",{className:"w-12 text-center",children:f.jsxs("span",{className:"text-2xl font-bold text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 transition-colors",children:["#",M.rank]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("i",{className:`${k.icon} text-3xl`,style:{color:k.gradient.from}}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors",children:M.name}),f.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5 text-xs",children:[f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-yellow-500 text-white flex items-center gap-1",title:"1st Places",children:[f.jsx("i",{className:"bi bi-trophy-fill"})," ",((Y=M.placementStats)==null?void 0:Y.first)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-300 text-slate-800 flex items-center gap-1",title:"2nd Places",children:[f.jsx("i",{className:"bi bi-award-fill"})," ",((F=M.placementStats)==null?void 0:F.second)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-amber-700 text-white flex items-center gap-1",title:"3rd Places",children:[f.jsx("i",{className:"bi bi-award-fill"})," ",((se=M.placementStats)==null?void 0:se.third)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-200 text-slate-600 flex items-center gap-1",title:"4th Places",children:["4th: ",((R=M.placementStats)==null?void 0:R.fourth)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-500 text-white flex items-center gap-1",title:"Merits",children:["M: ",((G=M.placementStats)==null?void 0:G.merits)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-red-500 text-white flex items-center gap-1",title:"Demerits",children:["D: ",((ie=M.placementStats)==null?void 0:ie.demerits)||0]})]})]})]}),f.jsxs("div",{className:"text-right",children:[(u||l.competitionScores)&&f.jsxs("p",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:[M.score," pts"]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[M.playersCount," Members"]})]})]})},M.id)})})]})),n==="records"&&(u||l.leaderboard.tabs.records)&&f.jsx("div",{className:"space-y-6",children:E?f.jsx(rt,{className:"h-96 w-full"}):_.length===0?f.jsx("p",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No events found."}):D.map(M=>T[M]&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:M}),f.jsx("div",{className:"space-y-4",children:T[M].map(k=>{const Y=!!k.results&&k.results.length>0;return f.jsxs(Ne,{className:"p-5",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[k.name,Y&&f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 text-sm"})]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(k.date).toLocaleDateString()," ",(u||l.competitionScores)&&` Max Points: ${k.competitionPoints}`]})]}),N&&f.jsx(me,{variant:"secondary",className:"text-sm py-1.5 px-3",onClick:()=>B(k),children:Y?"Update Scores":"Input Scores"})]}),Y?f.jsx("div",{className:"mt-4 space-y-3",children:[...J].sort((F,se)=>{var R,G,ie,ue;return(((G=(R=F.eventScores)==null?void 0:R.find(ge=>ge.eventId===k.id))==null?void 0:G.placement)||999)-(((ue=(ie=se.eventScores)==null?void 0:ie.find(ge=>ge.eventId===k.id))==null?void 0:ue.placement)||999)}).map(F=>{var ue,ge,Ce;const se=(ue=F.eventScores)==null?void 0:ue.find(te=>te.eventId===k.id);if(!se)return null;const R=j===F.id,G=(Ce=(ge=F.rosters)==null?void 0:ge.find(te=>te.eventId===k.id))==null?void 0:Ce.participants,ie=Yn(F.id);return f.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-800/50 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",onClick:()=>A(R?null:F.id),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[(u||l.competitionScores)&&f.jsxs("span",{className:"font-bold text-lg w-8 text-center",children:["#",se.placement]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2",style:{color:ie.gradient.from},children:[f.jsx("i",{className:`${ie.icon} text-lg`}),f.jsx("span",{children:F.name})]}),(u||l.competitionScores)&&f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[se.competitionPoints," pts earned"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[(u||l.competitionScores)&&f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:se.rawScore}),f.jsx("span",{className:"text-xs block text-slate-500 dark:text-slate-400",children:"Total Raw"})]}),f.jsx("i",{className:`bi bi-chevron-${R?"up":"down"} text-slate-400`})]})]}),R&&f.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[(u||l.competitionScores)&&f.jsxs("div",{children:[f.jsx("h5",{className:"text-sm font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Criteria Breakdown"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:se.scores.map(te=>f.jsxs("div",{className:"p-2 rounded bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600",children:[f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:te.criteria}),f.jsxs("div",{className:"font-semibold",children:[te.score," / ",te.maxScore]})]},te.criteria))})]}),G&&G.length>0&&f.jsxs("div",{children:[f.jsx("h5",{className:"text-sm font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Registered Participants"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:G.map((te,ve)=>f.jsx("span",{className:"text-xs font-medium bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full",children:te},ve))})]})]})]},F.id)})}):f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic py-2",children:"Scores not yet finalized for this event."})]},k.id)})})]},M))}),n==="merits"&&(u||l.leaderboard.tabs.meritsLog)&&f.jsxs(Ne,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Merit & Demerit Log"}),P&&f.jsx(me,{onClick:()=>Z(),children:"Add Entry"})]}),E?f.jsx(rt,{className:"h-64 w-full"}):oe.length===0?f.jsx("p",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No merits or demerits have been recorded yet."}):f.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:oe.map(M=>{const k=Yn(M.teamId);return f.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-start gap-4 ${M.type==="merit"?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:M.reason}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("i",{className:`${k.icon}`,style:{color:k.gradient.from}}),f.jsxs("span",{children:["Team: ",M.teamName,"  By ",M.updatedBy," on ",new Date(M.timestamp).toLocaleDateString()]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:`font-bold text-lg ${M.type==="merit"?"text-green-500":"text-red-500"}`,children:M.type==="merit"?`+${M.points}`:`-${M.points}`}),P&&f.jsxs("div",{className:"flex gap-1",children:[f.jsx(me,{variant:"secondary",className:"!p-0 h-6 w-6 text-xs",onClick:()=>Z({...M,type:M.type}),children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-0 h-6 w-6 text-xs",onClick:()=>U(M.id,M.teamId,M.type),children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})]},M.id)})})]})]}):f.jsx(ui,{children:f.jsx(sd,{})})},mse=({event:e,teams:t,onClose:n})=>{const{addToast:r}=jn(),[i,s]=w.useState([]);w.useEffect(()=>{const d=t.map(h=>{var v;const p=(v=e.results)==null?void 0:v.find(x=>x.teamId===h.id);if(p)return{...p,criteriaScores:{...p.criteriaScores},merits:[...p.merits||[]],demerits:[...p.demerits||[]]};const g={};return e.criteria.forEach(x=>g[x.name]=0),{teamId:h.id,criteriaScores:g,meritAdjustment:0,demeritAdjustment:0,merits:[],demerits:[]}});s(d)},[e,t]);const l=(d,h,p)=>{const g=parseFloat(p)||0,v=[...i];v[d].criteriaScores[h]=g,s(v)},u=async()=>{try{await QD(e.id,i),r("Scores updated and leaderboard synchronized!","success"),n()}catch{r("Failed to save scores.","error")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["Input Scores: ",e.name]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"flex-grow min-h-0 overflow-y-auto p-6 space-y-4",children:[f.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-sm text-slate-700 dark:text-slate-300 mb-4",children:f.jsxs("p",{children:[f.jsx("strong",{children:"Instructions:"})," Enter raw criteria scores in the table below. The system automatically calculates total raw scores and final placement points."]})}),i.map((d,h)=>{const p=t.find(v=>v.id===d.teamId);if(!p||p.id===On)return null;const g=Yn(p.id);return f.jsxs(Ne,{className:"p-4",children:[f.jsx("h4",{className:"font-bold text-lg mb-3",style:{color:g.gradient.from},children:p.name}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 dark:border-slate-700",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Criteria"}),f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Description"}),f.jsx("th",{className:"p-3 text-center font-semibold text-slate-600 dark:text-slate-300 w-32",children:"Score"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.criteria.map(v=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-3 font-medium text-slate-700 dark:text-slate-200",children:v.name}),f.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:v.description}),f.jsx("td",{className:"p-3 text-center",children:f.jsx(xt,{id:`${p.id}-${v.name}`,label:"",type:"number",min:"0",max:v.points,value:d.criteriaScores[v.name]||"",onChange:x=>l(h,v.name,x.target.value),className:"!mt-0 w-24 text-center mx-auto",placeholder:`Max: ${v.points}`})})]},v.name))})]})})]},p.id)})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end gap-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{onClick:u,children:"Save & Calculate Rankings"})]})]})},pse=({criteria:e})=>f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 dark:border-slate-700",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Criteria"}),f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Description"}),f.jsx("th",{className:"p-3 text-right font-semibold text-slate-600 dark:text-slate-300",children:"Points"})]})}),f.jsx("tbody",{children:e.map((t,n)=>f.jsxs("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:[f.jsx("td",{className:"p-3 font-medium text-slate-700 dark:text-slate-200",children:t.name}),f.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:t.description}),f.jsxs("td",{className:"p-3 text-right font-semibold text-slate-700 dark:text-slate-200",children:[t.points," pts"]})]},n))})]})}),Ck=({event:e,onClose:t})=>{var n;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e.name}),f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:f.jsxs("div",{className:"space-y-4 text-sm",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-slate-600 dark:text-slate-300",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-person-badge-fill mr-2"}),f.jsx("strong",{children:"In-Charge:"})," ",e.officerInCharge]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-people-fill mr-2"}),f.jsx("strong",{children:"Participants:"})," ",e.participantsInfo]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-calendar-week mr-2"}),f.jsx("strong",{children:"Date:"})," ",new Date(e.date).toLocaleDateString()]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-geo-alt-fill mr-2"}),f.jsx("strong",{children:"Venue:"})," ",e.venue]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-trophy-fill mr-2"}),f.jsx("strong",{children:"Points:"})," ",e.competitionPoints]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-gavel mr-2"}),f.jsx("strong",{children:"Judges:"})," ",((n=e.judges)==null?void 0:n.join(", "))||"N/A"]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Description"}),f.jsx("p",{className:"whitespace-pre-wrap text-slate-600 dark:text-slate-300",children:e.description})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Mechanics"}),f.jsx("p",{className:"whitespace-pre-wrap text-slate-600 dark:text-slate-300",children:e.mechanics})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Criteria for Judging"}),f.jsx(pse,{criteria:e.criteria})]})]})]})})]})},gse=({event:e,onSelect:t,canManage:n})=>{const i=(u=>{const d=new Date;d.setHours(0,0,0,0);const h=new Date(u.date);return h.setHours(0,0,0,0),h<d?Xt.COMPLETED:h.getTime()===d.getTime()?Xt.OPEN:Xt.UPCOMING})(e),s={[Xt.OPEN]:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",[Xt.CLOSED]:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",[Xt.UPCOMING]:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",[Xt.COMPLETED]:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-80"},l={[Xt.OPEN]:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",[Xt.CLOSED]:"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100",[Xt.UPCOMING]:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",[Xt.COMPLETED]:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};return f.jsxs(Ne,{className:`flex flex-col border ${s[i]} dark:shadow-soft-dark overflow-hidden`,children:[f.jsxs("div",{className:"p-5 flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-50 leading-tight",children:e.name}),f.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full uppercase tracking-wide ${l[i]}`,children:i})]}),f.jsxs("div",{className:"space-y-2.5 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-person-badge-fill text-slate-500 dark:text-slate-400"}),f.jsx("span",{className:"truncate",children:e.officerInCharge})]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-calendar-week text-slate-500 dark:text-slate-400"}),f.jsx("span",{children:new Date(e.date).toLocaleDateString()})]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-geo-alt-fill text-slate-500 dark:text-slate-400"}),f.jsx("span",{children:e.venue})]})]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-2 leading-relaxed",children:e.description})]}),f.jsxs("div",{className:"px-4 py-3 bg-white/50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 flex gap-2",children:[f.jsx(me,{variant:"secondary",className:"flex-1 text-xs py-1.5",onClick:()=>t("view",e),children:"View Details"}),n&&f.jsxs(f.Fragment,{children:[f.jsx(me,{variant:"secondary",className:"!p-0 h-8 w-8 text-xs flex items-center justify-center",onClick:()=>t("edit",e),title:"Edit Event",children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-0 h-8 w-8 text-xs flex items-center justify-center",onClick:()=>t("delete",e),title:"Delete Event",children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})]})},Nk=({event:e,onSave:t,onClose:n})=>{var N,P;const[r,i]=w.useState(e||{name:"",date:new Date().toISOString().split("T")[0],venue:"TBD",description:"",mechanics:"",criteria:[],status:Xt.UPCOMING,category:Se.JOKER_FLAG,officerInCharge:"",participantsInfo:"",judges:[],competitionPoints:1e3}),[s,l]=w.useState(""),[u,d]=w.useState({name:"",description:"",points:""}),{addToast:h}=jn();w.useEffect(()=>{e&&i({...e,date:new Date(e.date||Date.now()).toISOString().split("T")[0]})},[e]);const p=T=>{const{name:D,value:I,type:B}=T.target,$=B==="number";i(Z=>({...Z,[D]:$?Number(I):I}))},g=()=>{s.trim()&&(i(T=>({...T,judges:[...T.judges||[],s.trim()]})),l(""))},v=T=>{i(D=>{var I;return{...D,judges:(I=D.judges)==null?void 0:I.filter((B,$)=>$!==T)}})},x=()=>{const{name:T,description:D,points:I}=u,B=parseInt(I);T.trim()&&D.trim()&&!isNaN(B)&&B>0?(i($=>({...$,criteria:[...$.criteria||[],{name:T,description:D,points:B}]})),d({name:"",description:"",points:""})):h("Please enter a valid name, description, and point value.","error")},S=T=>{i(D=>{var I;return{...D,criteria:(I=D.criteria)==null?void 0:I.filter((B,$)=>$!==T)}})},_=(T,D,I)=>{const B=[...r.criteria||[]],$={...B[T]};D==="points"?$[D]=parseInt(I,10)||0:$[D]=I,B[T]=$,i(Z=>({...Z,criteria:B}))},E=T=>{T.preventDefault(),t(r)},j="mt-1 block w-full text-sm px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",A="block text-sm font-medium text-slate-700 dark:text-slate-300";return f.jsxs("form",{onSubmit:E,className:"flex flex-col flex-grow overflow-hidden",children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e!=null&&e.id?`Edit: ${e.name}`:"Add New Event"}),f.jsx("button",{type:"button",onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-4 text-sm",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:A,children:"Event Name"}),f.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:p,className:j,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"category",className:A,children:"Category"}),f.jsx("select",{name:"category",id:"category",value:r.category,onChange:p,className:j,children:Object.values(Se).map(T=>f.jsx("option",{value:T,children:T},T))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"officerInCharge",className:A,children:"Officer-in-Charge"}),f.jsx("input",{type:"text",name:"officerInCharge",id:"officerInCharge",value:r.officerInCharge,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"participantsInfo",className:A,children:"Participants Info"}),f.jsx("input",{type:"text",name:"participantsInfo",id:"participantsInfo",placeholder:"e.g., 10-15 per team",value:r.participantsInfo,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"competitionPoints",className:A,children:"Competition Points"}),f.jsx("input",{type:"number",name:"competitionPoints",id:"competitionPoints",value:r.competitionPoints,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"date",className:A,children:"Event Date"}),f.jsx("input",{type:"date",name:"date",id:"date",value:r.date,onChange:p,className:j})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{htmlFor:"venue",className:A,children:"Venue"}),f.jsx("input",{type:"text",name:"venue",id:"venue",value:r.venue,onChange:p,className:j})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:A,children:"General Description"}),f.jsx("textarea",{name:"description",id:"description",rows:3,value:r.description,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"mechanics",className:A,children:"Mechanics / Rules"}),f.jsx("textarea",{name:"mechanics",id:"mechanics",rows:5,value:r.mechanics,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{className:A,children:"Criteria for Judging"}),f.jsx("div",{className:"space-y-2 mt-1",children:(N=r.criteria)==null?void 0:N.map((T,D)=>f.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto_auto] items-end gap-2 p-2 bg-slate-100 dark:bg-slate-800/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Name"}),f.jsx("input",{type:"text",value:T.name,onChange:I=>_(D,"name",I.target.value),className:`${j} !p-1.5`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Description"}),f.jsx("input",{type:"text",value:T.description,onChange:I=>_(D,"description",I.target.value),className:`${j} !p-1.5`})]}),f.jsxs("div",{className:"w-20",children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Points"}),f.jsx("input",{type:"number",value:T.points,onChange:I=>_(D,"points",I.target.value),className:`${j} !p-1.5`})]}),f.jsx("button",{type:"button",onClick:()=>S(D),className:"h-9 w-9 flex-shrink-0 bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-800 rounded-md font-bold",children:""})]},D))}),f.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto_auto] items-end gap-2 mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"New Criterion Name"}),f.jsx("input",{type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"e.g., Creativity",className:j})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Description"}),f.jsx("input",{type:"text",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"e.g., Originality of concept",className:j})]}),f.jsxs("div",{className:"w-20",children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Points"}),f.jsx("input",{type:"number",value:u.points,onChange:T=>d({...u,points:T.target.value}),placeholder:"e.g., 30",className:j})]}),f.jsx(me,{type:"button",variant:"secondary",onClick:x,children:"Add"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:A,children:"Judges"}),f.jsx("div",{className:"flex flex-wrap gap-2 my-2",children:(P=r.judges)==null?void 0:P.map((T,D)=>f.jsxs("span",{className:"flex items-center bg-slate-200 dark:bg-slate-600 rounded-full px-3 py-1 text-sm",children:[T,f.jsx("button",{type:"button",onClick:()=>v(D),className:"ml-2 text-red-500 hover:text-red-700",children:""})]},D))}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"text",value:s,onChange:T=>l(T.target.value),placeholder:"Add judge name...",className:j}),f.jsx(me,{type:"button",variant:"secondary",onClick:g,children:"Add"})]})]})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end space-x-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{type:"submit",children:"Save Event"})]})]})},vse=({event:e,onClose:t,onConfirm:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Confirm Deletion"}),f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"p-6 text-center",children:[f.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete the event: ",f.jsx("br",{}),f.jsx("strong",{className:"text-lg",children:e.name}),"?"]}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx(me,{variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(me,{variant:"danger",onClick:n,children:"Delete"})]})]})]}),yse=()=>{lo("events");const{data:e,loading:t}=Vt(oa,[ye.EVENTS]),{user:n}=Ft(),{addToast:r}=jn(),[i]=UD(),{openModal:s,closeModal:l}=Dp(),{isDataAvailable:u}=Ll(),{settings:d,isPrivileged:h}=fo(),p=(n==null?void 0:n.role)===ke.ADMIN||(n==null?void 0:n.role)===ke.OFFICER;w.useEffect(()=>{if(!u||!e)return;const E=i.get("eventId");if(E){const j=e.find(A=>A.id===E);j&&s(f.jsx(Ck,{event:j,onClose:l}))}},[i,u,e]);const g=(E,j)=>{if(E==="view"&&s(f.jsx(Ck,{event:j,onClose:l})),E==="edit"&&s(f.jsx(Nk,{event:j,onSave:x,onClose:l})),E==="delete"){const A=async()=>{try{await XD(j.id),r("Event deleted successfully!","success"),l()}catch{r("Failed to delete event.","error")}};s(f.jsx(vse,{event:j,onClose:l,onConfirm:A}))}},v=()=>{s(f.jsx(Nk,{event:null,onSave:x,onClose:l}))},x=async E=>{try{E.id?(await uw(E),r("Event updated successfully!","success")):(await WD(E),r("Event created successfully!","success")),l()}catch{r("Failed to save event.","error")}},S=w.useMemo(()=>e?e.reduce((E,j)=>((E[j.category]=E[j.category]||[]).push(j),E),{}):{},[e]),_=Object.values(Se);return u?f.jsxs(ui,{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Events"}),p&&f.jsx(me,{onClick:v,children:"Add Event"})]}),t?f.jsx("p",{children:"Loading events..."}):f.jsx("div",{className:"space-y-8",children:_.map(E=>(h||d.events.categories[E])&&S[E]&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:E}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S[E].map(j=>f.jsx(gse,{event:j,onSelect:g,canManage:p},j.id))})]},E))})]}):f.jsx(ui,{children:f.jsx(sd,{})})},Tk=()=>{lo("profile");const{userId:e}=Mz(),{user:t,updateUser:n}=Ft(),{addToast:r}=jn(),i=Ur(),[s,l]=w.useState(null),[u,d]=w.useState(!0),[h,p]=w.useState(!1),[g,v]=w.useState([]),[x,S]=w.useState([]),[_,E]=w.useState(null),[j,A]=w.useState({}),N=!e||(t==null?void 0:t.id)===e,P=k=>{if(!k)return null;try{const Y=new Date(k),F=new Date;let se=F.getFullYear()-Y.getFullYear();const R=F.getMonth()-Y.getMonth();return(R<0||R===0&&F.getDate()<Y.getDate())&&se--,se>0?se:null}catch{return null}};w.useEffect(()=>{(async()=>{d(!0);try{const[Y,F,se]=await Promise.all([vi(),oa(),so()]);v(Y),S(F);let R=null;if(e){if(R=se.find(G=>G.id===e),!R){r("User not found.","error"),i("/dashboard",{replace:!0});return}}else R=t;R&&(l(R),A({...R}),E(R.avatar||null))}catch(Y){console.error("Error fetching profile data",Y),r("Failed to load profile data.","error")}finally{d(!1)}})()},[e,t,i,r]),w.useEffect(()=>{!h&&s&&(A({...s}),E(s.avatar||null))},[h,s]);const T=k=>{const{name:Y,value:F}=k.target;A(se=>({...se,[Y]:F}))},D=k=>{A(Y=>{const F=Y.interestedEvents||[],se=F.includes(k)?F.filter(R=>R!==k):[...F,k];return{...Y,interestedEvents:se}})},I=k=>{var F;if(!N)return;const Y=(F=k.target.files)==null?void 0:F[0];if(Y){const se=new FileReader;se.onloadend=()=>{const R=se.result;E(R),A(G=>({...G,avatar:R}))},se.readAsDataURL(Y)}},B=async()=>{var k,Y,F;if(N){if(!((k=j.firstName)!=null&&k.trim())||!((Y=j.lastName)!=null&&Y.trim())||!((F=j.studentId)!=null&&F.trim())){r("First name, last name, and ID number are required.","error");return}try{await n(j),r("Profile updated successfully!","success"),l(j),p(!1)}catch(se){r(se.message||"Failed to update profile.","error")}}},$=()=>{p(!1)},Z="w-full px-3 py-2 bg-slate-50 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none disabled:bg-slate-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed disabled:opacity-70",U="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",J=k=>{var Y;return((Y=g.find(F=>F.id===k))==null?void 0:Y.name)||"Not Assigned"};if(u)return f.jsx("div",{children:"Loading profile..."});if(!s)return f.jsx("div",{children:"User not found."});const oe=Yn(s.teamId),de=P(j.birthdate),ae=()=>{var k;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Ne,{className:"p-0 overflow-visible",children:[f.jsx("div",{className:"h-32 rounded-t-2xl",style:{background:`linear-gradient(45deg, ${oe.gradient.from}, ${oe.gradient.to})`}}),f.jsx("div",{className:"p-6 pt-0",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-4 -mt-16 relative",children:[f.jsx("img",{src:s.avatar||"https://via.placeholder.com/150",alt:"Profile",className:"h-32 w-32 rounded-full object-cover border-4 border-white dark:border-slate-800 shadow-lg"}),f.jsxs("div",{className:"text-center md:text-left md:mb-2 flex-grow",children:[f.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50 flex items-center gap-2 justify-center md:justify-start",children:[f.jsxs("span",{children:[s.firstName," ",s.lastName]}),f.jsx("span",{className:"text-2xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.2)"},children:""})]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 uppercase font-semibold mt-1 tracking-wide",children:(k=s.role)==null?void 0:k.replace("_"," ")})]}),N&&f.jsx(me,{variant:"secondary",onClick:()=>p(!0),className:"absolute top-16 right-0 md:relative md:top-0 md:right-0",children:"Edit Profile"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[f.jsxs(Ne,{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-slate-100",children:"Personal Details"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-person-vcard-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Full Name"}),f.jsxs("p",{className:"text-slate-700 dark:text-slate-200",children:[s.firstName," ",s.middleName," ",s.lastName]})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-person-badge-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Student ID"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.studentId||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-envelope-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Email"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.email})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-telephone-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Contact"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.contactInfo||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-gender-ambiguous text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Gender"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.gender||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-calendar-heart-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Birthdate & Age"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.birthdate?`${new Date(s.birthdate).toLocaleDateString()} (${P(s.birthdate)} yrs)`:"Not set"})]})]})]})]}),f.jsxs(Ne,{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-2 text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:""})," Bio"]}),f.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap text-sm",children:s.bio||"No bio provided."})]})]}),f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs(Ne,{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-slate-100",children:"Academic & Team"}),f.jsxs("div",{className:"space-y-4 text-sm",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-bar-chart-steps text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Year Level"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.yearLevel||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-people-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Section"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.section||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:`${oe.icon} mt-1`,style:{color:oe.gradient.from}}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Assigned Team"}),f.jsx("p",{className:"font-bold",style:{color:oe.gradient.from},children:J(s.teamId)})]})]})]})]}),f.jsxs(Ne,{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-3 text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:""})," Interested Events"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:s.interestedEvents&&s.interestedEvents.length>0?s.interestedEvents.map((Y,F)=>f.jsx("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-800 dark:text-indigo-200 rounded-full text-sm font-medium",children:Y},F)):f.jsx("span",{className:"text-slate-500 dark:text-slate-400 italic text-sm",children:"No events selected."})})]})]})]})]})},M=()=>f.jsx("div",{className:"space-y-6",children:f.jsxs(Ne,{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 pb-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:_||"https://via.placeholder.com/150",alt:"Profile",className:"h-32 w-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700"}),f.jsxs("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[f.jsx("i",{className:"bi bi-camera-fill text-white text-2xl"}),f.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:I})]})]}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Edit Profile"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Update your personal information"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["First Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"firstName",value:j.firstName||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Middle Name"}),f.jsx("input",{name:"middleName",value:j.middleName||"",onChange:T,className:Z})]}),f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["Last Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"lastName",value:j.lastName||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["Student ID ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"studentId",value:j.studentId||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Contact Number"}),f.jsx("input",{type:"tel",name:"contactInfo",value:j.contactInfo||"",onChange:T,className:Z})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Email Address"}),f.jsx("input",{type:"email",name:"email",value:j.email||"",onChange:T,className:Z})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Gender"}),f.jsxs("select",{name:"gender",value:j.gender||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Male",children:"Male"}),f.jsx("option",{value:"Female",children:"Female"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{className:U,children:"Birthdate"}),f.jsx("input",{type:"date",name:"birthdate",value:j.birthdate||"",onChange:T,className:Z}),de!==null&&f.jsxs("span",{className:"absolute right-3 bottom-2 text-xs text-slate-400 bg-slate-100 dark:bg-slate-800 px-1 rounded",children:[de," yrs old"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Year Level"}),f.jsxs("select",{name:"yearLevel",value:j.yearLevel||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"}),f.jsx("option",{value:"5th Year",children:"5th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Section"}),f.jsxs("select",{name:"section",value:j.section||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"Section 4",children:"Section 4"}),f.jsx("option",{value:"Section 5",children:"Section 5"}),f.jsx("option",{value:"Section 6",children:"Section 6"}),f.jsx("option",{value:"International",children:"International"}),f.jsx("option",{value:"N/A",children:"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Team"}),f.jsxs("select",{name:"teamId",value:j.teamId||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),g.map(k=>f.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{htmlFor:"bio",className:U,children:"Bio"}),f.jsx("textarea",{id:"bio",name:"bio",rows:3,value:j.bio||"",onChange:T,className:Z,placeholder:"Tell us something about yourself..."})]}),f.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4",children:"Interested Events"}),f.jsx("div",{className:"max-h-60 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg p-4 grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(k=>{var Y;return f.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg cursor-pointer transition-colors",children:[f.jsx("input",{type:"checkbox",checked:(Y=j.interestedEvents)==null?void 0:Y.includes(k.name),onChange:()=>D(k.name),className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:k.name})]},k.id)})})]})]})});return f.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:N?"My Profile":`${s.name}'s Profile`}),N&&f.jsx("div",{className:"flex space-x-2",children:h?f.jsxs(f.Fragment,{children:[f.jsx(me,{variant:"secondary",onClick:$,children:"Cancel"}),f.jsx(me,{onClick:B,children:"Save Changes"})]}):null})]}),h&&N?M():ae()]})},xse=e=>{const n=(new Date().getTime()-new Date(e).getTime())/1e3;if(n<60)return"just now";if(n<3600)return`${Math.round(n/60)}m ago`;if(n<=86400)return`${Math.round(n/3600)}h ago`;const r=Math.round(n/86400);return r<7?`${r}d ago`:new Date(e).toLocaleDateString()},bse=(e,t)=>{var n,r;if(e.teamId){const i=t.find(s=>s.id===e.teamId);if(i){const s=Yn(i.id);let l;if(i.unitLeader===e.id)l="Leader";else if(i.unitSecretary===e.id)l="Secretary";else if(i.unitTreasurer===e.id)l="Treasurer";else if(i.adviser===e.id)l="Adviser";else if((n=i.unitErrands)!=null&&n.includes(e.id))l="Errands";else if(i.id===On){const d=(r=i.facilitators)==null?void 0:r.find(h=>h.userId===e.id);l=d==null?void 0:d.position}const u=l?`${l}, ${i.name}`:i.name;return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:`${s.icon}`,style:{color:s.gradient.from}}),f.jsx("span",{children:u})]})}}return"N/A"},wse=e=>{if(!e)return null;try{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const i=n.getMonth()-t.getMonth();return(i<0||i===0&&n.getDate()<t.getDate())&&r--,r>0?r:null}catch{return null}},Sse=()=>{const{data:e,loading:t}=Vt(so,[ye.USERS]),{data:n,loading:r}=Vt(vi,[ye.TEAMS]),{data:i,loading:s}=Vt(oa,[ye.EVENTS]),l=e||[],u=n||[],d=i||[],h=t||r||s,{openModal:p,closeModal:g}=Dp(),{addToast:v}=jn(),[x,S]=w.useState({name:"",role:"",gender:"",ageBracket:"",yearLevel:"",event:""}),_=w.useMemo(()=>[...new Set(l.map(B=>B.yearLevel).filter(Boolean))].sort(),[l]),E={"":"All Ages","15-18":"15-18 years","19-22":"19-22 years","23-25":"23-25 years","26+":"26+ years"},j=w.useMemo(()=>l.filter(B=>{var Z,U;const $=x.name.toLowerCase();if(x.name&&!(B.name.toLowerCase().includes($)||(Z=B.studentId)!=null&&Z.toLowerCase().includes($))||x.role&&B.role!==x.role||x.gender&&B.gender!==x.gender||x.yearLevel&&B.yearLevel!==x.yearLevel||x.event&&!((U=B.interestedEvents)!=null&&U.includes(x.event)))return!1;if(x.ageBracket){const J=wse(B.birthdate);if(J===null)return!1;const oe=x.ageBracket.split("-"),de=parseInt(oe[0],10),ae=oe[1]?parseInt(oe[1],10):1/0;if(J<de||J>ae)return!1}return!0}),[l,x]),A=B=>{S($=>({...$,[B.target.name]:B.target.value}))},N=()=>{S({name:"",role:"",gender:"",ageBracket:"",yearLevel:"",event:""})},P=async(B,$)=>{try{await KD(B,$),v("User role updated successfully","success")}catch{v("Failed to update user role","error")}},T=()=>{let B={role:ke.USER};const $=()=>{const[Z,U]=w.useState(B),J=async()=>{if(!Z.email||!Z.password||!Z.firstName||!Z.lastName){v("Please fill all required fields.","error");return}try{await cw(Z),v("User added successfully!","success"),g()}catch(oe){v(oe.message||"Failed to add user.","error")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx(xt,{id:"firstName",label:"First Name",onChange:oe=>U({...Z,firstName:oe.target.value})}),f.jsx(xt,{id:"lastName",label:"Last Name",onChange:oe=>U({...Z,lastName:oe.target.value})}),f.jsx(xt,{id:"email",label:"Email",type:"email",onChange:oe=>U({...Z,email:oe.target.value})}),f.jsx(xt,{id:"password",label:"Password",type:"password",onChange:oe=>U({...Z,password:oe.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all duration-150",value:Z.role,onChange:oe=>U({...Z,role:oe.target.value}),children:[f.jsx("option",{value:ke.USER,children:"User"}),f.jsx("option",{value:ke.TEAM_LEAD,children:"Team Lead"}),f.jsx("option",{value:ke.OFFICER,children:"Officer"}),f.jsx("option",{value:ke.ADMIN,children:"Admin"})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:g,children:"Cancel"}),f.jsx(me,{onClick:J,children:"Add User"})]})]})};p(f.jsx($,{}))},D=()=>f.jsx("div",{className:"overflow-x-auto",children:f.jsx("table",{className:"min-w-full",children:f.jsx("tbody",{children:Array.from({length:5}).map((B,$)=>f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(rt,{className:"h-5 w-32"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(rt,{className:"h-5 w-48"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(rt,{className:"h-5 w-24"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(rt,{className:"h-8 w-24"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(rt,{className:"h-5 w-24"})}),f.jsx("td",{className:"px-6 py-4 text-right",children:f.jsx(rt,{className:"h-5 w-16 ml-auto"})})]},$))})})}),I="w-full mt-1 px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20 focus:outline-none";return f.jsxs(Ne,{children:[f.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"User Management"}),f.jsx(me,{onClick:T,children:"Add User"})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Name or ID"}),f.jsx(xt,{label:"",id:"name-filter",name:"name",value:x.name,onChange:A,placeholder:"Search..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Role"}),f.jsxs("select",{name:"role",value:x.role,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),Object.values(ke).map(B=>f.jsx("option",{value:B,className:"capitalize",children:B.replace("_"," ")},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Gender"}),f.jsxs("select",{name:"gender",value:x.gender,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),f.jsx("option",{value:"Male",children:"Male"}),f.jsx("option",{value:"Female",children:"Female"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Age Bracket"}),f.jsx("select",{name:"ageBracket",value:x.ageBracket,onChange:A,className:I,children:Object.entries(E).map(([B,$])=>f.jsx("option",{value:B,children:$},B))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Year Level"}),f.jsxs("select",{name:"yearLevel",value:x.yearLevel,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),_.map(B=>f.jsx("option",{value:B,children:B},B))]})]}),f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Game Interest"}),f.jsxs("select",{name:"event",value:x.event,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),d.map(B=>f.jsx("option",{value:B.name,children:B.name},B.id))]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",f.jsx("strong",{children:j.length})," of ",f.jsx("strong",{children:l.length})," users."]}),f.jsx(me,{variant:"secondary",onClick:N,className:"text-xs py-1 px-3",children:"Reset Filters"})]})]}),h?D():f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Position"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Role"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Last Active"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:j.map(B=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-50",children:B.name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:B.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:bse(B,u)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsxs("select",{value:B.role,onChange:$=>P(B.id,$.target.value),className:"text-xs py-1 px-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 focus:ring-indigo-500/50 transition",children:[f.jsx("option",{value:ke.USER,children:"User"}),f.jsx("option",{value:ke.TEAM_LEAD,children:"Team Lead"}),f.jsx("option",{value:ke.OFFICER,children:"Officer"}),f.jsx("option",{value:ke.ADMIN,children:"Admin"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:B.lastActive?xse(B.lastActive):"Never"})]},B.id))})]})})]})},qe=({id:e,label:t,checked:n,onChange:r})=>f.jsxs("label",{htmlFor:e,className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:t}),f.jsxs("div",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:e,className:"sr-only peer",checked:n,onChange:r,"aria-checked":n}),f.jsx("div",{className:"w-11 h-6 rounded-full bg-slate-200 dark:bg-slate-700 peer-checked:bg-indigo-600 transition-colors duration-150 relative peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 peer-focus:ring-offset-2 dark:peer-focus:ring-indigo-800",children:f.jsx("span",{className:"absolute left-[2px] top-0.5 h-5 w-5 bg-white rounded-full border border-slate-300 dark:border-slate-600 transform transition-transform duration-150 peer-checked:translate-x-5"})})]})]}),_se=()=>{const{settings:e,setSettings:t}=fo(),{addToast:n}=jn(),[r,i]=w.useState(null);if(!e)return f.jsx("div",{children:"Loading settings..."});const s=(u,d)=>{const h=JSON.parse(JSON.stringify(e));let p=h;for(let g=0;g<u.length-1;g++)p=p[u[g]];p[u[u.length-1]]=d,t(h),n("Visibility setting updated.","info")},l=({title:u,cardKey:d,children:h})=>{const p=r===d;return f.jsxs(Ne,{className:"p-0",children:[f.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>i(p?null:d),children:[f.jsx("h3",{className:"font-semibold text-lg",children:u}),f.jsx(Zr.div,{animate:{rotate:p?180:0},transition:{type:"spring",stiffness:300,damping:20},children:f.jsx("i",{className:"bi bi-chevron-down text-slate-500"})})]}),f.jsx(qm,{children:p&&f.jsx(Zr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:f.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-2",children:h})})})]})};return f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Control which sections are visible to non-privileged users. This is useful for building suspense during final rounds."}),f.jsx(Ne,{className:"p-4",children:f.jsx(qe,{id:"global-scores",label:"Show Competition Scores, Ranks & Points",checked:e.competitionScores,onChange:()=>s(["competitionScores"],!e.competitionScores)})}),f.jsxs(l,{title:"Page Visibility (Sidebar)",cardKey:"pages",children:[f.jsx(qe,{id:"page-teams",label:"Teams Page",checked:e.pages.teams,onChange:()=>s(["pages","teams"],!e.pages.teams)}),f.jsx(qe,{id:"page-events",label:"Events Page",checked:e.pages.events,onChange:()=>s(["pages","events"],!e.pages.events)}),f.jsx(qe,{id:"page-rules",label:"Rules Page",checked:e.pages.rules,onChange:()=>s(["pages","rules"],!e.pages.rules)}),f.jsx(qe,{id:"page-reports",label:"Reports Page",checked:e.pages.reports,onChange:()=>s(["pages","reports"],!e.pages.reports)})]}),f.jsxs(l,{title:"Dashboard Components",cardKey:"dashboard",children:[f.jsx(qe,{id:"dash-summary",label:"Summary Cards",checked:e.dashboard.summaryCards,onChange:()=>s(["dashboard","summaryCards"],!e.dashboard.summaryCards)}),f.jsx(qe,{id:"dash-ranking",label:"Leaderboard Ranking Chart",checked:e.dashboard.leaderboardRanking,onChange:()=>s(["dashboard","leaderboardRanking"],!e.dashboard.leaderboardRanking)}),f.jsx(qe,{id:"dash-top-teams",label:"Top Teams List",checked:e.dashboard.topTeams,onChange:()=>s(["dashboard","topTeams"],!e.dashboard.topTeams)}),f.jsx(qe,{id:"dash-progress",label:"Team Score Progression Chart",checked:e.dashboard.teamScoreProgression,onChange:()=>s(["dashboard","teamScoreProgression"],!e.dashboard.teamScoreProgression)})]}),f.jsxs(l,{title:"Leaderboard Tabs",cardKey:"leaderboard",children:[f.jsx(qe,{id:"lb-standings",label:"Team Standings Tab",checked:e.leaderboard.tabs.standings,onChange:()=>s(["leaderboard","tabs","standings"],!e.leaderboard.tabs.standings)}),f.jsx(qe,{id:"lb-records",label:"Competition Records Tab",checked:e.leaderboard.tabs.records,onChange:()=>s(["leaderboard","tabs","records"],!e.leaderboard.tabs.records)}),f.jsx(qe,{id:"lb-merits",label:"Merit & Demerit Log Tab",checked:e.leaderboard.tabs.meritsLog,onChange:()=>s(["leaderboard","tabs","meritsLog"],!e.leaderboard.tabs.meritsLog)})]}),f.jsxs(l,{title:"Teams Page Sections",cardKey:"teams",children:[f.jsx(qe,{id:"teams-facilitating",label:"Facilitating Team Section",checked:e.teams.facilitatingTeam,onChange:()=>s(["teams","facilitatingTeam"],!e.teams.facilitatingTeam)}),f.jsx(qe,{id:"teams-participating",label:"Participating Teams Section",checked:e.teams.participatingTeams,onChange:()=>s(["teams","participatingTeams"],!e.teams.participatingTeams)}),f.jsxs("div",{className:"ml-4 space-y-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Team Hub Tabs:"}),f.jsx(qe,{id:"teams-tab-overview",label:"Overview Tab",checked:e.teams.tabs.overview,onChange:()=>s(["teams","tabs","overview"],!e.teams.tabs.overview)}),f.jsx(qe,{id:"teams-tab-leadership",label:"Leadership Tab",checked:e.teams.tabs.leadership,onChange:()=>s(["teams","tabs","leadership"],!e.teams.tabs.leadership)}),f.jsx(qe,{id:"teams-tab-progress",label:"Progress Charts",checked:e.teams.tabs.progress,onChange:()=>s(["teams","tabs","progress"],!e.teams.tabs.progress)}),f.jsx(qe,{id:"teams-tab-merits",label:"Merits & Demerits",checked:e.teams.tabs.merits,onChange:()=>s(["teams","tabs","merits"],!e.teams.tabs.merits)}),f.jsx(qe,{id:"teams-tab-scores",label:"Event Scorecards",checked:e.teams.tabs.scores,onChange:()=>s(["teams","tabs","scores"],!e.teams.tabs.scores)})]})]}),f.jsx(l,{title:"Events Categories",cardKey:"events",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(qe,{id:"event-joker-flag",label:`${Se.JOKER_FLAG}`,checked:e.events.categories[Se.JOKER_FLAG],onChange:()=>s(["events","categories",Se.JOKER_FLAG],!e.events.categories[Se.JOKER_FLAG])}),f.jsx(qe,{id:"event-cit-quest",label:`${Se.CIT_QUEST}`,checked:e.events.categories[Se.CIT_QUEST],onChange:()=>s(["events","categories",Se.CIT_QUEST],!e.events.categories[Se.CIT_QUEST])}),f.jsx(qe,{id:"event-mindscape",label:`${Se.MINDSCAPE}`,checked:e.events.categories[Se.MINDSCAPE],onChange:()=>s(["events","categories",Se.MINDSCAPE],!e.events.categories[Se.MINDSCAPE])}),f.jsx(qe,{id:"event-hoop-spike",label:`${Se.HOOP_SPIKE}`,checked:e.events.categories[Se.HOOP_SPIKE],onChange:()=>s(["events","categories",Se.HOOP_SPIKE],!e.events.categories[Se.HOOP_SPIKE])}),f.jsx(qe,{id:"event-coding",label:`${Se.CODING_TECH_CHALLENGES}`,checked:e.events.categories[Se.CODING_TECH_CHALLENGES],onChange:()=>s(["events","categories",Se.CODING_TECH_CHALLENGES],!e.events.categories[Se.CODING_TECH_CHALLENGES])}),f.jsx(qe,{id:"event-pixel-play",label:`${Se.PIXEL_PLAY}`,checked:e.events.categories[Se.PIXEL_PLAY],onChange:()=>s(["events","categories",Se.PIXEL_PLAY],!e.events.categories[Se.PIXEL_PLAY])}),f.jsx(qe,{id:"event-table-masters",label:`${Se.TABLE_MASTERS}`,checked:e.events.categories[Se.TABLE_MASTERS],onChange:()=>s(["events","categories",Se.TABLE_MASTERS],!e.events.categories[Se.TABLE_MASTERS])})]})}),f.jsxs(l,{title:"Rules Sections",cardKey:"rules",children:[f.jsx(qe,{id:"rules-objectives",label:"Objectives Section",checked:e.rules.sections.objectives,onChange:()=>s(["rules","sections","objectives"],!e.rules.sections.objectives)}),f.jsx(qe,{id:"rules-house-rules",label:"House Rules Section",checked:e.rules.sections.house_rules,onChange:()=>s(["rules","sections","house_rules"],!e.rules.sections.house_rules)}),f.jsx(qe,{id:"rules-demerit",label:"Demerit System Section",checked:e.rules.sections.demerit_system,onChange:()=>s(["rules","sections","demerit_system"],!e.rules.sections.demerit_system)}),f.jsx(qe,{id:"rules-complaints",label:"Complaints Section",checked:e.rules.sections.complaints,onChange:()=>s(["rules","sections","complaints"],!e.rules.sections.complaints)}),f.jsx(qe,{id:"rules-scoring",label:"Scoring System Section",checked:e.rules.sections.scoring_system,onChange:()=>s(["rules","sections","scoring_system"],!e.rules.sections.scoring_system)}),f.jsx(qe,{id:"rules-categories",label:"Categories & Mechanics Section",checked:e.rules.sections.categories_mechanics,onChange:()=>s(["rules","sections","categories_mechanics"],!e.rules.sections.categories_mechanics)})]})]})},Ese=()=>{lo("admin");const[e,t]=w.useState("users");return f.jsxs(ui,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Admin Panel"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>t("users"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors ${e==="users"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400"}`,children:"User Management"}),f.jsx("button",{onClick:()=>t("visibility"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors ${e==="visibility"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400"}`,children:"Content Visibility"})]}),e==="users"&&f.jsx(Sse,{}),e==="visibility"&&f.jsx(_se,{})]})},I5=(e="sims",t="kv")=>new Promise((n,r)=>{const i=indexedDB.open(e,1);i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(t)||s.createObjectStore(t,{keyPath:"key"})},i.onsuccess=()=>n(i.result),i.onerror=()=>r(i.error)}),jse=async(e,t="sims",n="kv")=>{try{const r=await I5(t,n);return await new Promise((i,s)=>{const d=r.transaction(n,"readonly").objectStore(n).get(e);d.onsuccess=()=>i(d.result?d.result.value:null),d.onerror=()=>s(d.error)})}catch(r){return console.warn("IndexedDB getKV failed",r),null}},Pp=async(e,t,n="sims",r="kv")=>{try{const i=await I5(n,r);return await new Promise((s,l)=>{const h=i.transaction(r,"readwrite").objectStore(r).put({key:e,value:t});h.onsuccess=()=>s(!0),h.onerror=()=>l(h.error)})}catch(i){return console.warn("IndexedDB setKV failed",i),!1}},Ga="sims_sync_queue_v1",Kl=()=>{try{const e=localStorage.getItem(Ga);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to read sync queue",e),[]}},Mp=e=>{try{localStorage.setItem(Ga,JSON.stringify(e));try{Pp(Ga,e).catch(()=>{})}catch{}}catch(t){console.error("Failed to write sync queue",t)}},L5=(e,t)=>{const n=Kl(),r={id:`act_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,type:e,payload:t,attempts:0,createdAt:new Date().toISOString(),nextAttemptAt:null};n.push(r),Mp(n)},_m=()=>Kl(),Ib=()=>{const e=Kl(),t=e.length,n=e.map(i=>i.nextAttemptAt?new Date(i.nextAttemptAt).getTime():1/0).filter(Boolean),r=n.length?new Date(Math.min(...n)).toISOString():null;return{pending:t,nextAttemptAt:r}},B5=e=>{try{const t=Kl().filter(n=>n.id!==e);Mp(t);try{Pp(Ga,t).catch(()=>{})}catch{}return!0}catch(t){return console.warn("Failed to remove from queue",t),!1}},z5=e=>{try{const t=Kl(),n=t.findIndex(r=>r.id===e);if(n===-1)return!1;t[n].nextAttemptAt=new Date().toISOString(),t[n].attempts=0,Mp(t);try{Pp(Ga,t).catch(()=>{})}catch{}return!0}catch(t){return console.warn("Failed to schedule retry for",e,t),!1}},Cse=e=>new Promise(t=>setTimeout(t,e)),Nse=6,Tse=1e3,Ase=300,Us=async e=>{var u;const t=Kl();if(!t.length)return;const n=Date.now(),r=t.filter(d=>!d.nextAttemptAt||new Date(d.nextAttemptAt).getTime()<=n),i=t.filter(d=>d.nextAttemptAt&&new Date(d.nextAttemptAt).getTime()>n);if(!r.length)return;const s=[];for(const d of r){try{if(d.type==="visibility:update"){try{const h=await(await Ks(async()=>{const{getVisibilitySettings:v}=await Promise.resolve().then(()=>zU);return{getVisibilitySettings:v}},void 0)).getVisibilitySettings(),p=(h==null?void 0:h.version)||0,g=((u=d.payload)==null?void 0:u.version)||0;if(p>g){console.warn("Skipping visibility update due to newer server version");continue}}catch{}await Ch(d.payload)}else d.type==="rules:update"?await fw(d.payload):d.type==="point:add"?await dw(d.payload):d.type==="team:update"?await yl(d.payload):d.type==="event:update"?await uw(d.payload):d.type==="activity:log"&&await Hm(d.payload.userId,d.payload.action,d.payload.target)}catch(h){if(console.warn("Sync action failed, will retry later",d.type,h),d.attempts=(d.attempts||0)+1,d.attempts<Nse){const p=Tse*Math.pow(2,d.attempts-1),g=Math.floor(Math.random()*Ase);d.nextAttemptAt=new Date(Date.now()+p+g).toISOString(),s.push(d)}else console.warn("Dropping sync action after max attempts",d.id,d.type)}e!=null&&e.onProgress&&e.onProgress(t.length-1),await Cse(200)}const l=s.concat(i);Mp(l)};(async()=>{try{if(!await jse(Ga)){const t=localStorage.getItem(Ga);if(t)try{await Pp(Ga,JSON.parse(t))}catch(n){console.warn("Failed to migrate queue to IDB",n)}}}catch{}})();const Nl=Object.freeze(Object.defineProperty({__proto__:null,enqueue:L5,getQueue:_m,getQueueStats:Ib,processQueue:Us,removeFromQueue:B5,retryNow:z5},Symbol.toStringTag,{value:"Module"})),Ose=()=>{const[e,t]=Fi.useState([]),[n,r]=Fi.useState([]),i=async()=>{try{const s=await JD();t(s||[])}catch(s){console.warn("Failed to fetch audit logs",s)}r(_m().filter(s=>s.type==="activity:log"))};return Fi.useEffect(()=>{i();const s=setInterval(i,15e3);return()=>clearInterval(s)},[]),f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Audit Logs"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"font-semibold",children:"Server Logs"}),f.jsx("div",{className:"border rounded p-2 max-h-64 overflow-auto",children:e.length?e.map(s=>f.jsxs("div",{className:"border-b py-1 text-sm",children:[f.jsx("div",{className:"font-medium",children:s.action}),f.jsxs("div",{className:"text-xs text-gray-600",children:["By ",s.userId," at ",new Date(s.timestamp).toLocaleString()]})]},s.id)):f.jsx("div",{className:"text-xs text-gray-500",children:"No server logs"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:"Queued Local Audit Logs"}),f.jsx("div",{className:"border rounded p-2 max-h-64 overflow-auto",children:n.length?n.map(s=>f.jsxs("div",{className:"border-b py-1 text-sm",children:[f.jsx("div",{className:"font-medium",children:s.payload.action}),f.jsxs("div",{className:"text-xs text-gray-600",children:["By ",s.payload.userId||"unknown"," created ",new Date(s.createdAt).toLocaleString()]})]},s.id)):f.jsx("div",{className:"text-xs text-gray-500",children:"No queued audits"})})]})]})},kse=()=>{const e=w.useContext(fP);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e},Dse=({onClose:e})=>{const[t,n]=Fi.useState(()=>_m()),r=()=>n(_m());Fi.useEffect(()=>{const u=setInterval(r,2e3);return()=>clearInterval(u)},[]);const i=u=>{B5(u),r()},s=u=>{z5(u),Us(),r()},l=u=>{try{return u.payload?u.type==="team:update"?u.payload.name||`Team ${u.payload.id}`:u.type==="activity:log"?`${u.payload.action} by ${u.payload.userId||"unknown"}`:u.type==="visibility:update"?`Visibility changes: ${Object.keys(u.payload||{}).join(", ")}`:u.type==="point:add"?`Points ${u.payload.points} (${u.payload.type}) for ${u.payload.teamId}`:JSON.stringify(u.payload).slice(0,120):""}catch{return""}};return t.length?f.jsxs("div",{className:"bg-white border rounded shadow p-2 w-80 text-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("strong",{children:"Pending Actions"}),f.jsx("button",{className:"text-xs text-gray-600",onClick:()=>{e&&e()},children:"Close"})]}),f.jsx("div",{className:"max-h-64 overflow-auto",children:t.map(u=>f.jsx("div",{className:"border-b py-2",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:u.type}),f.jsx("div",{className:"text-xs text-gray-700",children:l(u)}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",new Date(u.createdAt).toLocaleString()]}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Attempts: ",u.attempts]}),u.nextAttemptAt&&f.jsxs("div",{className:"text-xs text-gray-600",children:["Next: ",new Date(u.nextAttemptAt).toLocaleTimeString()]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:()=>s(u.id),className:"px-2 py-1 bg-green-500 text-white rounded text-xs",children:"Retry"}),f.jsx("button",{onClick:()=>i(u.id),className:"px-2 py-1 bg-red-200 text-red-700 rounded text-xs",children:"Cancel"})]})]})},u.id))})]}):f.jsx("div",{className:"p-2 text-xs",children:"No queued actions."})},Pse=()=>{const[e,t]=w.useState(navigator.onLine),[n,r]=w.useState(null),[i,s]=w.useState(0),[l,u]=w.useState(null),[d,h]=w.useState(!1);return w.useEffect(()=>{const p=()=>t(!0),g=()=>t(!1);window.addEventListener("online",p),window.addEventListener("offline",g);let v=!0;(async()=>{try{const S=await Tx();v&&r(S)}catch{v&&r(!1)}try{const S=Ib();v&&(s(S.pending),u(S.nextAttemptAt))}catch(S){console.warn("Failed to read queue stats",S)}})();const x=setInterval(async()=>{try{const S=await Tx();v&&r(S)}catch{v&&r(!1)}try{const S=Ib();v&&(s(S.pending),u(S.nextAttemptAt))}catch(S){console.warn("Failed to read queue stats",S)}},15e3);return()=>{v=!1,window.removeEventListener("online",p),window.removeEventListener("offline",g),clearInterval(x)}},[]),f.jsxs("div",{className:"inline-flex items-center gap-2 text-xs",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${e?"bg-green-500":"bg-red-400"}`,"aria-hidden":!0}),f.jsx("span",{children:e?"Online":"Offline"}),f.jsx("span",{className:"mx-2",children:""}),f.jsx("span",{children:n===null?"Checking server...":n?"Backend reachable":"Backend unreachable"}),i>0&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"mx-2",children:""}),f.jsxs("button",{className:"underline text-sm",onClick:()=>h(p=>!p),children:[i," pending"]}),l&&f.jsx("span",{className:"mx-2",children:""}),l&&f.jsxs("span",{children:["next: ",new Date(l).toLocaleTimeString()]})]}),d&&f.jsx("div",{className:"absolute z-50 mt-8 right-2",children:f.jsx(Dse,{onClose:()=>h(!1)})})]})},Mse=({isOpen:e})=>f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-transform duration-300 ease-in-out",children:[f.jsx("path",{d:e?"M 4 4 L 20 20":"M 4 6 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"d 0.3s"}}),f.jsx("path",{d:"M 4 12 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"opacity 0.3s",opacity:e?0:1}}),f.jsx("path",{d:e?"M 4 20 L 20 4":"M 4 18 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"d 0.3s"}})]}),Rse=({onToggleSidebar:e,sidebarOpen:t})=>{const{user:n}=Ft(),{theme:r,toggleTheme:i}=xS(),{notifications:s,unreadCount:l,markAsRead:u,markAllAsRead:d}=kse(),h=Ur(),[p,g]=w.useState(""),[v,x]=w.useState({teams:[],events:[],users:[]}),[S,_]=w.useState(!1),[E,j]=w.useState(!1),[A,N]=w.useState(!1),{data:P,isSynced:T}=Vt(vi,[ye.TEAMS,ye.USERS]),{data:D,isSynced:I}=Vt(oa,[ye.EVENTS]),{data:B,isSynced:$}=Vt(so,[ye.USERS]),Z=T||I||$,U=w.useRef(null),J=w.useRef(null),oe=w.useRef(null);w.useEffect(()=>{const F=se=>{const R=se.target;U.current&&!U.current.contains(R)&&J.current&&!J.current.contains(R)&&_(!1),oe.current&&!oe.current.contains(R)&&j(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),w.useEffect(()=>{if(p.trim()===""||!P||!D||!B){x({teams:[],events:[],users:[]});return}const F=p.toLowerCase(),se=P.filter(ie=>ie.name.toLowerCase().includes(F)),R=D.filter(ie=>ie.name.toLowerCase().includes(F)),G=B.filter(ie=>ie.name&&ie.name.toLowerCase().includes(F)||ie.firstName&&ie.firstName.toLowerCase().includes(F)||ie.lastName&&ie.lastName.toLowerCase().includes(F)||ie.studentId&&ie.studentId.toLowerCase().includes(F));x({teams:se,events:R,users:G})},[p,P,D,B]);const de=(F,se)=>{g(""),_(!1),F==="team"?h(`/teams?teamId=${se}`):F==="event"?h(`/events?eventId=${se}`):F==="user"&&h(`/profile/${se}`)},ae=(F,se)=>{u(F),j(!1),h(se)},M=()=>{j(!E),E&&N(!1)},k=S&&p&&(v.teams.length>0||v.events.length>0||v.users.length>0)&&f.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden z-50",children:[v.teams.length>0&&f.jsxs("div",{className:"p-2",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"TEAMS"}),f.jsx("ul",{children:v.teams.slice(0,3).map(F=>f.jsxs("li",{onClick:()=>de("team",F.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200 flex justify-between",children:[f.jsx("span",{children:F.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:["Rank #",F.rank]})]},F.id))})]}),v.events.length>0&&f.jsxs("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"EVENTS"}),f.jsx("ul",{children:v.events.slice(0,3).map(F=>f.jsx("li",{onClick:()=>de("event",F.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200",children:f.jsx("span",{children:F.name})},F.id))})]}),v.users.length>0&&f.jsxs("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"USERS"}),f.jsx("ul",{children:v.users.slice(0,3).map(F=>f.jsxs("li",{onClick:()=>de("user",F.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:F.avatar,alt:F.name,className:"h-6 w-6 rounded-full object-cover"}),f.jsx("span",{children:F.name})]}),f.jsx("span",{className:"text-xs text-slate-500",children:F.studentId})]},F.id))})]})]}),Y=A?s:s.slice(0,20);return f.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm shadow-soft dark:shadow-soft-dark z-30 p-4 relative flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:e,className:"text-slate-600 dark:text-slate-300 md:hidden",children:f.jsx(Mse,{isOpen:t})}),f.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[f.jsx("div",{className:"logo bg-indigo-600 text-white h-8 w-8 rounded-lg flex items-center justify-center text-md font-bold",children:"S"}),f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:"SIMS"})]}),f.jsxs("div",{className:"hidden md:block",children:[f.jsxs("h5",{className:"font-bold text-lg text-slate-800 dark:text-slate-50 mb-0",children:["Welcome back, ",(n==null?void 0:n.firstName)||(n==null?void 0:n.name),"! "]}),f.jsx("small",{className:"text-slate-500 dark:text-slate-400",children:"Here's a look at the current standings."})]})]}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:`hidden lg:flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm transition-all duration-300 ${Z?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 shadow-md shadow-green-500/20":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300"}`,children:[f.jsx("span",{className:`h-2.5 w-2.5 rounded-full transition-colors ${Z?"bg-green-500 animate-pulse":"bg-slate-400"}`}),f.jsx("span",{className:"font-semibold",children:Z?"Live Sync":"Real-time"})]}),f.jsx(Pse,{})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative hidden md:block w-64",ref:U,children:[f.jsx("i",{className:"bi bi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx("input",{className:"pl-9 pr-4 py-2 w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-2xl text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 focus:outline-none transition",placeholder:"Search teams, events, users...",value:p,onChange:F=>{g(F.target.value),_(!0)},onFocus:()=>_(!0)}),k]}),f.jsx(Zr.button,{whileHover:{scale:1.15,rotate:15},whileTap:{scale:.9},onClick:i,className:"p-2 h-10 w-10 flex items-center justify-center rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700",children:r==="dark"?f.jsx("i",{className:"bi bi-sun-fill text-lg"}):f.jsx("i",{className:"bi bi-moon-fill text-lg"})}),f.jsxs("div",{className:"relative",ref:oe,children:[f.jsxs(Zr.button,{whileHover:{scale:1.15},whileTap:{scale:.9},onClick:M,className:"p-2 h-10 w-10 flex items-center justify-center rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 relative transition-colors",children:[f.jsx("i",{className:"bi bi-bell-fill text-lg"}),l>0&&f.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold text-white flex items-center justify-center border-2 border-white dark:border-slate-900",children:l>9?"9+":l})]}),E&&f.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50 flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h6",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Notifications"}),l>0&&f.jsx("button",{onClick:d,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:"Mark all read"})]}),f.jsx("div",{className:"overflow-y-auto",children:s.length===0?f.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400 text-sm",children:"No notifications yet."}):f.jsx("ul",{children:Y.map(F=>f.jsx("li",{onClick:()=>ae(F.id,F.link),className:`p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors border-b border-slate-100 dark:border-slate-700/50 last:border-0 ${F.read?"":"bg-indigo-50/50 dark:bg-indigo-900/10"}`,children:f.jsxs("div",{className:"flex gap-3 items-start",children:[f.jsx("div",{className:`mt-1 h-2 w-2 rounded-full flex-shrink-0 ${F.read?"bg-transparent":"bg-indigo-600"}`}),f.jsxs("div",{children:[f.jsx("h6",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100 leading-tight mb-1",children:F.title}),f.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:F.message}),f.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-1 block",children:new Date(F.timestamp).toLocaleString()})]})]})},F.id))})}),s.length>20&&f.jsx("div",{className:"p-2 text-center border-t border-slate-100 dark:border-slate-700 flex-shrink-0",children:f.jsx("button",{onClick:()=>N(F=>!F),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:A?"Show Less":`Show ${s.length-20} more`})})]})]})]})]}),f.jsxs("div",{className:"relative mt-4 md:hidden",ref:J,children:[f.jsx("i",{className:"bi bi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx("input",{className:"pl-9 pr-4 py-2 w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-2xl text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 focus:outline-none transition",placeholder:"Search teams, events, users...",value:p,onChange:F=>{g(F.target.value),_(!0)},onFocus:()=>_(!0)}),k]})]})},Rp=()=>{const{user:e}=Ft();if(!e)return{isLoggedIn:!1,isAdmin:!1,isOfficer:!1,isTeamLead:!1,isFacilitator:!1,canManageUsers:!1,canManageEvents:!1,canEditScores:!1,canManageContentVisibility:!1,canViewAdminPanel:!1,canManageTeamInfo:p=>!1,canManageRosters:p=>!1,canViewDemeritDetails:!1};const t=e.role===ke.ADMIN,n=e.role===ke.OFFICER,r=e.role===ke.TEAM_LEAD,i=e.teamId===On,s=t||n||i,l=t||i,u=p=>p?!!(t||i||(n||r)&&e.teamId===p):!1;return{isLoggedIn:!0,isAdmin:t,isOfficer:n,isTeamLead:r,isFacilitator:i,canManageUsers:t,canManageEvents:s,canEditScores:l,canManageContentVisibility:t,canViewAdminPanel:t,canManageTeamInfo:u,canManageRosters:u,canViewDemeritDetails:t||n}},Ise=()=>f.jsx("svg",{width:"0",height:"0",style:{position:"absolute"},children:f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"icon-grad-blue",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),f.jsx("stop",{offset:"100%",stopColor:"#2563EB"})]}),f.jsxs("linearGradient",{id:"icon-grad-white",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),f.jsx("stop",{offset:"100%",stopColor:"#E5E7EB"})]}),f.jsx("filter",{id:"soft-shadow",x:"-40%",y:"-40%",width:"180%",height:"180%",children:f.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"1.5",floodColor:"#000000",floodOpacity:"0.2"})})]})}),Lse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M21.69,11.55C21.93,11.16 22,10.7 22,10.23C22,9.13 21.1,8.23 20,8.23C19.2,8.23 18.48,8.75 18.17,9.45L12.5,4.5L12.42,4.44C12.68,3.93 13,3.3 13,2.61C13,1.33 11.96,0.3 10.68,0.3C9.3,0.3 8.16,1.44 8.16,2.82C8.16,3.69 8.65,4.44 9.35,4.86L5.83,7.58C5.46,7.13 4.91,6.83 4.28,6.83C3.01,6.83 2,7.84 2,9.11C2,10.38 3.01,11.39 4.28,11.39C5.39,11.39 6.31,10.5 6.31,9.4C6.31,9.13 6.26,8.87 6.17,8.63L9.65,5.95C10.03,6.39 10.59,6.68 11.22,6.68C11.97,6.68 12.64,6.3 13.06,5.73L18.73,10.68L18.83,10.77C18.5,11.34 18.27,12.03 18.27,12.79C18.27,14.28 19.5,15.5 21,15.5C22.5,15.5 23.73,14.28 23.73,12.79C23.73,12.08 23.49,11.45 23.14,10.94L21.69,11.55Z",transform:"translate(-1, 2.5) scale(0.9)"})}),Bse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M3.5,21.5V9.5C3.5,9.22 3.72,9 4,9H8C8.28,9 8.5,9.22 8.5,9.5V21.5C8.5,21.78 8.28,22 8,22H4C3.72,22 3.5,21.78 3.5,21.5M10.5,21.5V3.5C10.5,3.22 10.72,3 11,3H15C15.28,3 15.5,3.22 15.5,3.5V21.5C15.5,21.78 15.28,22 15,22H11C10.72,22 10.5,21.78 10.5,21.5M17.5,21.5V14.5C17.5,14.22 17.72,14 18,14H22C22.28,14 22.5,14.22 22.5,14.5V21.5C22.5,21.78 22.28,22 22,22H18C17.72,22 17.5,21.78 17.5,21.5Z",transform:"translate(-1.5, -0.5) scale(0.95)"})}),zse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M19.2,22C17.88,20.9 16.14,20 12,20C7.86,20 6.12,20.9 4.8,22H19.2M16,5A3,3 0 0,1 19,8A3,3 0 0,1 16,11C15.82,11 15.65,10.97 15.5,10.93C16.17,9.9 16.5,8.69 16.5,7.5C16.5,7.16 16.46,6.83 16.39,6.5C16.14,5.65 15.5,5 15.5,5C15.65,5.03 15.82,5 16,5M8,5C7.5,5 6.86,5.65 6.61,6.5C6.54,6.83 6.5,7.16 6.5,7.5C6.5,8.69 6.83,9.9 7.5,10.93C7.35,10.97 7.18,11 7,11A3,3 0 0,1 4,8A3,3 0 0,1 7,5C7.18,5 7.35,5.03 7.5,5C7.5,5 8,5 8,5Z"})}),Use=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"})}),Vse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M14.5,12.5L16.5,14.5L14.5,16.5L12,14L9.5,16.5L7.5,14.5L9.5,12.5L7.5,10.5L9.5,8.5L12,11L14.5,8.5L16.5,10.5L14.5,12.5M18,3H6A2,2 0 0,0 4,5V19A2,2 0 0,0 6,21H18A2,2 0 0,0 20,19V5A2,2 0 0,0 18,3Z"})}),Fse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z"})}),Hse=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"})}),$se=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7A2.5,2.5 0 0,1 14.5,9.5A2.5,2.5 0 0,1 12,12A2.5,2.5 0 0,1 9.5,9.5A2.5,2.5 0 0,1 12,7M12,13C13.66,13 15,14.34 15,16V17H9V16C9,14.34 10.34,13 12,13Z"})}),qse=({to:e,label:t,icon:n,onClick:r,isCollapsed:i})=>{const s="bg-indigo-600 text-white shadow-lg",l="text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700";return f.jsxs("li",{className:"relative group",children:[f.jsx(BD,{to:e,onClick:r,className:({isActive:u})=>`${u?s:l} flex items-center ${i?"justify-center":"gap-4"} px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200`,children:({isActive:u})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:f.jsx(n,{isActive:u})}),f.jsx("span",{className:`whitespace-nowrap transition-all duration-200 ${i?"w-0 opacity-0 overflow-hidden":"opacity-100"}`,children:t})]})}),i&&f.jsx("div",{className:"absolute left-full ml-4 px-2 py-1 bg-slate-900 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:t})]})},Gse=({isOpen:e,setIsOpen:t,isCollapsed:n,setIsCollapsed:r})=>{const{user:i,logout:s}=Ft(),{settings:l,isPrivileged:u}=fo(),{canViewAdminPanel:d}=Rp(),[h,p]=w.useState(!1),g=Ur(),v=w.useRef(null),x=[{to:"/dashboard",icon:Lse,label:"Dashboard",visible:u||l.pages.dashboard},{to:"/leaderboard",icon:Bse,label:"Leaderboard",visible:u||l.pages.leaderboard},{to:"/teams",icon:zse,label:"Teams",visible:u||l.pages.teams},{to:"/events",icon:Use,label:"Events",visible:u||l.pages.events},{to:"/rules",icon:Vse,label:"Rules & Regs",visible:u||l.pages.rules},{to:"/reports",icon:Fse,label:"Reports",visible:u||l.pages.reports},{to:"/profile",icon:Hse,label:"Profile",visible:u||l.pages.profile},{to:"/admin",icon:$se,label:"Admin Panel",visible:d}];w.useEffect(()=>{const E=j=>{v.current&&!v.current.contains(j.target)&&p(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const S=()=>{window.innerWidth<768&&t(!1)},_=()=>{s(),g("/login")};return l?f.jsxs(f.Fragment,{children:[f.jsx(Ise,{}),f.jsx("div",{className:`fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>t(!1)}),f.jsx("nav",{className:`fixed top-0 left-0 h-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 md:flex-shrink-0 ${n?"md:w-20":"md:w-64"}`,children:f.jsxs("div",{className:`flex flex-col h-full transition-all duration-300 ${n?"p-2":"p-4"}`,children:[f.jsxs("div",{className:`flex items-center gap-3 mb-8 ${n?"justify-center":""}`,children:[f.jsx("div",{className:"logo bg-indigo-600 text-white h-10 w-10 rounded-xl flex items-center justify-center text-xl font-bold flex-shrink-0",children:"S"}),f.jsxs("div",{className:`overflow-hidden transition-all duration-200 ${n?"w-0 opacity-0":"w-auto opacity-100"}`,children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 whitespace-nowrap",children:"SIMS"}),f.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-xs whitespace-nowrap",children:"Management System"})]})]}),f.jsx("ul",{className:"flex flex-col gap-2 flex-grow",children:x.filter(E=>E.visible).map(E=>f.jsx(qse,{...E,onClick:S,isCollapsed:n},E.to))}),f.jsxs("div",{className:"flex-shrink-0 space-y-2",children:[f.jsx("button",{onClick:()=>r(!n),className:"w-full hidden md:flex items-center justify-center h-10 rounded-xl text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("i",{className:`bi ${n?"bi-chevron-double-right":"bi-chevron-double-left"}`})}),f.jsxs("div",{className:"relative",ref:v,children:[h&&f.jsx("div",{className:"absolute bottom-full left-0 w-full mb-2 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 py-1 z-50 overflow-hidden",children:f.jsxs("button",{onClick:_,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center gap-3 font-semibold",children:[f.jsx("i",{className:"bi bi-box-arrow-right text-lg"}),f.jsx("span",{children:"Log Out"})]})}),f.jsxs("div",{className:`flex items-center pt-2 border-t border-slate-200 dark:border-slate-800 cursor-pointer p-2 rounded-lg transition-colors hover:bg-slate-100 dark:hover:bg-slate-800/50 -mx-2 mt-2 ${n?"justify-center":"gap-3"}`,onClick:()=>p(!h),children:[f.jsx("img",{src:i==null?void 0:i.avatar,className:"rounded-full object-cover w-10 h-10 flex-shrink-0",alt:i==null?void 0:i.name}),f.jsxs("div",{className:`flex-1 min-w-0 overflow-hidden transition-all duration-200 ${n?"w-0 opacity-0":"w-auto opacity-100"}`,children:[f.jsx("div",{className:"font-semibold text-sm text-slate-800 dark:text-slate-100 truncate whitespace-nowrap",children:i==null?void 0:i.name}),f.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-xs truncate whitespace-nowrap",children:i==null?void 0:i.email})]}),f.jsx("div",{className:`transition-all duration-200 ${n?"w-0 opacity-0":"opacity-100"}`,children:f.jsx("i",{className:"bi bi-three-dots-vertical text-slate-400"})})]})]})]})]})})]}):null},Yse=()=>{const{user:e,switchUserRole:t}=Ft();return Ur(),null},Kse=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(!1);return f.jsxs("div",{className:"flex h-screen bg-transparent text-slate-800 dark:text-slate-100",children:[f.jsx(Gse,{isOpen:e,setIsOpen:t,isCollapsed:n,setIsCollapsed:r}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsx(Rse,{onToggleSidebar:()=>t(!e),sidebarOpen:e}),f.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-transparent p-4 sm:p-6 lg:p-8",children:f.jsx(Kz,{})})]}),f.jsx(Yse,{})]})},Wse=()=>{lo("rules");const{user:e}=Ft(),{addToast:t}=jn(),n=(e==null?void 0:e.role)===ke.ADMIN,{data:r,loading:i}=Vt(cP,[ye.RULES]),s=async p=>{try{await fw(p),t("Rules updated successfully!","success")}catch{try{L5("rules:update",p),Us(),t("Rules update queued  will sync when online.","info")}catch{t("Failed to update rules","error")}}},l=async p=>{if(!r)return;const g={...r,sections:r.sections.filter(v=>v.id!==p)};await s(g),t("Section deleted","success")},u=(p,g,v)=>{if(!r)return;const x=g==="heading"?{type:"heading",level:3,content:v}:g==="paragraph"?{type:"paragraph",content:v}:{type:"list",items:v.split(`
`).filter(_=>_.trim())},S={...r,sections:r.sections.map(_=>_.id===p?{..._,items:[..._.items,x]}:_)};s(S)},d=(p,g)=>{if(!r)return;const v={...r,sections:r.sections.map(x=>x.id===p?{...x,items:x.items.filter((S,_)=>_!==g)}:x)};s(v)},h=(p,g,v)=>{var x;switch(p.type){case"heading":return f.jsxs("div",{className:"relative group",children:[f.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:p.content}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);case"paragraph":return f.jsxs("div",{className:"relative group mb-3",children:[f.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:p.content}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);case"list":return f.jsxs("div",{className:"relative group mb-3",children:[f.jsx("ul",{className:"list-disc list-inside space-y-2 text-slate-600 dark:text-slate-300",children:(x=p.items)==null?void 0:x.map((S,_)=>f.jsx("li",{children:S},_))}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);default:return null}};return i?f.jsx(rt,{className:"h-96 w-full"}):r?f.jsxs("div",{className:"space-y-8 pb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100",children:r.mainTitle}),f.jsx("p",{className:"text-lg text-slate-500 dark:text-slate-400 mt-1",children:r.subTitle}),f.jsx("p",{className:"text-sm text-indigo-500 dark:text-indigo-400 mt-2",children:r.hashTags}),n&&f.jsx("div",{className:"mt-4",children:f.jsxs(me,{variant:"secondary",onClick:()=>{const p=prompt("Enter section title:");if(p){const g={id:Date.now().toString(),title:p,items:[]};s({...r,sections:[...r.sections,g]})}},children:[f.jsx("i",{className:"bi bi-plus mr-1"})," Add Section"]})})]}),f.jsx(qm,{children:r.sections.map(p=>f.jsx(Zr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f.jsxs(Ne,{className:"p-6 relative group",children:[n&&f.jsx("button",{onClick:()=>l(p.id),className:"absolute top-4 right-4 p-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded transition-colors",title:"Delete section",children:f.jsx("i",{className:"bi bi-trash"})}),f.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-600 dark:text-indigo-400",children:p.title}),f.jsx("div",{className:"space-y-3",children:p.items.map((g,v)=>h(g,p.id,v))}),n&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 space-y-3",children:[f.jsx("h4",{className:"font-semibold text-sm",children:"Add Content:"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter heading text:");g&&u(p.id,"heading",g)},children:[f.jsx("i",{className:"bi bi-type-h3 mr-1"})," Add Heading"]}),f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter paragraph text:");g&&u(p.id,"paragraph",g)},children:[f.jsx("i",{className:"bi bi-card-text mr-1"})," Add Paragraph"]}),f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter list items (one per line):");g&&u(p.id,"list",g)},children:[f.jsx("i",{className:"bi bi-list-ul mr-1"})," Add List"]})]})]})]})},p.id))})]}):f.jsx("div",{className:"text-center text-slate-500",children:"No rules data available"})},Xse=()=>{var P;const[e,t]=w.useState(1),n=Ur(),r=zr(),{updateUser:i}=Ft(),{addToast:s}=jn(),l=(P=r.state)==null?void 0:P.partialUser,[u,d]=w.useState({...l,studentId:"",yearLevel:"",section:"",contactInfo:"",teamId:"",bio:"",interestedEvents:[]}),[h,p]=w.useState(!1),[g,v]=w.useState([]),[x,S]=w.useState([]);w.useEffect(()=>{if(!l){n("/login",{replace:!0});return}(async()=>{p(!0);try{const[D,I]=await Promise.all([vi(),oa()]);v(D),S(I)}catch{s("Failed to load necessary data","error")}finally{p(!1)}})()},[l,n,s]);const _=T=>{d({...u,[T.target.name]:T.target.value})},E=T=>{d(D=>{const I=D.interestedEvents||[],B=I.includes(T);return{...D,interestedEvents:B?I.filter($=>$!==T):[...I,T]}})},j=T=>{if(T.preventDefault(),!u.studentId||!u.yearLevel||!u.section){s("Please fill out all required fields.","error");return}t(2)},A=async T=>{T.preventDefault(),p(!0);try{await i(u),s("Welcome! Your profile is complete.","success"),n("/dashboard",{replace:!0})}catch(D){s(D.message||"Failed to complete profile.","error")}finally{p(!1)}},N="w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none";return f.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-2xl my-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"Complete Your Profile"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:["Welcome, ",l==null?void 0:l.firstName,"! Just a few more details to get you started."]})]}),f.jsxs(Ne,{className:"p-8",children:[e===1&&f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsx("h2",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Step 1: Academic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(xt,{label:"Student ID *",id:"studentId",name:"studentId",value:u.studentId,onChange:_,required:!0}),f.jsx(xt,{label:"Contact Info (Optional)",id:"contactInfo",name:"contactInfo",value:u.contactInfo,onChange:_})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Year Level *"}),f.jsxs("select",{name:"yearLevel",value:u.yearLevel,onChange:_,className:N,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Section *"}),f.jsxs("select",{name:"section",value:u.section,onChange:_,className:N,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"International",children:"International"})]})]})]}),f.jsx(me,{type:"submit",className:"w-full py-2.5 mt-4",disabled:h,children:"Next Step"})]}),e===2&&f.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f.jsx("h2",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Step 2: Team & Event Interests"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Team (Optional)"}),f.jsxs("select",{name:"teamId",value:u.teamId,onChange:_,className:N,children:[f.jsx("option",{value:"",children:"None"}),g.map(T=>f.jsx("option",{value:T.id,children:T.name},T.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bio (Optional)"}),f.jsx("textarea",{name:"bio",value:u.bio,onChange:_,className:N,rows:2,placeholder:"Short description of yourself"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interested Events (Optional)"}),f.jsx("div",{className:"max-h-40 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg p-3 grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(T=>{var D;return f.jsxs("label",{className:"flex items-center space-x-2 p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors cursor-pointer text-sm",children:[f.jsx("input",{type:"checkbox",checked:(D=u.interestedEvents)==null?void 0:D.includes(T.name),onChange:()=>E(T.name),className:"rounded text-indigo-500 focus:ring-indigo-500"}),f.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:T.name})]},T.id)})})]}),f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx(me,{variant:"secondary",onClick:()=>t(1),className:"w-full py-2.5",children:"Back"}),f.jsx(me,{type:"submit",className:"w-full py-2.5",disabled:h,children:h?"Saving...":"Finish & Go to Dashboard"})]})]})]})]})})},Qse=e=>{if(!e)return 1/0;const t=e.toLowerCase();if(t.includes("all")||t.includes("open"))return 1/0;const n=e.match(/(\d+)\s*\s*(\d+)/)||e.match(/(\d+)\s*-\s*(\d+)/);if(n&&n[2])return parseInt(n[2],10);const r=e.match(/(\d+)/);return r&&r[1]?parseInt(r[1],10):1/0},Zse=({team:e,allEvents:t})=>{const{canManageRosters:n}=Rp(),r=n(e.id),[i,s]=w.useState(null),[l,u]=w.useState({}),{addToast:d}=jn(),h=w.useMemo(()=>{const S={};if(!e.rosters)return S;for(const _ of e.rosters)for(const E of _.participants)S[E]=(S[E]||0)+1;return S},[e.rosters]),p=w.useMemo(()=>t.reduce((S,_)=>((S[_.category]=S[_.category]||[]).push(_),S),{}),[t]),g=Object.values(Se),v=async(S,_)=>{var P,T;const E=(P=l[S])==null?void 0:P.trim();if(!E){d("Please enter a participant name.","error");return}const j=(T=e.rosters)==null?void 0:T.find(D=>D.eventId===S),A=(j==null?void 0:j.participants)||[];if(A.length>=_){d(`This event has a maximum of ${_} participants.`,"error");return}const N=[...A,E];try{await Nx(e.id,S,N),d("Participant added successfully!","success"),u(D=>({...D,[S]:""}))}catch(D){d(D.message||"Failed to add participant.","error")}},x=async(S,_)=>{var A;const E=(A=e.rosters)==null?void 0:A.find(N=>N.eventId===S);if(!E)return;const j=E.participants.filter((N,P)=>P!==_);try{await Nx(e.id,S,j),d("Participant removed.","success")}catch(N){d(N.message||"Failed to remove participant.","error")}};return f.jsx("div",{className:"space-y-6",children:g.map(S=>p[S]&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400 mb-2 pb-1 border-b border-slate-200 dark:border-slate-700",children:S}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p[S].map(_=>{var P;const E=(P=e.rosters)==null?void 0:P.find(T=>T.eventId===_.id),j=(E==null?void 0:E.participants)||[],A=Qse(_.participantsInfo),N=i===_.id;return f.jsxs(Ne,{className:"p-4",disableLayoutAnimation:!0,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3 cursor-pointer",onClick:()=>s(N?null:_.id),children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:_.name}),f.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mt-1 font-semibold",children:[f.jsx("i",{className:"bi bi-people-fill"}),f.jsx("span",{children:_.participantsInfo}),f.jsxs("span",{className:"font-bold",children:["(Reg: ",j.length," / ",isFinite(A)?A:"",")"]})]})]}),f.jsx("i",{className:`bi bi-chevron-${N?"up":"down"} text-slate-400 text-lg`})]}),N&&f.jsxs("div",{className:"pt-3 border-t border-slate-200 dark:border-slate-700 space-y-2",children:[j.length>0?f.jsx("ul",{className:"space-y-2",children:j.map((T,D)=>{const I=h[T]||1;return f.jsxs("li",{className:"flex items-center justify-between bg-slate-100 dark:bg-slate-700/50 p-2 rounded-lg text-sm",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:T}),I>1&&f.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-yellow-200 text-yellow-800 text-xs font-semibold rounded-full",title:`${T} is in ${I} events.`,children:[I," events"]})]}),r&&f.jsx("button",{onClick:()=>x(_.id,D),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-xs font-bold",children:"REMOVE"})]},D)})}):f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"No participants registered for this event."}),r&&j.length<A&&f.jsxs("div",{className:"flex gap-2 pt-2 mt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("input",{type:"text",placeholder:"Enter participant name...",className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20",value:l[_.id]||"",onChange:T=>u(D=>({...D,[_.id]:T.target.value}))}),f.jsx(me,{onClick:()=>v(_.id,A),disabled:!l[_.id],children:"Add"})]})]})]},_.id)})})]},S))})},xu=({label:e,isActive:t,onClick:n})=>f.jsx("button",{onClick:n,className:`px-4 py-2 text-sm font-semibold rounded-full transition-colors whitespace-nowrap ${t?"bg-indigo-600 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:e}),Ak=({log:e,canViewDetails:t,type:n})=>f.jsx("li",{className:`p-3 rounded-lg ${n==="merit"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:e.reason}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400",children:["By ",e.updatedBy," on ",new Date(e.timestamp).toLocaleDateString(),n==="demerit"&&e.responsiblePerson&&(t?f.jsxs("span",{className:"text-red-500",children:[" (Player: ",e.responsiblePerson,")"]}):f.jsx("span",{className:"text-red-500",children:" (Player involved)"}))]})]}),f.jsx("span",{className:`font-bold text-lg ${n==="merit"?"text-green-500":"text-red-500"}`,children:e.points>0?`+${e.points}`:e.points})]})}),iu=(e,t)=>{var n;return e?((n=t.find(r=>r.id===e))==null?void 0:n.name)||"Unknown User":"Not Assigned"},Jse=({team:e,allUsers:t,onClose:n})=>{var U,J,oe,de;const{isAdmin:r}=Rp(),{addToast:i}=jn(),{user:s}=Ft(),[l,u]=w.useState(e),[d,h]=w.useState(null),[p,g]=w.useState(!1),[v,x]=w.useState({}),[S,_]=w.useState("governors");w.useEffect(()=>{u(e)},[e]);const E=()=>{x({userId:"",position:"",roleDescription:"",permissions:{canAdd:!1,canDelete:!1,canPassScores:!0,canUpdate:!0}}),g(!0),h(null)},j=ae=>{x(JSON.parse(JSON.stringify(ae))),h(ae.userId),g(!1)},A=()=>{h(null),g(!1),x({})},N=ae=>{const{name:M,value:k,type:Y}=ae.target;if(Y==="checkbox"){const{checked:F}=ae.target,se=M;x(R=>({...R,permissions:{...R==null?void 0:R.permissions,[se]:F}}))}else x(F=>({...F,[M]:k}))},P=async()=>{if(!v||!v.userId||!v.position){i("User and Position are required.","error");return}v.position==="Governor"&&(v.permissions={canAdd:!0,canDelete:!0,canUpdate:!0,canPassScores:!0});let ae;p?ae=[...l.facilitators||[],v]:ae=(l.facilitators||[]).map(M=>M.userId===v.userId?v:M);try{await yl({...l,facilitators:ae}),A(),i(`Facilitator ${p?"added":"updated"}.`,"success")}catch{i("Failed to update facilitators; changes will be synced when online.","info");try{const{enqueue:k,processQueue:Y}=await Ks(async()=>{const{enqueue:F,processQueue:se}=await Promise.resolve().then(()=>Nl);return{enqueue:F,processQueue:se}},void 0);k("team:update",{...l,facilitators:ae}),k("activity:log",{userId:s&&s.id||"unknown",action:"updated_facilitators",target:{type:"team",name:l.name,link:`/teams?teamId=${l.id}`}}),Y()}catch(k){console.warn("Failed to enqueue team update",k)}}},T=async ae=>{var k;if(!window.confirm("Are you sure you want to remove this member?"))return;const M=(k=l.facilitators)==null?void 0:k.filter(Y=>Y.userId!==ae);try{await yl({...l,facilitators:M}),i("Facilitator removed.","success")}catch{i("Failed to remove facilitator; change will be synced when online.","info");try{const{enqueue:F,processQueue:se}=await Ks(async()=>{const{enqueue:R,processQueue:G}=await Promise.resolve().then(()=>Nl);return{enqueue:R,processQueue:G}},void 0);F("team:update",{...l,facilitators:M}),F("activity:log",{userId:s&&s.id||"unknown",action:"removed_facilitator",target:{type:"team",name:l.name,link:`/teams?teamId=${l.id}`}}),se()}catch(F){console.warn("Failed to enqueue team update",F)}}},D=(ae,M)=>f.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mt-2",children:Object.keys(ae).map(k=>f.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[f.jsx("input",{type:"checkbox",name:k,checked:ae[k],onChange:N,disabled:M,className:"rounded text-indigo-500 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-300 capitalize",children:k.replace("can","")})]},k))}),I=Yn(e.id),B=((U=l.facilitators)==null?void 0:U.filter(ae=>ae.position==="Governor"))||[],$=((J=l.facilitators)==null?void 0:J.filter(ae=>ae.position!=="Governor"))||[],Z=ae=>{const M=t.find(k=>k.id===ae.userId);return f.jsx(Ne,{className:"p-4",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:(M==null?void 0:M.name)||"Unknown User"}),f.jsxs("p",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 flex items-center gap-1",children:[ae.position==="Governor"&&f.jsx("i",{className:"bi bi-star-fill text-yellow-500"}),ae.position]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:ae.roleDescription})]}),r&&f.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[f.jsx(me,{variant:"secondary",className:"!p-2 h-8 w-8 text-xs",onClick:()=>j(ae),children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-2 h-8 w-8 text-xs",onClick:()=>T(ae.userId),disabled:ae.position==="Governor",children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})},ae.userId)};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 overflow-hidden",children:[f.jsx("span",{children:"Facilitator Hub:"}),f.jsx("i",{className:`${I.icon} text-2xl`,style:{color:I.gradient.from}}),f.jsx("span",{style:{color:I.gradient.from},className:"truncate",children:e.name})]})}),f.jsx("div",{className:"flex-shrink-0 overflow-x-auto border-b border-slate-200 dark:border-slate-700 px-4 pt-2",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(xu,{label:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("i",{className:"bi bi-star-fill"}),"Governors ",B.length>0&&f.jsx("span",{className:"ml-1 bg-yellow-500 text-white text-xs px-2 py-0.5 rounded-full",children:B.length})]}),isActive:S==="governors",onClick:()=>_("governors")}),f.jsx(xu,{label:f.jsxs("span",{className:"flex items-center gap-1",children:["Facilitators ",$.length>0&&f.jsx("span",{className:"ml-1 bg-indigo-500 text-white text-xs px-2 py-0.5 rounded-full",children:$.length})]}),isActive:S==="facilitators",onClick:()=>_("facilitators")})]})}),f.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:[S==="governors"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-star-fill text-yellow-500"}),"Governors Management"]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Governors have full permissions and cannot be deleted"})]}),r&&!p&&!d&&B.length<5&&f.jsxs(me,{onClick:E,className:"text-xs py-1 px-3",children:[f.jsx("i",{className:"bi bi-plus-lg mr-1"})," Add Governor"]})]}),(p||d)&&v.position==="Governor"&&f.jsxs(Ne,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 mb-4",children:[f.jsx("h4",{className:"font-bold mb-3 text-yellow-900 dark:text-yellow-100",children:p?"Add New Governor":"Edit Governor"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"User"}),p?f.jsxs("select",{name:"userId",value:v.userId||"",onChange:N,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user"}),t.filter(ae=>ae.teamId!==On&&!B.find(M=>M.userId===ae.id)).map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]}):f.jsx(xt,{label:"",id:"name",name:"name",value:((oe=t.find(ae=>ae.id===v.userId))==null?void 0:oe.name)||"",disabled:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role Description"}),f.jsx("textarea",{name:"roleDescription",value:v.roleDescription||"",onChange:N,rows:2,className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20"})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-lg text-sm",children:[f.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Permissions (Auto-set for Governors):"}),f.jsxs("div",{className:"space-y-1 text-slate-600 dark:text-slate-400 text-xs",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Add Members"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Delete Members"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Update Information"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Pass Scores"]})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:A,children:"Cancel"}),f.jsx(me,{onClick:P,children:"Save Governor"})]})]}),B.length>0?f.jsx("div",{className:"space-y-3",children:B.map(Z)}):f.jsxs(Ne,{className:"p-6 text-center bg-slate-50 dark:bg-slate-900/30",children:[f.jsx("i",{className:"bi bi-star text-4xl text-slate-300 dark:text-slate-600 mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"No governors assigned yet"})]})]}),S==="facilitators"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Facilitator Management"}),r&&!p&&!d&&f.jsxs(me,{onClick:E,className:"text-xs py-1 px-3",children:[f.jsx("i",{className:"bi bi-plus-lg mr-1"})," Add Facilitator"]})]}),(p||d)&&v.position!=="Governor"&&f.jsxs(Ne,{className:"p-4 bg-slate-50 dark:bg-slate-900/50 mb-4",children:[f.jsx("h4",{className:"font-bold mb-3",children:p?"Add New Facilitator":"Edit Facilitator"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"User"}),p?f.jsxs("select",{name:"userId",value:v.userId||"",onChange:N,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user"}),t.filter(ae=>ae.teamId!==On).map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]}):f.jsx(xt,{label:"",id:"name",name:"name",value:((de=t.find(ae=>ae.id===v.userId))==null?void 0:de.name)||"",disabled:!0})]}),f.jsx(xt,{label:"Position",id:"position",name:"position",value:v.position||"",onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role Description"}),f.jsx("textarea",{name:"roleDescription",value:v.roleDescription||"",onChange:N,rows:2,className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Permissions"}),D(v.permissions||{},!1)]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:A,children:"Cancel"}),f.jsx(me,{onClick:P,children:"Save Facilitator"})]})]}),$.length>0?f.jsx("div",{className:"space-y-3",children:$.map(Z)}):f.jsxs(Ne,{className:"p-6 text-center bg-slate-50 dark:bg-slate-900/30",children:[f.jsx("i",{className:"bi bi-people text-4xl text-slate-300 dark:text-slate-600 mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"No facilitators assigned yet"})]})]})]})]})},eoe=({team:e,allUsers:t,allEvents:n,onClose:r})=>{var R,G,ie,ue,ge,Ce;const[i,s]=w.useState("overview"),{addToast:l}=jn(),{theme:u}=xS(),{canManageTeamInfo:d,canViewDemeritDetails:h}=Rp(),{settings:p,isPrivileged:g}=fo(),{user:v}=Ft(),{data:x,loading:S}=Vt(()=>rP(e.id),[ye.USERS]),[_,E]=w.useState(!1),[j,A]=w.useState(!1),[N,P]=w.useState(e.description||""),[T,D]=w.useState({unitLeader:"",unitSecretary:"",unitTreasurer:"",unitErrands:["","","",""],adviser:""}),[I,B]=w.useState(!1),[$,Z]=w.useState(""),U=d(e==null?void 0:e.id);w.useEffect(()=>{s("overview"),P(e.description||""),A(!1)},[e.id,e.description]),w.useEffect(()=>{e&&D({unitLeader:e.unitLeader||"",unitSecretary:e.unitSecretary||"",unitTreasurer:e.unitTreasurer||"",unitErrands:e.unitErrands||["","","",""],adviser:e.adviser||""})},[e]);const J=async()=>{if(!(!$||!e))try{await jh(e.id,$,"accepted"),l("Member added successfully!","success"),Z("")}catch(te){l(te.message||"Failed to add member","error")}},oe=async te=>{if(window.confirm("Are you sure you want to remove this member from the team?"))try{await nP(te),l("Member removed successfully!","success")}catch(ve){l(ve.message||"Failed to remove member","error")}},de=(te,ve)=>{const W=[...T.unitErrands];W[te]=ve,D({...T,unitErrands:W})},ae=async()=>{if(e)try{await yl({...e,description:N}),l("Team description updated!","success"),A(!1)}catch{l("Failed to update description; change will be synced when online.","info");try{const{enqueue:ve,processQueue:W}=await Ks(async()=>{const{enqueue:Ee,processQueue:De}=await Promise.resolve().then(()=>Nl);return{enqueue:Ee,processQueue:De}},void 0);ve("team:update",{...e,description:N}),ve("activity:log",{userId:v&&v.id||"unknown",action:"updated_team_description",target:{type:"team",name:e.name,link:`/teams?teamId=${e.id}`}}),W()}catch(ve){console.warn("Failed to enqueue team description update",ve)}}},M=async()=>{if(e)try{await yl({...e,...T}),l("Leadership details saved!","success"),E(!1)}catch{l("Failed to save leadership; change will be synced when online.","info");try{const{enqueue:ve,processQueue:W}=await Ks(async()=>{const{enqueue:Ee,processQueue:De}=await Promise.resolve().then(()=>Nl);return{enqueue:Ee,processQueue:De}},void 0);ve("team:update",{...e,...T}),ve("activity:log",{userId:v&&v.id||"unknown",action:"updated_team_leadership",target:{type:"team",name:e.name,link:`/teams?teamId=${e.id}`}}),W()}catch(ve){console.warn("Failed to enqueue team leadership update",ve)}}},k=async(te,ve)=>{if(e)try{await jh(e.id,te,ve),l(`Request has been ${ve}.`,"success")}catch(W){l(W.message,"error")}},Y=(te,ve)=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:ve}),f.jsxs("select",{name:te,value:T[te],onChange:W=>D(Ee=>({...Ee,[te]:W.target.value})),disabled:!_,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg disabled:opacity-70",children:[f.jsx("option",{value:"",children:"Not Assigned"}),t.map(W=>f.jsx("option",{value:W.id,children:W.name},W.id))]})]});if(e.id===On)return f.jsx(Jse,{team:e,allUsers:t,onClose:r});const F=((R=e.joinRequests)==null?void 0:R.length)||0,se=Yn(e.id);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 overflow-hidden",children:[f.jsx("span",{children:"Team Hub:"}),f.jsx("i",{className:`${se.icon} text-2xl`,style:{color:se.gradient.from}}),f.jsx("span",{style:{color:se.gradient.from},className:"truncate",children:e.name})]})}),f.jsx("div",{className:"flex-shrink-0 overflow-x-auto border-b border-slate-200 dark:border-slate-700 px-4 pt-2",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(xu,{label:"Overview",isActive:i==="overview",onClick:()=>s("overview")}),f.jsx(xu,{label:"Leadership",isActive:i==="leadership",onClick:()=>s("leadership")}),f.jsx(xu,{label:f.jsxs("span",{className:"relative",children:["Members",U&&F>0&&f.jsx("span",{className:"absolute -top-1 -right-3 bg-red-500 text-white text-[10px] h-4 w-4 rounded-full flex items-center justify-center",children:F})]}),isActive:i==="members",onClick:()=>s("members")})]})}),f.jsxs("div",{className:"flex-grow min-h-0 overflow-y-auto p-6",children:[i==="overview"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs(Ne,{className:"p-4",children:[f.jsx("h4",{className:"text-3xl font-bold text-indigo-700 dark:text-indigo-300",children:g||p.competitionScores?`${e.score} pts`:"Scores Hidden"}),(g||p.competitionScores)&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Current Rank: #",e.rank]})]}),f.jsxs(Ne,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Team Description"}),U&&!j&&f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>A(!0),children:"Edit"})]}),j?f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:N,onChange:te=>P(te.target.value),className:"w-full text-sm p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-indigo-500/50",rows:4}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>A(!1),children:"Cancel"}),f.jsx(me,{className:"text-xs py-1 px-2",onClick:ae,children:"Save"})]})]}):f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e.description||"No description available."})]})]}),(g||p.competitionScores)&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-4",children:"Progress Graph"}),f.jsxs(Ne,{className:"p-4",children:[f.jsx(M5,{teams:[e]}),f.jsx("p",{className:"text-center text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Shows score progression over time. Click on a chart to see a detailed log."})]})]}),(g||p.competitionScores)&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2 text-green-600 dark:text-green-400",children:"Merits"}),f.jsx(Ne,{className:"p-4 max-h-80 overflow-y-auto",children:(G=e.merits)!=null&&G.length?f.jsx("ul",{className:"space-y-2",children:e.merits.map((te,ve)=>f.jsx(Ak,{log:te,canViewDetails:h,type:"merit"},ve))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No merits recorded."})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2 text-red-600 dark:text-red-400",children:"Demerits"}),f.jsx(Ne,{className:"p-4 max-h-80 overflow-y-auto",children:(ie=e.demerits)!=null&&ie.length?f.jsx("ul",{className:"space-y-2",children:e.demerits.map((te,ve)=>f.jsx(Ak,{log:te,canViewDetails:h,type:"demerit"},ve))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No demerits recorded."})})]})]}),(g||p.competitionScores)&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Event Scorecards"}),(ue=e.eventScores)!=null&&ue.length?f.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:e.eventScores.map((te,ve)=>f.jsxs(Ne,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h4",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:te.eventName}),f.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:["Placement: ",te.placement]})]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:["Competition Points: ",f.jsx("span",{className:"font-semibold",children:te.competitionPoints})]}),f.jsx("ul",{className:"text-sm space-y-1",children:te.scores.map((W,Ee)=>f.jsxs("li",{className:"flex justify-between border-t border-slate-200 dark:border-slate-700 pt-1",children:[f.jsxs("span",{children:[W.criteria,":"]}),f.jsxs("span",{className:"font-medium",children:[W.score," / ",W.maxScore]})]},Ee))})]},ve))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No event scores available."})]})]}),i==="leadership"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Team Leadership Structure"}),U&&!_&&f.jsx(me,{variant:"secondary",className:"py-1 px-3 text-xs",onClick:()=>E(!0),children:"Edit Information"}),_&&f.jsxs("div",{className:"space-x-2",children:[f.jsx(me,{variant:"secondary",className:"py-1 px-3 text-xs",onClick:()=>E(!1),children:"Cancel"}),f.jsx(me,{className:"py-1 px-3 text-xs",onClick:M,children:"Save Changes"})]})]}),_?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y("unitLeader","Unit Leader"),Y("adviser","Unit Adviser"),Y("unitSecretary","Unit Secretary"),Y("unitTreasurer","Unit Treasurer")]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm text-slate-700 dark:text-slate-300 mb-2",children:"Unit Operational Errands"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from({length:4}).map((te,ve)=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:`Errand ${ve+1}`}),f.jsxs("select",{value:T.unitErrands[ve]||"",onChange:W=>de(ve,W.target.value),className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Not Assigned"}),t.map(W=>f.jsx("option",{value:W.id,children:W.name},W.id))]})]},ve))})]})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs(Ne,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Leader"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:iu(e.unitLeader,t)})]}),f.jsxs(Ne,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Adviser"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:iu(e.adviser,t)})]}),f.jsxs(Ne,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Secretary"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:iu(e.unitSecretary,t)})]}),f.jsxs(Ne,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Treasurer"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:iu(e.unitTreasurer,t)})]})]}),f.jsxs(Ne,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Operational Errands"}),f.jsx("ul",{className:"mt-2 space-y-1 text-slate-700 dark:text-slate-300 list-disc list-inside",children:(((ge=e.unitErrands)==null?void 0:ge.filter(te=>te))??[]).length>0?(Ce=e.unitErrands)==null?void 0:Ce.map((te,ve)=>te&&f.jsx("li",{children:iu(te,t)},ve)):f.jsx("li",{className:"list-none italic",children:"No members assigned."})})]})]})]}),i==="members"&&f.jsxs("div",{className:"space-y-6",children:[U&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Join Requests"}),e.joinRequests&&e.joinRequests.length>0?f.jsx("div",{className:"space-y-3",children:e.joinRequests.map(te=>{const ve=t.find(W=>W.id===te.userId);return f.jsxs(Ne,{className:"p-4 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:(ve==null?void 0:ve.name)||"Unknown User"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(te.timestamp).toLocaleString()})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(me,{className:"text-xs py-1 px-3",onClick:()=>k(te.userId,"accepted"),children:"Accept"}),f.jsx(me,{variant:"danger",className:"text-xs py-1 px-3",onClick:()=>k(te.userId,"rejected"),children:"Reject"})]})]},te.userId)})}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No pending join requests."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Event Roster"}),f.jsx(Zse,{team:e,allEvents:n})]}),f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-between items-center mt-6",children:f.jsx("h3",{className:"font-bold text-lg",children:"Team Members & Prospects"})}),f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 text-sm text-indigo-700 dark:text-indigo-300 my-4",children:f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-info-circle mr-2"}),"This list shows registered team members and their self-declared interest in specific events."]})}),f.jsx("div",{className:"space-y-3",children:S?f.jsx(rt,{className:"h-48 w-full"}):x&&x.length>0?x.map(te=>f.jsx(Ne,{className:"p-4 hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("img",{src:te.avatar,alt:te.name,className:"h-12 w-12 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("h5",{className:"font-bold text-slate-800 dark:text-slate-100",children:[te.firstName," ",te.lastName]}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[te.yearLevel,"  ",te.section]})]}),f.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:f.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded capitalize",children:te.role.replace("_"," ")})})]}),te.interestedEvents&&te.interestedEvents.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Interested in:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:te.interestedEvents.map((ve,W)=>f.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 text-xs rounded-full",children:ve},W))})]}),te.bio&&f.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400 italic",children:['"',te.bio,'"']})]})]})},te.id)):f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No members found for this team."})})]}),U&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Member Management"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Directly add or remove members from this team. This action bypasses the join request system."}),f.jsxs(Ne,{className:"p-4 mb-4 bg-slate-100 dark:bg-slate-900/50",children:[f.jsxs("h4",{className:"font-semibold mb-2",children:["Add a member to ",e.name]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:$,onChange:te=>Z(te.target.value),className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user to add..."}),t.filter(te=>!te.teamId).map(te=>f.jsxs("option",{value:te.id,children:[te.name," (",te.email,")"]},te.id))]}),f.jsx(me,{onClick:J,disabled:!$,children:"Add"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-semibold text-md mb-2",children:"Remove Current Members"}),x&&x.length>0?x.map(te=>f.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-3 rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:te.avatar,alt:te.name,className:"h-8 w-8 rounded-full"}),f.jsx("span",{className:"font-medium text-sm",children:te.name})]}),f.jsx(me,{variant:"danger",className:"text-xs py-1 px-3",onClick:()=>oe(te.id),children:"Remove"})]},te.id)):f.jsx("p",{className:"text-sm text-slate-500 italic",children:"No members to manage."})]})]})]})]})]})},toe=()=>{lo("teams");const{isDataAvailable:e}=Ll(),{user:t}=Ft(),{addToast:n}=jn(),{settings:r,isPrivileged:i}=fo(),[s,l]=UD(),[u,d]=w.useState(null),{data:h,loading:p}=Vt(vi,[ye.TEAMS,ye.EVENTS,ye.USERS]),{data:g,loading:v}=Vt(so,[ye.USERS]),{data:x,loading:S}=Vt(oa,[ye.EVENTS]),_=h||[],E=g||[],j=x||[],A=p||v||S,N=w.useCallback(U=>{d(U),l({teamId:U.id},{replace:!0})},[l]),P=w.useCallback(()=>{d(null),l({},{replace:!0})},[l]);w.useEffect(()=>{const U=s.get("teamId");if(U&&_.length>0){const J=_.find(oe=>oe.id===U);J?d(J):P()}else U||d(null)},[s,_,P]);const T=w.useMemo(()=>{var U;if(!t)return null;for(const J of _){const oe=(U=J.joinRequests)==null?void 0:U.find(de=>de.userId===t.id);if(oe)return{...oe,teamId:J.id}}return null},[_,t]),D=async()=>{if(!(!t||!T))try{await jh(T.teamId,T.userId,"rejected"),n("Join request cancelled.","info")}catch(U){n(U.message,"error")}},I=!!T,B=w.useMemo(()=>_.filter(U=>U.id===On),[_]),$=w.useMemo(()=>_.filter(U=>U.id!==On).sort((U,J)=>U.rank-J.rank),[_]),Z=U=>{var de,ae;const J=Yn(U.id),oe=((de=U.facilitators)==null?void 0:de.filter(M=>M.position==="Governor"))||[];return f.jsxs(Ne,{className:"cursor-pointer group flex flex-col transition-all duration-300",onClick:()=>N(U),children:[f.jsxs("div",{className:"p-5 flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors flex items-center gap-2",children:[f.jsx("i",{className:`${J.icon} text-2xl`,style:{color:J.gradient.from}}),f.jsx("span",{children:U.name})]}),(i||r.competitionScores)&&U.rank>0&&f.jsxs("span",{className:"text-2xl font-bold",style:{color:J.gradient.from},children:["#",U.rank]})]}),f.jsxs("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-person-circle mr-2"}),"Leader: ",((ae=E.find(M=>M.id===U.unitLeader))==null?void 0:ae.name)||"TBA"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-people mr-2"}),"Members: ",U.playersCount]})]}),U.id===On&&oe.length>0&&f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h5",{className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 mb-2",children:"Governors"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(M=>{const k=E.find(Y=>Y.id===M.userId);return f.jsxs("button",{onClick:Y=>{Y.stopPropagation(),N(U)},className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/30 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 text-xs rounded-full font-semibold transition-colors",title:`${k==null?void 0:k.name} - Governor`,children:[f.jsx("i",{className:"bi bi-star-fill mr-1"}),(k==null?void 0:k.name)||"Unknown"]},M.userId)})})]})]}),f.jsxs("div",{className:"mt-auto px-5 pb-5 pt-4 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[i||r.competitionScores?f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:[U.score," pts"]}):f.jsx("div",{}),f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["View Details ",f.jsx("i",{className:"bi bi-arrow-right ml-1"})]})]})]},U.id)};return e?f.jsxs(ui,{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Teams"}),!(t!=null&&t.teamId)&&I&&f.jsx(me,{variant:"secondary",onClick:D,children:"Cancel Join Request"})]}),f.jsx("div",{className:"space-y-8",children:A?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx(rt,{className:"h-8 w-1/2 mb-4"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.jsx(rl,{})})]}),f.jsxs("div",{children:[f.jsx(rt,{className:"h-8 w-1/2 mb-4 mt-6"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(rl,{}),f.jsx(rl,{}),f.jsx(rl,{}),f.jsx(rl,{})]})]})]}):f.jsxs(f.Fragment,{children:[B.length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:"Facilitating Team"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(Z)})]}),$.length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:"Participating Teams"}),!(t!=null&&t.teamId)&&!I&&f.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm text-blue-800 dark:text-blue-200",children:"You are not yet on a team. Click a team card to view details and request to join."}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(Z)})]})]})}),f.jsx($M,{isOpen:!!u,onClose:P,children:u&&f.jsx(eoe,{team:u,allUsers:E,allEvents:j,onClose:P})})]}):f.jsx(ui,{children:f.jsx(sd,{})})},noe="t5",roe=()=>{const{data:e,loading:t}=Vt(iP,[ye.REPORTS]),{data:n,loading:r}=Vt(so,[ye.USERS]),{data:i,loading:s}=Vt(vi,[ye.TEAMS]),{isDataAvailable:l}=Ll(),u=e||[],d=n||[],h=i||[],p=t||r||s,[g,v]=w.useState("view"),{user:x}=Ft(),{addToast:S}=jn(),{settings:_,isPrivileged:E}=fo(),[j,A]=w.useState(""),[N,P]=w.useState(null),[T,D]=w.useState("report"),[I,B]=w.useState({problemType:"",description:"",offenderName:"",offenderTeam:"",evidence:""}),$=(x==null?void 0:x.teamId)===noe||(x==null?void 0:x.role)===ke.ADMIN||(x==null?void 0:x.role)===ke.OFFICER,Z=k=>d.find(Y=>Y.id===k),U=async k=>{if(k.preventDefault(),!!x)try{await aP({...I,type:T,submittedBy:x.id}),S(`${T==="report"?"Report":"Suggestion"} submitted successfully!`,"success"),B({problemType:"",description:"",offenderName:"",offenderTeam:"",evidence:""}),v("view")}catch{S("Failed to submit. Try again.","error")}},J=async(k,Y)=>{try{await sP(k,Y),S("Status updated!","success")}catch{S("Failed to update status.","error")}},oe=async k=>{if(!(!j.trim()||!x))try{await oP(k,{reply:j}),A(""),P(null),S("Reply posted!","success")}catch{S("Failed to post reply.","error")}},de=$?u:u.filter(k=>k.submittedBy===(x==null?void 0:x.id)),ae=$?"All Submissions":"My Submissions",M={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",reviewed:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300",resolved:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"};return p?f.jsx("div",{children:"Loading..."}):l?f.jsxs(ui,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Reports & Suggestions"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[(E||_.reports.tabs.view)&&f.jsx("button",{onClick:()=>v("view"),className:`px-4 py-2 text-sm font-semibold ${g==="view"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"}`,children:ae}),(E||_.reports.tabs.submit)&&f.jsx("button",{onClick:()=>v("submit"),className:`px-4 py-2 text-sm font-semibold ${g==="submit"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"}`,children:"Submit New"})]}),g==="view"&&(E||_.reports.tabs.view)&&f.jsx("div",{className:"space-y-4",children:de.length===0?f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-8",children:$?"No reports have been submitted yet.":"You have not submitted any reports."}):de.map(k=>{const Y=Z(k.submittedBy),F=h.find(R=>{var G;return R.name.toLowerCase()===((G=k.offenderTeam)==null?void 0:G.toLowerCase())}),se=F?Yn(F.id):null;return f.jsxs(Ne,{className:"p-5",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start gap-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full capitalize ${k.type==="report"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}`,children:k.type}),k.problemType&&f.jsx("span",{className:"text-sm font-semibold ml-2 text-slate-700 dark:text-slate-200",children:k.problemType})]}),f.jsx("span",{className:`text-xs font-bold capitalize px-2.5 py-1 rounded-full ${M[k.status]}`,children:k.status})]}),f.jsx("p",{className:"my-3 text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:k.description}),k.offenderName&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("b",{className:"text-slate-700 dark:text-slate-200",children:"Offender:"}),f.jsx("span",{children:k.offenderName}),se?f.jsxs("span",{className:"flex items-center gap-1",children:["(",f.jsx("i",{className:`${se.icon}`,style:{color:se.gradient.from}}),f.jsx("span",{children:k.offenderTeam}),")"]}):k.offenderTeam&&f.jsxs("span",{children:["(",k.offenderTeam,")"]})]}),k.evidence&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("b",{className:"text-slate-700 dark:text-slate-200",children:"Evidence:"})," ",k.evidence]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:["Submitted by ",f.jsx("b",{children:(Y==null?void 0:Y.name)||"Unknown"})," on ",new Date(k.timestamp).toLocaleString()]}),k.replies&&k.replies.length>0&&f.jsx("div",{className:"mt-4 space-y-3",children:k.replies.map(R=>{const G=Z(R.repliedBy);return f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded-lg flex gap-3",children:[f.jsx("img",{src:G==null?void 0:G.avatar,alt:G==null?void 0:G.name,className:"h-8 w-8 rounded-full flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:R.message}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f.jsx("b",{children:G==null?void 0:G.name}),"  ",new Date(R.timestamp).toLocaleString()]})]})]},R.id)})}),$&&f.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:N!==k.id?f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>J(k.id,"reviewed"),disabled:k.status==="reviewed",children:"Mark as Reviewed"}),f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>J(k.id,"resolved"),disabled:k.status==="resolved",children:"Mark as Resolved"})]}),f.jsx(me,{className:"text-xs py-1 px-2",onClick:()=>P(k.id),children:"Reply"})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:j,onChange:R=>A(R.target.value),rows:2,className:"w-full text-sm p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900",placeholder:"Type your reply..."}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(me,{variant:"secondary",onClick:()=>P(null),children:"Cancel"}),f.jsx(me,{onClick:()=>oe(k.id),children:"Post Reply"})]})]})})]},k.id)})}),g==="submit"&&(E||_.reports.tabs.submit)&&f.jsx(Ne,{className:"p-6",children:f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Submission Type"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"type",value:"report",checked:T==="report",onChange:()=>D("report")})," Report an Issue"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:T==="suggestion",onChange:()=>D("suggestion")})," Submit a Suggestion"]})]})]}),T==="report"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Problem Type"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",value:I.problemType,onChange:k=>B({...I,problemType:k.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Select type..."}),f.jsx("option",{value:"spy",children:"Spying / Eavesdropping"}),f.jsx("option",{value:"unsportsmanlike",children:"Unsportsmanlike Behavior"}),f.jsx("option",{value:"other",children:"Other"})]})]}),T==="report"&&I.problemType&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsx(xt,{label:"Offender Name (if known)",id:"offenderName",value:I.offenderName,onChange:k=>B({...I,offenderName:k.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Offender Team (if known)"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",value:I.offenderTeam,onChange:k=>B({...I,offenderTeam:k.target.value}),children:[f.jsx("option",{value:"",children:"Select team..."}),h.map(k=>f.jsx("option",{value:k.name,children:k.name},k.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),f.jsx("textarea",{id:"description",rows:4,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all duration-150",value:I.description,onChange:k=>B({...I,description:k.target.value}),required:!0,placeholder:"Please provide specific details..."})]}),T==="report"&&f.jsx(xt,{label:"Evidence (Link or description)",id:"evidence",value:I.evidence,onChange:k=>B({...I,evidence:k.target.value}),placeholder:"Link to screenshot, video, etc."}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(me,{type:"submit",children:T==="report"?"Submit Report":"Submit Suggestion"})})]})})]}):f.jsx(ui,{children:f.jsx(sd,{})})};var Ok={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(e,t){if(!e)throw Wl(t)},Wl=function(e){return new Error("Firebase Database ("+U5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ioe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],l=e[n++],u=e[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const s=e[n++],l=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return t.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],l=i+1<e.length,u=l?e[i+1]:0,d=i+2<e.length,h=d?e[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let v=(u&15)<<2|h>>6,x=h&63;d||(x=64,l||(v=64)),r.push(n[p],n[g],n[v],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V5(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ioe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],u=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const g=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new aoe;const v=s<<2|u>>4;if(r.push(v),h!==64){const x=u<<4&240|h>>2;if(r.push(x),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F5=function(e){const t=V5(e);return bS.encodeByteArray(t,!0)},Em=function(e){return F5(e).replace(/\./g,"")},Lb=function(e){try{return bS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(e){return H5(void 0,e)}function H5(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!ooe(n)||(e[n]=H5(e[n],t[n]));return e}function ooe(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=()=>loe().__FIREBASE_DEFAULTS__,uoe=()=>{if(typeof process>"u"||typeof Ok>"u")return;const e=Ok.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},doe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Lb(e[1]);return t&&JSON.parse(t)},$5=()=>{try{return coe()||uoe()||doe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},foe=e=>{var t,n;return(n=(t=$5())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},hoe=e=>{const t=foe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},q5=()=>{var e;return(e=$5())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Em(JSON.stringify(n)),Em(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(poe())}function goe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function voe(){return U5.NODE_ADMIN===!0}function yoe(){try{return typeof indexedDB=="object"}catch{return!1}}function xoe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe="FirebaseError";class wd extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=boe,Object.setPrototypeOf(this,wd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y5.prototype.create)}}class Y5{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],l=s?woe(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new wd(i,u,r)}}function woe(e,t){return e.replace(Soe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Soe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){return JSON.parse(e)}function en(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=$u(Lb(s[0])||""),n=$u(Lb(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},_oe=function(e){const t=K5(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Eoe=function(e){const t=K5(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tl(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function kk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jm(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Bb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],l=t[i];if(Dk(s)&&Dk(l)){if(!Bb(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dk(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let g=0;g<16;g++)r[g]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let g=16;g<80;g++){const v=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],d=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=u^s&(l^u),p=1518500249):(h=s^l^u,p=1859775393):g<60?(h=s&l|u&(s|l),p=2400959708):(h=s^l^u,p=3395469782);const v=(i<<5|i>>>27)+h+d+p+r[g]&4294967295;d=u,u=l,l=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}else for(;i<n;)if(s[l]=t[i],++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function wS(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ce(r<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(r)-56320;i=65536+(s<<10)+l}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Lp=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(e){return e&&e._delegate?e._delegate:e}class qu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ip;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ooe(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&t(l,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Aoe(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Aoe(e){return e===Ms?void 0:e}function Ooe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Toe(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(lt||(lt={}));const Doe={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Poe=lt.INFO,Moe={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Roe=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=Moe[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class W5{constructor(t){this.name=t,this._logLevel=Poe,this._logHandler=Roe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Doe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const Ioe=(e,t)=>t.some(n=>e instanceof n);let Pk,Mk;function Loe(){return Pk||(Pk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Boe(){return Mk||(Mk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X5=new WeakMap,zb=new WeakMap,Q5=new WeakMap,fx=new WeakMap,SS=new WeakMap;function zoe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(Ya(e.result)),i()},l=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&X5.set(n,e)}).catch(()=>{}),SS.set(t,e),t}function Uoe(e){if(zb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});zb.set(e,t)}let Ub={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Q5.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Voe(e){Ub=e(Ub)}function Foe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(hx(this),t,...n);return Q5.set(r,t.sort?t.sort():[t]),Ya(r)}:Boe().includes(e)?function(...t){return e.apply(hx(this),t),Ya(X5.get(this))}:function(...t){return Ya(e.apply(hx(this),t))}}function Hoe(e){return typeof e=="function"?Foe(e):(e instanceof IDBTransaction&&Uoe(e),Ioe(e,Loe())?new Proxy(e,Ub):e)}function Ya(e){if(e instanceof IDBRequest)return zoe(e);if(fx.has(e))return fx.get(e);const t=Hoe(e);return t!==e&&(fx.set(e,t),SS.set(t,e)),t}const hx=e=>SS.get(e);function $oe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(e,t),u=Ya(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ya(l.result),d.oldVersion,d.newVersion,Ya(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const qoe=["get","getKey","getAll","getAllKeys","count"],Goe=["put","add","delete","clear"],mx=new Map;function Rk(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(mx.get(t))return mx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Goe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qoe.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return mx.set(t,s),s}Voe(e=>({...e,get:(t,n,r)=>Rk(t,n)||e.get(t,n,r),has:(t,n)=>!!Rk(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Koe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Koe(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vb="@firebase/app",Ik="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new W5("@firebase/app"),Woe="@firebase/app-compat",Xoe="@firebase/analytics-compat",Qoe="@firebase/analytics",Zoe="@firebase/app-check-compat",Joe="@firebase/app-check",ele="@firebase/auth",tle="@firebase/auth-compat",nle="@firebase/database",rle="@firebase/data-connect",ile="@firebase/database-compat",ale="@firebase/functions",sle="@firebase/functions-compat",ole="@firebase/installations",lle="@firebase/installations-compat",cle="@firebase/messaging",ule="@firebase/messaging-compat",dle="@firebase/performance",fle="@firebase/performance-compat",hle="@firebase/remote-config",mle="@firebase/remote-config-compat",ple="@firebase/storage",gle="@firebase/storage-compat",vle="@firebase/firestore",yle="@firebase/vertexai-preview",xle="@firebase/firestore-compat",ble="firebase",wle="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="[DEFAULT]",Sle={[Vb]:"fire-core",[Woe]:"fire-core-compat",[Qoe]:"fire-analytics",[Xoe]:"fire-analytics-compat",[Joe]:"fire-app-check",[Zoe]:"fire-app-check-compat",[ele]:"fire-auth",[tle]:"fire-auth-compat",[nle]:"fire-rtdb",[rle]:"fire-data-connect",[ile]:"fire-rtdb-compat",[ale]:"fire-fn",[sle]:"fire-fn-compat",[ole]:"fire-iid",[lle]:"fire-iid-compat",[cle]:"fire-fcm",[ule]:"fire-fcm-compat",[dle]:"fire-perf",[fle]:"fire-perf-compat",[hle]:"fire-rc",[mle]:"fire-rc-compat",[ple]:"fire-gcs",[gle]:"fire-gcs-compat",[vle]:"fire-fst",[xle]:"fire-fst-compat",[yle]:"fire-vertex","fire-js":"fire-js",[ble]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map,_le=new Map,Hb=new Map;function Lk(e,t){try{e.container.addComponent(t)}catch(n){ra.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nm(e){const t=e.name;if(Hb.has(t))return ra.debug(`There were multiple attempts to register component ${t}.`),!1;Hb.set(t,e);for(const n of Cm.values())Lk(n,e);for(const n of _le.values())Lk(n,e);return!0}function Ele(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Y5("app","Firebase",jle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cle{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=wle;function Z5(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Fb,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ka.create("bad-app-name",{appName:String(i)});if(n||(n=q5()),!n)throw Ka.create("no-options");const s=Cm.get(i);if(s){if(Bb(n,s.options)&&Bb(r,s.config))return s;throw Ka.create("duplicate-app",{appName:i})}const l=new koe(i);for(const d of Hb.values())l.addComponent(d);const u=new Cle(n,r,l);return Cm.set(i,u),u}function Tle(e=Fb){const t=Cm.get(e);if(!t&&e===Fb&&q5())return Z5();if(!t)throw Ka.create("no-app",{appName:e});return t}function ml(e,t,n){var r;let i=(r=Sle[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${t}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ra.warn(u.join(" "));return}Nm(new qu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale="firebase-heartbeat-database",Ole=1,Gu="firebase-heartbeat-store";let px=null;function J5(){return px||(px=$oe(Ale,Ole,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ka.create("idb-open",{originalErrorMessage:e.message})})),px}async function kle(e){try{const n=(await J5()).transaction(Gu),r=await n.objectStore(Gu).get(e4(e));return await n.done,r}catch(t){if(t instanceof wd)ra.warn(t.message);else{const n=Ka.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ra.warn(n.message)}}}async function Bk(e,t){try{const r=(await J5()).transaction(Gu,"readwrite");await r.objectStore(Gu).put(t,e4(e)),await r.done}catch(n){if(n instanceof wd)ra.warn(n.message);else{const r=Ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ra.warn(r.message)}}}function e4(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=1024,Ple=720*60*60*1e3;class Mle{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ile(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zk();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=Ple}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zk(),{heartbeatsToSend:r,unsentEntries:i}=Rle(this._heartbeatsCache.heartbeats),s=Em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ra.warn(n),""}}}function zk(){return new Date().toISOString().substring(0,10)}function Rle(e,t=Dle){const n=[];let r=e.slice();for(const i of e){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Uk(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uk(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ile{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yoe()?xoe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Uk(e){return Em(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(e){Nm(new qu("platform-logger",t=>new Yoe(t),"PRIVATE")),Nm(new qu("heartbeat",t=>new Mle(t),"PRIVATE")),ml(Vb,Ik,e),ml(Vb,Ik,"esm2017"),ml("fire-js","")}Lle("");var Ble="firebase",zle="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml(Ble,zle,"app");var Vk={};const Fk="@firebase/database",Hk="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4="";function Ule(e){t4=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),en(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:$u(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fle{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return pa(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Vle(t)}}catch{}return new Fle},Vs=n4("localStorage"),Hle=n4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new W5("@firebase/database"),$le=(function(){let e=1;return function(){return e++}})(),r4=function(e){const t=Noe(e),n=new Coe;n.update(t);const r=n.digest();return bS.encodeByteArray(r)},Sd=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Sd.apply(null,r):typeof r=="object"?t+=en(r):t+=r,t+=" "}return t};let bu=null,$k=!0;const qle=function(e,t){ce(!0,"Can't turn on custom loggers persistently."),pl.logLevel=lt.VERBOSE,bu=pl.log.bind(pl)},_n=function(...e){if($k===!0&&($k=!1,bu===null&&Hle.get("logging_enabled")===!0&&qle()),bu){const t=Sd.apply(null,e);bu(t)}},_d=function(e){return function(...t){_n(e,...t)}},$b=function(...e){const t="FIREBASE INTERNAL ERROR: "+Sd(...e);pl.error(t)},ia=function(...e){const t=`FIREBASE FATAL ERROR: ${Sd(...e)}`;throw pl.error(t),new Error(t)},Kn=function(...e){const t="FIREBASE WARNING: "+Sd(...e);pl.warn(t)},Gle=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},i4=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yle=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Al="[MIN_NAME]",to="[MAX_NAME]",Ql=function(e,t){if(e===t)return 0;if(e===Al||t===to)return-1;if(t===Al||e===to)return 1;{const n=qk(e),r=qk(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Kle=function(e,t){return e===t?0:e<t?-1:1},au=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+en(t))},_S=function(e){if(typeof e!="object"||e===null)return en(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=en(t[r]),n+=":",n+=_S(e[t[r]]);return n+="}",n},a4=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Wn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const s4=function(e){ce(!i4(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,l,u,d;e===0?(s=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=u+r,l=Math.round(e*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,l=Math.round(e/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(d=t;d;d-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(d=0;d<64;d+=8){let v=parseInt(p.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},Wle=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Xle=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Qle(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Zle=new RegExp("^-?(0*)\\d{1,10}$"),Jle=-2147483648,ece=2147483647,qk=function(e){if(Zle.test(e)){const t=Number(e);if(t>=Jle&&t<=ece)return t}return null},Zl=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Kn("Exception was thrown by user callback.",n),t},Math.floor(0))}},tce=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wu=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nce{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kn(t)}}class Sh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Sh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="5",o4="v",l4="s",c4="r",u4="f",d4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,f4="ls",h4="p",qb="ac",m4="websocket",p4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t,n,r,i,s=!1,l="",u=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function ice(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function v4(e,t,n){ce(typeof t=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let r;if(t===m4)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===p4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ice(e)&&(n.ns=e.namespace);const i=[];return Wn(n,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(){this.counters_={}}incrementCounter(t,n=1){pa(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return soe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx={},vx={};function jS(e){const t=e.toString();return gx[t]||(gx[t]=new ace),gx[t]}function sce(e,t){const n=e.toString();return vx[n]||(vx[n]=t()),vx[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Zl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="start",lce="close",cce="pLPCommand",uce="pRTLPCB",y4="id",x4="pw",b4="ser",dce="cb",fce="seg",hce="ts",mce="d",pce="dframe",w4=1870,S4=30,gce=w4-S4,vce=25e3,yce=3e4;class dl{constructor(t,n,r,i,s,l,u){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_d(t),this.stats_=jS(n),this.urlFn=d=>(this.appCheckToken&&(d[qb]=this.appCheckToken),v4(n,p4,d))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oce(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yce)),Yle(()=>{if(this.isClosed_)return;this.scriptTagHolder=new CS((...s)=>{const[l,u,d,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Gk)this.id=u,this.password=d;else if(l===lce)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[Gk]="t",r[b4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dce]=this.scriptTagHolder.uniqueCallbackIdentifier),r[o4]=ES,this.transportSessionId&&(r[l4]=this.transportSessionId),this.lastSessionId&&(r[f4]=this.lastSessionId),this.applicationId&&(r[h4]=this.applicationId),this.appCheckToken&&(r[qb]=this.appCheckToken),typeof location<"u"&&location.hostname&&d4.test(location.hostname)&&(r[c4]=u4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dl.forceAllow_=!0}static forceDisallow(){dl.forceDisallow_=!0}static isAvailable(){return dl.forceAllow_?!0:!dl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Wle()&&!Xle()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=en(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=F5(n),i=a4(r,gce);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pce]="t",r[y4]=t,r[x4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=en(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class CS{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$le(),window[cce+this.uniqueCallbackIdentifier]=t,window[uce+this.uniqueCallbackIdentifier]=n,this.myIFrame=CS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){_n("frame writing exception"),u.stack&&_n(u.stack),_n(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||_n("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[y4]=this.myID,t[x4]=this.myPW,t[b4]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+S4+r.length<=w4;){const l=this.pendingSegs.shift();r=r+"&"+fce+i+"="+l.seg+"&"+hce+i+"="+l.ts+"&"+mce+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vce)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_n("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xce=16384,bce=45e3;let Tm=null;typeof MozWebSocket<"u"?Tm=MozWebSocket:typeof WebSocket<"u"&&(Tm=WebSocket);class Kr{constructor(t,n,r,i,s,l,u){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_d(this.connId),this.stats_=jS(n),this.connURL=Kr.connectionURL_(n,l,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const l={};return l[o4]=ES,typeof location<"u"&&location.hostname&&d4.test(location.hostname)&&(l[c4]=u4),n&&(l[l4]=n),r&&(l[f4]=r),i&&(l[qb]=i),s&&(l[h4]=s),v4(t,m4,l)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let r;voe(),this.mySock=new Tm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Tm!==null&&!Kr.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$u(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ce(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=en(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=a4(n,xce);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bce))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kr.responsesRequiredToBeHealthy=2;Kr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[dl,Kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Kr&&Kr.isAvailable();let r=n&&!Kr.previouslyFailed();if(t.webSocketOnly&&(n||Kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Kr];else{const i=this.transports_=[];for(const s of Yu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Yu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Yu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=6e4,Sce=5e3,_ce=10*1024,Ece=100*1024,yx="t",Yk="d",jce="s",Kk="r",Cce="e",Wk="o",Xk="a",Qk="n",Zk="p",Nce="h";class Tce{constructor(t,n,r,i,s,l,u,d,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_d("c:"+this.id+":"),this.transportManager_=new Yu(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=wu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ece?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_ce?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(yx in t){const n=t[yx];n===Xk?this.upgradeIfSecondaryHealthy_():n===Kk?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wk&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=au("t",t),r=au("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zk,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Xk,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qk,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=au("t",t),r=au("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=au(yx,t);if(Yk in t){const r=t[Yk];if(n===Nce){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Qk){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jce?this.onConnectionShutdown_(r):n===Kk?this.onReset_(r):n===Cce?$b("Server Error: "+r):n===Wk?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$b("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ES!==r&&Kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wce))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Sce))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zk,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.allowedEvents_=t,this.listeners_={},ce(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){ce(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends E4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!G5()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Am}getInitialEvent(t){return ce(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=32,eD=768;class st{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Ke(){return new st("")}function Me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function es(e){return e.pieces_.length-e.pieceNum_}function ct(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new st(e.pieces_,t)}function j4(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ace(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function C4(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function N4(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new st(t,0)}function Ut(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof st)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new st(n,0)}function Be(e){return e.pieceNum_>=e.pieces_.length}function qn(e,t){const n=Me(e),r=Me(t);if(n===null)return t;if(n===r)return qn(ct(e),ct(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function NS(e,t){if(es(e)!==es(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(es(e)>es(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Oce{constructor(t,n){this.errorPrefix_=n,this.parts_=C4(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lp(this.parts_[r]);T4(this)}}function kce(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Lp(t),T4(e)}function Dce(e){const t=e.parts_.pop();e.byteLength_-=Lp(t),e.parts_.length>0&&(e.byteLength_-=1)}function T4(e){if(e.byteLength_>eD)throw new Error(e.errorPrefix_+"has a key path longer than "+eD+" bytes ("+e.byteLength_+").");if(e.parts_.length>Jk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jk+") or object contains a cycle "+Rs(e))}function Rs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends E4{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new TS}getInitialEvent(t){return ce(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=1e3,Pce=300*1e3,tD=30*1e3,Mce=1.3,Rce=3e4,Ice="server_kill",nD=3;class Ki extends _4{constructor(t,n,r,i,s,l,u,d){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=Ki.nextPersistentConnectionId_++,this.log_=_d("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=su,this.maxReconnectDelay_=Pce,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");TS.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Am.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(en(s)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ip,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(l).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},l="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(l,s,u=>{const d=u.d,h=u.s;Ki.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(h,d))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&pa(t,"w")){const r=Tl(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Eoe(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tD)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=_oe(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,l=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},l="n";i&&(s.q=r,s.t=i),this.sendRequest(l,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+en(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):$b("Unrecognized action received from server: "+en(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rce&&(this.reconnectDelay_=su),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mce)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ki.nextConnectionId_++,s=this.lastSessionId;let l=!1,u=null;const d=function(){u?u.close():(l=!0,r())},h=function(g){ce(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:d,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,u=new Tce(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,x=>{Kn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ice)},s))}catch(g){this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&Kn(g),d())}}}interrupt(t){_n("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_n("Resuming connection for reason: "+t),delete this.interruptReasons_[t],kk(this.interruptReasons_)&&(this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>_S(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new st(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){_n("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nD&&(this.reconnectDelay_=tD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){_n("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+t4.replace(/\./g,"-")]=1,G5()?t["framework.cordova"]=1:goe()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Am.getInstance().currentlyOnline();return kk(this.interruptReasons_)&&t}}Ki.nextPersistentConnectionId_=0;Ki.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Re(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Re(Al,t),i=new Re(Al,n);return this.compare(r,i)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh;class A4 extends Bp{static get __EMPTY_NODE(){return dh}static set __EMPTY_NODE(t){dh=t}compare(t,n){return Ql(t.name,n.name)}isDefinedOn(t){throw Wl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(to,dh)}makePost(t,n){return ce(typeof t=="string","KeyIndex indexValue must always be a string."),new Re(t,dh)}toString(){return".key"}}const gl=new A4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=n?r(t.key,n):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Jt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Jt.RED,this.left=i??Gn.EMPTY_NODE,this.right=s??Gn.EMPTY_NODE}copy(t,n,r,i,s){return new Jt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Gn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Jt.RED=!0;Jt.BLACK=!1;class Lce{copy(t,n,r,i,s){return this}insert(t,n,r){return new Jt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Gn{constructor(t,n=Gn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Gn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jt.BLACK,null,null))}remove(t){return new Gn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new fh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new fh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new fh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new fh(this.root_,null,this.comparator_,!0,t)}}Gn.EMPTY_NODE=new Lce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(e,t){return Ql(e.name,t.name)}function AS(e,t){return Ql(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gb;function zce(e){Gb=e}const O4=function(e){return typeof e=="number"?"number:"+s4(e):"string:"+e},k4=function(e){if(e.isLeafNode()){const t=e.val();ce(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pa(t,".sv"),"Priority must be a string or number.")}else ce(e===Gb||e.isEmpty(),"priority of unexpected type.");ce(e===Gb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rD;class Qt{constructor(t,n=Qt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),k4(this.priorityNode_)}static set __childrenNodeConstructor(t){rD=t}static get __childrenNodeConstructor(){return rD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Qt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Be(t)?this:Me(t)===".priority"?this.priorityNode_:Qt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Qt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Me(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||es(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Qt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+O4(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=s4(this.value_):t+=this.value_,this.lazyHash_=r4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Qt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Qt.__childrenNodeConstructor?-1:(ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Qt.VALUE_TYPE_ORDER.indexOf(n),s=Qt.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+n),ce(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D4,P4;function Uce(e){D4=e}function Vce(e){P4=e}class Fce extends Bp{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ql(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(to,new Qt("[PRIORITY-POST]",P4))}makePost(t,n){const r=D4(t);return new Re(n,new Qt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Et=new Fce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce=Math.log(2);class $ce{constructor(t){const n=s=>parseInt(Math.log(s)/Hce,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Om=function(e,t,n,r){e.sort(t);const i=function(d,h){const p=h-d;let g,v;if(p===0)return null;if(p===1)return g=e[d],v=n?n(g):g,new Jt(v,g.node,Jt.BLACK,null,null);{const x=parseInt(p/2,10)+d,S=i(d,x),_=i(x+1,h);return g=e[x],v=n?n(g):g,new Jt(v,g.node,Jt.BLACK,S,_)}},s=function(d){let h=null,p=null,g=e.length;const v=function(S,_){const E=g-S,j=g;g-=S;const A=i(E+1,j),N=e[E],P=n?n(N):N;x(new Jt(P,N.node,_,null,A))},x=function(S){h?(h.left=S,h=S):(p=S,h=S)};for(let S=0;S<d.count;++S){const _=d.nextBitIsOne(),E=Math.pow(2,d.count-(S+1));_?v(E,Jt.BLACK):(v(E,Jt.BLACK),v(E,Jt.RED))}return p},l=new $ce(e.length),u=s(l);return new Gn(r||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xx;const nl={};class Vi{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ce(nl&&Et,"ChildrenNode.ts has not been loaded"),xx=xx||new Vi({".priority":nl},{".priority":Et}),xx}get(t){const n=Tl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Gn?n:null}hasIndex(t){return pa(this.indexSet_,t.toString())}addIndex(t,n){ce(t!==gl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Re.Wrap);let l=s.getNext();for(;l;)i=i||t.isDefinedOn(l.node),r.push(l),l=s.getNext();let u;i?u=Om(r,t.getCompare()):u=nl;const d=t.toString(),h=Object.assign({},this.indexSet_);h[d]=t;const p=Object.assign({},this.indexes_);return p[d]=u,new Vi(p,h)}addToIndexes(t,n){const r=jm(this.indexes_,(i,s)=>{const l=Tl(this.indexSet_,s);if(ce(l,"Missing index implementation for "+s),i===nl)if(l.isDefinedOn(t.node)){const u=[],d=n.getIterator(Re.Wrap);let h=d.getNext();for(;h;)h.name!==t.name&&u.push(h),h=d.getNext();return u.push(t),Om(u,l.getCompare())}else return nl;else{const u=n.get(t.name);let d=i;return u&&(d=d.remove(new Re(t.name,u))),d.insert(t,t.node)}});return new Vi(r,this.indexSet_)}removeFromIndexes(t,n){const r=jm(this.indexes_,i=>{if(i===nl)return i;{const s=n.get(t.name);return s?i.remove(new Re(t.name,s)):i}});return new Vi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;class Te{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&k4(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ou||(ou=new Te(new Gn(AS),null,Vi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ou}updatePriority(t){return this.children_.isEmpty()?this:new Te(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ou:n}}getChild(t){const n=Me(t);return n===null?this:this.getImmediateChild(n).getChild(ct(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ce(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Re(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?ou:this.priorityNode_;return new Te(i,l,s)}}updateChild(t,n){const r=Me(t);if(r===null)return n;{ce(Me(t)!==".priority"||es(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ct(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Et,(l,u)=>{n[l]=u.val(t),r++,s&&Te.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){const l=[];for(const u in n)l[u]=n[u];return l}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+O4(this.getPriority().val())+":"),this.forEachChild(Et,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":r4(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Re(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Re(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Re(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ed?-1:0}withIndex(t){if(t===gl||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===gl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Et),i=n.getIterator(Et);let s=r.getNext(),l=i.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=i.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===gl?null:this.indexMap_.get(t.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qce extends Te{constructor(){super(new Gn(AS),Te.EMPTY_NODE,Vi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Te.EMPTY_NODE}isEmpty(){return!1}}const Ed=new qce;Object.defineProperties(Re,{MIN:{value:new Re(Al,Te.EMPTY_NODE)},MAX:{value:new Re(to,Ed)}});A4.__EMPTY_NODE=Te.EMPTY_NODE;Qt.__childrenNodeConstructor=Te;zce(Ed);Vce(Ed);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gce=!0;function gn(e,t=null){if(e===null)return Te.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ce(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Qt(n,gn(t))}if(!(e instanceof Array)&&Gce){const n=[];let r=!1;if(Wn(e,(l,u)=>{if(l.substring(0,1)!=="."){const d=gn(u);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new Re(l,d)))}}),n.length===0)return Te.EMPTY_NODE;const s=Om(n,Bce,l=>l.name,AS);if(r){const l=Om(n,Et.getCompare());return new Te(s,gn(t),new Vi({".priority":l},{".priority":Et}))}else return new Te(s,gn(t),Vi.Default)}else{let n=Te.EMPTY_NODE;return Wn(e,(r,i)=>{if(pa(e,r)&&r.substring(0,1)!=="."){const s=gn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(gn(t))}}Uce(gn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce extends Bp{constructor(t){super(),this.indexPath_=t,ce(!Be(t)&&Me(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ql(t.name,n.name):s}makePost(t,n){const r=gn(t),i=Te.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(n,i)}maxPost(){const t=Te.EMPTY_NODE.updateChild(this.indexPath_,Ed);return new Re(to,t)}toString(){return C4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce extends Bp{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Ql(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(t,n){const r=gn(t);return new Re(n,r)}toString(){return".value"}}const Wce=new Kce;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(e){return{type:"value",snapshotNode:e}}function Ol(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ku(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Wu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Xce(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.index_=t}updateChild(t,n,r,i,s,l){ce(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?t.hasChild(n)?l.trackChildChange(Ku(n,u)):ce(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ol(n,r)):l.trackChildChange(Wu(n,r,u))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Et,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ku(i,s))}),n.isLeafNode()||n.forEachChild(Et,(i,s)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(s)||r.trackChildChange(Wu(i,s,l))}else r.trackChildChange(Ol(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Te.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t){this.indexedFilter_=new OS(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Xu.getStartPost_(t),this.endPost_=Xu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,l){return this.matches(new Re(n,r))||(r=Te.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,l)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Te.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Te.EMPTY_NODE);const s=this;return n.forEachChild(Et,(l,u)=>{s.matches(new Re(l,u))||(i=i.updateImmediateChild(l,Te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,l){return this.rangedFilter_.matches(new Re(n,r))||(r=Te.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,l):this.fullLimitUpdateChild_(t,n,r,s,l)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Te.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Te.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,Te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let l;if(this.reverse_){const g=this.index_.getCompare();l=(v,x)=>g(x,v)}else l=this.index_.getCompare();const u=t;ce(u.numChildren()===this.limit_,"");const d=new Re(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(u.hasChild(n)){const g=u.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:l(v,d);if(p&&!r.isEmpty()&&x>=0)return s!=null&&s.trackChildChange(Wu(n,r,g)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ku(n,g));const _=u.updateImmediateChild(n,Te.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s!=null&&s.trackChildChange(Ol(v.name,v.node)),_.updateImmediateChild(v.name,v.node)):_}}else return r.isEmpty()?t:p&&l(h,d)>=0?(s!=null&&(s.trackChildChange(Ku(h.name,h.node)),s.trackChildChange(Ol(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Te.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Al}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:to}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Et}copy(){const t=new kS;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Zce(e){return e.loadsAllData()?new OS(e.getIndex()):e.hasLimit()?new Qce(e):new Xu(e)}function iD(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Et?n="$priority":e.index_===Wce?n="$value":e.index_===gl?n="$key":(ce(e.index_ instanceof Yce,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=en(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=en(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+en(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=en(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+en(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function aD(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Et&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends _4{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_d("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ce(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=km.getListenId_(t,r),u={};this.listens_[l]=u;const d=iD(t._queryParams);this.restRequest_(s+".json",d,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(s,g,!1,r),Tl(this.listens_,l)===u){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",i(v,null)}})}unlisten(t,n){const r=km.getListenId_(t,n);delete this.listens_[r]}get(t){const n=iD(t._queryParams),r=t._path.toString(),i=new Ip;return this.restRequest_(r+".json",n,(s,l)=>{let u=l;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+joe(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=$u(u.responseText)}catch{Kn("Failed to parse JSON response for "+l+": "+u.responseText)}r(null,d)}else u.status!==401&&u.status!==404&&Kn("Got unsuccessful REST response for "+l+" Status: "+u.status),r(u.status);r=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){return{value:null,children:new Map}}function R4(e,t,n){if(Be(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Me(t);e.children.has(r)||e.children.set(r,Dm());const i=e.children.get(r);t=ct(t),R4(i,t,n)}}function Yb(e,t,n){e.value!==null?n(t,e.value):eue(e,(r,i)=>{const s=new st(t.toString()+"/"+r);Yb(i,s,n)})}function eue(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Wn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=10*1e3,nue=30*1e3,rue=300*1e3;class iue{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tue(t);const r=sD+(nue-sD)*Math.random();wu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Wn(t,(i,s)=>{s>0&&pa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),wu(this.reportStats_.bind(this),Math.floor(Math.random()*2*rue))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Xr||(Xr={}));function I4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function DS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function PS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Xr.ACK_USER_WRITE,this.source=I4()}operationForChild(t){if(Be(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new st(t));return new Pm(Ke(),n,this.revert)}}else return ce(Me(this.path)===t,"operationForChild called for unrelated child."),new Pm(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,n){this.source=t,this.path=n,this.type=Xr.LISTEN_COMPLETE}operationForChild(t){return Be(this.path)?new Qu(this.source,Ke()):new Qu(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Xr.OVERWRITE}operationForChild(t){return Be(this.path)?new no(this.source,Ke(),this.snap.getImmediateChild(t)):new no(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Xr.MERGE}operationForChild(t){if(Be(this.path)){const n=this.children.subtree(new st(t));return n.isEmpty()?null:n.value?new no(this.source,Ke(),n.value):new Zu(this.source,Ke(),n)}else return ce(Me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Zu(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Be(t))return this.isFullyInitialized()&&!this.filtered_;const n=Me(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sue(e,t,n,r){const i=[],s=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(Xce(l.childName,l.snapshotNode))}),lu(e,i,"child_removed",t,r,n),lu(e,i,"child_added",t,r,n),lu(e,i,"child_moved",s,r,n),lu(e,i,"child_changed",t,r,n),lu(e,i,"value",t,r,n),i}function lu(e,t,n,r,i,s){const l=r.filter(u=>u.type===n);l.sort((u,d)=>lue(e,u,d)),l.forEach(u=>{const d=oue(e,u,s);i.forEach(h=>{h.respondsTo(u.type)&&t.push(h.createEvent(d,e.query_))})})}function oue(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function lue(e,t,n){if(t.childName==null||n.childName==null)throw Wl("Should only compare child_ events.");const r=new Re(t.childName,t.snapshotNode),i=new Re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(e,t){return{eventCache:e,serverCache:t}}function Su(e,t,n,r){return zp(new ro(t,n,r),e.serverCache)}function L4(e,t,n,r){return zp(e.eventCache,new ro(t,n,r))}function Kb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function io(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bx;const cue=()=>(bx||(bx=new Gn(Kle)),bx);class ft{constructor(t,n=cue()){this.value=t,this.children=n}static fromObject(t){let n=new ft(null);return Wn(t,(r,i)=>{n=n.set(new st(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Ke(),value:this.value};if(Be(t))return null;{const r=Me(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ct(t),n);return s!=null?{path:Ut(new st(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Be(t))return this;{const n=Me(t),r=this.children.get(n);return r!==null?r.subtree(ct(t)):new ft(null)}}set(t,n){if(Be(t))return new ft(n,this.children);{const r=Me(t),s=(this.children.get(r)||new ft(null)).set(ct(t),n),l=this.children.insert(r,s);return new ft(this.value,l)}}remove(t){if(Be(t))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=Me(t),r=this.children.get(n);if(r){const i=r.remove(ct(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(t){if(Be(t))return this.value;{const n=Me(t),r=this.children.get(n);return r?r.get(ct(t)):null}}setTree(t,n){if(Be(t))return n;{const r=Me(t),s=(this.children.get(r)||new ft(null)).setTree(ct(t),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new ft(this.value,l)}}fold(t){return this.fold_(Ke(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ut(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Ke(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Be(t))return null;{const s=Me(t),l=this.children.get(s);return l?l.findOnPath_(ct(t),Ut(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Ke(),n)}foreachOnPath_(t,n,r){if(Be(t))return this;{this.value&&r(n,this.value);const i=Me(t),s=this.children.get(i);return s?s.foreachOnPath_(ct(t),Ut(n,i),r):new ft(null)}}foreach(t){this.foreach_(Ke(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ut(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.writeTree_=t}static empty(){return new Qr(new ft(null))}}function _u(e,t,n){if(Be(t))return new Qr(new ft(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const l=qn(i,t);return s=s.updateChild(l,n),new Qr(e.writeTree_.set(i,s))}else{const i=new ft(n),s=e.writeTree_.setTree(t,i);return new Qr(s)}}}function oD(e,t,n){let r=e;return Wn(n,(i,s)=>{r=_u(r,Ut(t,i),s)}),r}function lD(e,t){if(Be(t))return Qr.empty();{const n=e.writeTree_.setTree(t,new ft(null));return new Qr(n)}}function Wb(e,t){return ho(e,t)!=null}function ho(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(qn(n.path,t)):null}function cD(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Et,(r,i)=>{t.push(new Re(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Re(r,i.value))}),t}function Wa(e,t){if(Be(t))return e;{const n=ho(e,t);return n!=null?new Qr(new ft(n)):new Qr(e.writeTree_.subtree(t))}}function Xb(e){return e.writeTree_.isEmpty()}function kl(e,t){return B4(Ke(),e.writeTree_,t)}function B4(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(ce(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=B4(Ut(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ut(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(e,t){return F4(t,e)}function uue(e,t,n,r,i){ce(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_u(e.visibleWrites,t,n)),e.lastWriteId=r}function due(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function fue(e,t){const n=e.allWrites.findIndex(u=>u.writeId===t);ce(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=n&&hue(u,r.path)?i=!1:Wr(r.path,u.path)&&(s=!0)),l--}if(i){if(s)return mue(e),!0;if(r.snap)e.visibleWrites=lD(e.visibleWrites,r.path);else{const u=r.children;Wn(u,d=>{e.visibleWrites=lD(e.visibleWrites,Ut(r.path,d))})}return!0}else return!1}function hue(e,t){if(e.snap)return Wr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wr(Ut(e.path,n),t))return!0;return!1}function mue(e){e.visibleWrites=z4(e.allWrites,pue,Ke()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function pue(e){return e.visible}function z4(e,t,n){let r=Qr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const l=s.path;let u;if(s.snap)Wr(n,l)?(u=qn(n,l),r=_u(r,u,s.snap)):Wr(l,n)&&(u=qn(l,n),r=_u(r,Ke(),s.snap.getChild(u)));else if(s.children){if(Wr(n,l))u=qn(n,l),r=oD(r,u,s.children);else if(Wr(l,n))if(u=qn(l,n),Be(u))r=oD(r,Ke(),s.children);else{const d=Tl(s.children,Me(u));if(d){const h=d.getChild(ct(u));r=_u(r,Ke(),h)}}}else throw Wl("WriteRecord should have .snap or .children")}}return r}function U4(e,t,n,r,i){if(!r&&!i){const s=ho(e.visibleWrites,t);if(s!=null)return s;{const l=Wa(e.visibleWrites,t);if(Xb(l))return n;if(n==null&&!Wb(l,Ke()))return null;{const u=n||Te.EMPTY_NODE;return kl(l,u)}}}else{const s=Wa(e.visibleWrites,t);if(!i&&Xb(s))return n;if(!i&&n==null&&!Wb(s,Ke()))return null;{const l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(Wr(h.path,t)||Wr(t,h.path))},u=z4(e.allWrites,l,t),d=n||Te.EMPTY_NODE;return kl(u,d)}}}function gue(e,t,n){let r=Te.EMPTY_NODE;const i=ho(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Et,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=Wa(e.visibleWrites,t);return n.forEachChild(Et,(l,u)=>{const d=kl(Wa(s,new st(l)),u);r=r.updateImmediateChild(l,d)}),cD(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=Wa(e.visibleWrites,t);return cD(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function vue(e,t,n,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ut(t,n);if(Wb(e.visibleWrites,s))return null;{const l=Wa(e.visibleWrites,s);return Xb(l)?i.getChild(n):kl(l,i.getChild(n))}}function yue(e,t,n,r){const i=Ut(t,n),s=ho(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=Wa(e.visibleWrites,i);return kl(l,r.getNode().getImmediateChild(n))}else return null}function xue(e,t){return ho(e.visibleWrites,t)}function bue(e,t,n,r,i,s,l){let u;const d=Wa(e.visibleWrites,t),h=ho(d,Ke());if(h!=null)u=h;else if(n!=null)u=kl(d,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const p=[],g=l.getCompare(),v=s?u.getReverseIteratorFrom(r,l):u.getIteratorFrom(r,l);let x=v.getNext();for(;x&&p.length<i;)g(x,r)!==0&&p.push(x),x=v.getNext();return p}else return[]}function wue(){return{visibleWrites:Qr.empty(),allWrites:[],lastWriteId:-1}}function Mm(e,t,n,r){return U4(e.writeTree,e.treePath,t,n,r)}function RS(e,t){return gue(e.writeTree,e.treePath,t)}function uD(e,t,n,r){return vue(e.writeTree,e.treePath,t,n,r)}function Rm(e,t){return xue(e.writeTree,Ut(e.treePath,t))}function Sue(e,t,n,r,i,s){return bue(e.writeTree,e.treePath,t,n,r,i,s)}function IS(e,t,n){return yue(e.writeTree,e.treePath,t,n)}function V4(e,t){return F4(Ut(e.treePath,t),e.writeTree)}function F4(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Wu(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ku(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ol(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Wu(r,t.snapshotNode,i.oldSnap));else throw Wl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const H4=new Eue;class LS{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ro(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IS(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:io(this.viewCache_),s=Sue(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(e){return{filter:e}}function Cue(e,t){ce(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ce(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Nue(e,t,n,r,i){const s=new _ue;let l,u;if(n.type===Xr.OVERWRITE){const h=n;h.source.fromUser?l=Qb(e,t,h.path,h.snap,r,i,s):(ce(h.source.fromServer,"Unknown source."),u=h.source.tagged||t.serverCache.isFiltered()&&!Be(h.path),l=Im(e,t,h.path,h.snap,r,i,u,s))}else if(n.type===Xr.MERGE){const h=n;h.source.fromUser?l=Aue(e,t,h.path,h.children,r,i,s):(ce(h.source.fromServer,"Unknown source."),u=h.source.tagged||t.serverCache.isFiltered(),l=Zb(e,t,h.path,h.children,r,i,u,s))}else if(n.type===Xr.ACK_USER_WRITE){const h=n;h.revert?l=Due(e,t,h.path,r,i,s):l=Oue(e,t,h.path,h.affectedTree,r,i,s)}else if(n.type===Xr.LISTEN_COMPLETE)l=kue(e,t,n.path,r,s);else throw Wl("Unknown operation type: "+n.type);const d=s.getChanges();return Tue(t,l,d),{viewCache:l,changes:d}}function Tue(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Kb(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(M4(Kb(t)))}}function $4(e,t,n,r,i,s){const l=t.eventCache;if(Rm(r,n)!=null)return t;{let u,d;if(Be(n))if(ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=io(t),p=h instanceof Te?h:Te.EMPTY_NODE,g=RS(r,p);u=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{const h=Mm(r,io(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const h=Me(n);if(h===".priority"){ce(es(n)===1,"Can't have a priority with additional path components");const p=l.getNode();d=t.serverCache.getNode();const g=uD(r,n,p,d);g!=null?u=e.filter.updatePriority(p,g):u=l.getNode()}else{const p=ct(n);let g;if(l.isCompleteForChild(h)){d=t.serverCache.getNode();const v=uD(r,n,l.getNode(),d);v!=null?g=l.getNode().getImmediateChild(h).updateChild(p,v):g=l.getNode().getImmediateChild(h)}else g=IS(r,h,t.serverCache);g!=null?u=e.filter.updateChild(l.getNode(),h,g,p,i,s):u=l.getNode()}}return Su(t,u,l.isFullyInitialized()||Be(n),e.filter.filtersNodes())}}function Im(e,t,n,r,i,s,l,u){const d=t.serverCache;let h;const p=l?e.filter:e.filter.getIndexedFilter();if(Be(n))h=p.updateFullNode(d.getNode(),r,null);else if(p.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(n,r);h=p.updateFullNode(d.getNode(),x,null)}else{const x=Me(n);if(!d.isCompleteForPath(n)&&es(n)>1)return t;const S=ct(n),E=d.getNode().getImmediateChild(x).updateChild(S,r);x===".priority"?h=p.updatePriority(d.getNode(),E):h=p.updateChild(d.getNode(),x,E,S,H4,null)}const g=L4(t,h,d.isFullyInitialized()||Be(n),p.filtersNodes()),v=new LS(i,g,s);return $4(e,g,n,i,v,u)}function Qb(e,t,n,r,i,s,l){const u=t.eventCache;let d,h;const p=new LS(i,t,s);if(Be(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,l),d=Su(t,h,!0,e.filter.filtersNodes());else{const g=Me(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),d=Su(t,h,u.isFullyInitialized(),u.isFiltered());else{const v=ct(n),x=u.getNode().getImmediateChild(g);let S;if(Be(v))S=r;else{const _=p.getCompleteChild(g);_!=null?j4(v)===".priority"&&_.getChild(N4(v)).isEmpty()?S=_:S=_.updateChild(v,r):S=Te.EMPTY_NODE}if(x.equals(S))d=t;else{const _=e.filter.updateChild(u.getNode(),g,S,v,p,l);d=Su(t,_,u.isFullyInitialized(),e.filter.filtersNodes())}}}return d}function dD(e,t){return e.eventCache.isCompleteForChild(t)}function Aue(e,t,n,r,i,s,l){let u=t;return r.foreach((d,h)=>{const p=Ut(n,d);dD(t,Me(p))&&(u=Qb(e,u,p,h,i,s,l))}),r.foreach((d,h)=>{const p=Ut(n,d);dD(t,Me(p))||(u=Qb(e,u,p,h,i,s,l))}),u}function fD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Zb(e,t,n,r,i,s,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,h;Be(n)?h=r:h=new ft(null).setTree(n,r);const p=t.serverCache.getNode();return h.children.inorderTraversal((g,v)=>{if(p.hasChild(g)){const x=t.serverCache.getNode().getImmediateChild(g),S=fD(e,x,v);d=Im(e,d,new st(g),S,i,s,l,u)}}),h.children.inorderTraversal((g,v)=>{const x=!t.serverCache.isCompleteForChild(g)&&v.value===null;if(!p.hasChild(g)&&!x){const S=t.serverCache.getNode().getImmediateChild(g),_=fD(e,S,v);d=Im(e,d,new st(g),_,i,s,l,u)}}),d}function Oue(e,t,n,r,i,s,l){if(Rm(i,n)!=null)return t;const u=t.serverCache.isFiltered(),d=t.serverCache;if(r.value!=null){if(Be(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Im(e,t,n,d.getNode().getChild(n),i,s,u,l);if(Be(n)){let h=new ft(null);return d.getNode().forEachChild(gl,(p,g)=>{h=h.set(new st(p),g)}),Zb(e,t,n,h,i,s,u,l)}else return t}else{let h=new ft(null);return r.foreach((p,g)=>{const v=Ut(n,p);d.isCompleteForPath(v)&&(h=h.set(p,d.getNode().getChild(v)))}),Zb(e,t,n,h,i,s,u,l)}}function kue(e,t,n,r,i){const s=t.serverCache,l=L4(t,s.getNode(),s.isFullyInitialized()||Be(n),s.isFiltered());return $4(e,l,n,r,H4,i)}function Due(e,t,n,r,i,s){let l;if(Rm(r,n)!=null)return t;{const u=new LS(r,t,i),d=t.eventCache.getNode();let h;if(Be(n)||Me(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=Mm(r,io(t));else{const g=t.serverCache.getNode();ce(g instanceof Te,"serverChildren would be complete if leaf node"),p=RS(r,g)}p=p,h=e.filter.updateFullNode(d,p,s)}else{const p=Me(n);let g=IS(r,p,t.serverCache);g==null&&t.serverCache.isCompleteForChild(p)&&(g=d.getImmediateChild(p)),g!=null?h=e.filter.updateChild(d,p,g,ct(n),u,s):t.eventCache.getNode().hasChild(p)?h=e.filter.updateChild(d,p,Te.EMPTY_NODE,ct(n),u,s):h=d,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=Mm(r,io(t)),l.isLeafNode()&&(h=e.filter.updateFullNode(h,l,s)))}return l=t.serverCache.isFullyInitialized()||Rm(r,Ke())!=null,Su(t,h,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new OS(r.getIndex()),s=Zce(r);this.processor_=jue(s);const l=n.serverCache,u=n.eventCache,d=i.updateFullNode(Te.EMPTY_NODE,l.getNode(),null),h=s.updateFullNode(Te.EMPTY_NODE,u.getNode(),null),p=new ro(d,l.isFullyInitialized(),i.filtersNodes()),g=new ro(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=zp(g,p),this.eventGenerator_=new aue(this.query_)}get query(){return this.query_}}function Mue(e){return e.viewCache_.serverCache.getNode()}function Rue(e,t){const n=io(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Be(t)&&!n.getImmediateChild(Me(t)).isEmpty())?n.getChild(t):null}function hD(e){return e.eventRegistrations_.length===0}function Iue(e,t){e.eventRegistrations_.push(t)}function mD(e,t,n){const r=[];if(n){ce(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,i);l&&r.push(l)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const l=e.eventRegistrations_[s];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function pD(e,t,n,r){t.type===Xr.MERGE&&t.source.queryId!==null&&(ce(io(e.viewCache_),"We should always have a full cache before handling merges"),ce(Kb(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Nue(e.processor_,i,t,n,r);return Cue(e.processor_,s.viewCache),ce(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,q4(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Lue(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Et,(s,l)=>{r.push(Ol(s,l))}),n.isFullyInitialized()&&r.push(M4(n.getNode())),q4(e,r,n.getNode(),t)}function q4(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return sue(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm;class Bue{constructor(){this.views=new Map}}function zue(e){ce(!Lm,"__referenceConstructor has already been defined"),Lm=e}function Uue(){return ce(Lm,"Reference.ts has not been loaded"),Lm}function Vue(e){return e.views.size===0}function BS(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return ce(s!=null,"SyncTree gave us an op for an invalid query."),pD(s,t,n,r)}else{let s=[];for(const l of e.views.values())s=s.concat(pD(l,t,n,r));return s}}function Fue(e,t,n,r,i){const s=t._queryIdentifier,l=e.views.get(s);if(!l){let u=Mm(n,i?r:null),d=!1;u?d=!0:r instanceof Te?(u=RS(n,r),d=!1):(u=Te.EMPTY_NODE,d=!1);const h=zp(new ro(u,d,!1),new ro(r,i,!1));return new Pue(t,h)}return l}function Hue(e,t,n,r,i,s){const l=Fue(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),Iue(l,n),Lue(l,n)}function $ue(e,t,n,r){const i=t._queryIdentifier,s=[];let l=[];const u=ts(e);if(i==="default")for(const[d,h]of e.views.entries())l=l.concat(mD(h,n,r)),hD(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||s.push(h.query));else{const d=e.views.get(i);d&&(l=l.concat(mD(d,n,r)),hD(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||s.push(d.query)))}return u&&!ts(e)&&s.push(new(Uue())(t._repo,t._path)),{removed:s,events:l}}function G4(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function vl(e,t){let n=null;for(const r of e.views.values())n=n||Rue(r,t);return n}function Y4(e,t){if(t._queryParams.loadsAllData())return Up(e);{const r=t._queryIdentifier;return e.views.get(r)}}function K4(e,t){return Y4(e,t)!=null}function ts(e){return Up(e)!=null}function Up(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm;function que(e){ce(!Bm,"__referenceConstructor has already been defined"),Bm=e}function Gue(){return ce(Bm,"Reference.ts has not been loaded"),Bm}let Yue=1;class gD{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ft(null),this.pendingWriteTree_=wue(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function W4(e,t,n,r,i){return uue(e.pendingWriteTree_,t,n,r,i),i?jd(e,new no(I4(),t,n)):[]}function Fs(e,t,n=!1){const r=due(e.pendingWriteTree_,t);if(fue(e.pendingWriteTree_,t)){let s=new ft(null);return r.snap!=null?s=s.set(Ke(),!0):Wn(r.children,l=>{s=s.set(new st(l),!0)}),jd(e,new Pm(r.path,s,n))}else return[]}function Vp(e,t,n){return jd(e,new no(DS(),t,n))}function Kue(e,t,n){const r=ft.fromObject(n);return jd(e,new Zu(DS(),t,r))}function Wue(e,t){return jd(e,new Qu(DS(),t))}function Xue(e,t,n){const r=US(e,n);if(r){const i=VS(r),s=i.path,l=i.queryId,u=qn(s,t),d=new Qu(PS(l),u);return FS(e,s,d)}else return[]}function Jb(e,t,n,r,i=!1){const s=t._path,l=e.syncPointTree_.get(s);let u=[];if(l&&(t._queryIdentifier==="default"||K4(l,t))){const d=$ue(l,t,n,r);Vue(l)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const h=d.removed;if(u=d.events,!i){const p=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=e.syncPointTree_.findOnPath(s,(v,x)=>ts(x));if(p&&!g){const v=e.syncPointTree_.subtree(s);if(!v.isEmpty()){const x=Jue(v);for(let S=0;S<x.length;++S){const _=x[S],E=_.query,j=Z4(e,_);e.listenProvider_.startListening(Eu(E),zm(e,E),j.hashFn,j.onComplete)}}}!g&&h.length>0&&!r&&(p?e.listenProvider_.stopListening(Eu(t),null):h.forEach(v=>{const x=e.queryToTagMap.get(Fp(v));e.listenProvider_.stopListening(Eu(v),x)}))}ede(e,h)}return u}function Que(e,t,n,r){const i=US(e,r);if(i!=null){const s=VS(i),l=s.path,u=s.queryId,d=qn(l,t),h=new no(PS(u),d,n);return FS(e,l,h)}else return[]}function Zue(e,t,n,r){const i=US(e,r);if(i){const s=VS(i),l=s.path,u=s.queryId,d=qn(l,t),h=ft.fromObject(n),p=new Zu(PS(u),d,h);return FS(e,l,p)}else return[]}function vD(e,t,n,r=!1){const i=t._path;let s=null,l=!1;e.syncPointTree_.foreachOnPath(i,(v,x)=>{const S=qn(v,i);s=s||vl(x,S),l=l||ts(x)});let u=e.syncPointTree_.get(i);u?(l=l||ts(u),s=s||vl(u,Ke())):(u=new Bue,e.syncPointTree_=e.syncPointTree_.set(i,u));let d;s!=null?d=!0:(d=!1,s=Te.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((x,S)=>{const _=vl(S,Ke());_&&(s=s.updateImmediateChild(x,_))}));const h=K4(u,t);if(!h&&!t._queryParams.loadsAllData()){const v=Fp(t);ce(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=tde();e.queryToTagMap.set(v,x),e.tagToQueryMap.set(x,v)}const p=MS(e.pendingWriteTree_,i);let g=Hue(u,t,n,p,s,d);if(!h&&!l&&!r){const v=Y4(u,t);g=g.concat(nde(e,t,v))}return g}function zS(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(l,u)=>{const d=qn(l,t),h=vl(u,d);if(h)return h});return U4(i,t,s,n,!0)}function jd(e,t){return X4(t,e.syncPointTree_,null,MS(e.pendingWriteTree_,Ke()))}function X4(e,t,n,r){if(Be(e.path))return Q4(e,t,n,r);{const i=t.get(Ke());n==null&&i!=null&&(n=vl(i,Ke()));let s=[];const l=Me(e.path),u=e.operationForChild(l),d=t.children.get(l);if(d&&u){const h=n?n.getImmediateChild(l):null,p=V4(r,l);s=s.concat(X4(u,d,h,p))}return i&&(s=s.concat(BS(i,e,r,n))),s}}function Q4(e,t,n,r){const i=t.get(Ke());n==null&&i!=null&&(n=vl(i,Ke()));let s=[];return t.children.inorderTraversal((l,u)=>{const d=n?n.getImmediateChild(l):null,h=V4(r,l),p=e.operationForChild(l);p&&(s=s.concat(Q4(p,u,d,h)))}),i&&(s=s.concat(BS(i,e,r,n))),s}function Z4(e,t){const n=t.query,r=zm(e,n);return{hashFn:()=>(Mue(t)||Te.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Xue(e,n._path,r):Wue(e,n._path);{const s=Qle(i,n);return Jb(e,n,null,s)}}}}function zm(e,t){const n=Fp(t);return e.queryToTagMap.get(n)}function Fp(e){return e._path.toString()+"$"+e._queryIdentifier}function US(e,t){return e.tagToQueryMap.get(t)}function VS(e){const t=e.indexOf("$");return ce(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new st(e.substr(0,t))}}function FS(e,t,n){const r=e.syncPointTree_.get(t);ce(r,"Missing sync point for query tag that we're tracking");const i=MS(e.pendingWriteTree_,t);return BS(r,n,i,null)}function Jue(e){return e.fold((t,n,r)=>{if(n&&ts(n))return[Up(n)];{let i=[];return n&&(i=G4(n)),Wn(r,(s,l)=>{i=i.concat(l)}),i}})}function Eu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Gue())(e._repo,e._path):e}function ede(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Fp(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function tde(){return Yue++}function nde(e,t,n){const r=t._path,i=zm(e,t),s=Z4(e,n),l=e.listenProvider_.startListening(Eu(t),i,s.hashFn,s.onComplete),u=e.syncPointTree_.subtree(r);if(i)ce(!ts(u.value),"If we're adding a query, it shouldn't be shadowed");else{const d=u.fold((h,p,g)=>{if(!Be(h)&&p&&ts(p))return[Up(p).query];{let v=[];return p&&(v=v.concat(G4(p).map(x=>x.query))),Wn(g,(x,S)=>{v=v.concat(S)}),v}});for(let h=0;h<d.length;++h){const p=d[h];e.listenProvider_.stopListening(Eu(p),zm(e,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new HS(n)}node(){return this.node_}}class $S{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ut(this.path_,t);return new $S(this.syncTree_,n)}node(){return zS(this.syncTree_,this.path_)}}const rde=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},yD=function(e,t,n){if(!e||typeof e!="object")return e;if(ce(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return ide(e[".sv"],t,n);if(typeof e[".sv"]=="object")return ade(e[".sv"],t);ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},ide=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+e)}},ade=function(e,t,n){e.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=t.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},sde=function(e,t,n,r){return qS(t,new $S(n,e),r)},J4=function(e,t,n){return qS(e,new HS(t),n)};function qS(e,t,n){const r=e.getPriority().val(),i=yD(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const l=e,u=yD(l.getValue(),t,n);return u!==l.getValue()||i!==l.getPriority().val()?new Qt(u,gn(i)):e}else{const l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Qt(i))),l.forEachChild(Et,(u,d)=>{const h=qS(d,t.getImmediateChild(u),n);h!==d&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function YS(e,t){let n=t instanceof st?t:new st(t),r=e,i=Me(n);for(;i!==null;){const s=Tl(r.node.children,i)||{children:{},childCount:0};r=new GS(i,r,s),n=ct(n),i=Me(n)}return r}function Jl(e){return e.node.value}function e6(e,t){e.node.value=t,ew(e)}function t6(e){return e.node.childCount>0}function ode(e){return Jl(e)===void 0&&!t6(e)}function Hp(e,t){Wn(e.node.children,(n,r)=>{t(new GS(n,e,r))})}function n6(e,t,n,r){n&&t(e),Hp(e,i=>{n6(i,t,!0)})}function lde(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Cd(e){return new st(e.parent===null?e.name:Cd(e.parent)+"/"+e.name)}function ew(e){e.parent!==null&&cde(e.parent,e.name,e)}function cde(e,t,n){const r=ode(n),i=pa(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ew(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,ew(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude=/[\[\].#$\/\u0000-\u001F\u007F]/,dde=/[\[\].#$\u0000-\u001F\u007F]/,wx=10*1024*1024,r6=function(e){return typeof e=="string"&&e.length!==0&&!ude.test(e)},i6=function(e){return typeof e=="string"&&e.length!==0&&!dde.test(e)},fde=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),i6(e)},a6=function(e,t,n,r){r&&t===void 0||KS(wS(e,"value"),t,n)},KS=function(e,t,n){const r=n instanceof st?new Oce(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Rs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Rs(r)+" with contents = "+t.toString());if(i4(t))throw new Error(e+"contains "+t.toString()+" "+Rs(r));if(typeof t=="string"&&t.length>wx/3&&Lp(t)>wx)throw new Error(e+"contains a string greater than "+wx+" utf8 bytes "+Rs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Wn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!r6(l)))throw new Error(e+" contains an invalid key ("+l+") "+Rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kce(r,l),KS(e,u,r),Dce(r)}),i&&s)throw new Error(e+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},s6=function(e,t,n,r){if(!i6(n))throw new Error(wS(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},hde=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),s6(e,t,n)},o6=function(e,t){if(Me(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},mde=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!r6(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fde(n))throw new Error(wS(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WS(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!NS(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function l6(e,t,n){WS(e,n),c6(e,r=>NS(r,t))}function aa(e,t,n){WS(e,n),c6(e,r=>Wr(r,t)||Wr(t,r))}function c6(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(gde(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function gde(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();bu&&_n("event: "+n.toString()),Zl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vde="repo_interrupt",yde=25;class xde{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pde,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dm(),this.transactionQueueTree_=new GS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bde(e,t,n){if(e.stats_=jS(e.repoInfo_),e.forceRestClient_||tce())e.server_=new km(e.repoInfo_,(r,i,s,l)=>{xD(e,r,i,s,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>bD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ki(e.repoInfo_,t,(r,i,s,l)=>{xD(e,r,i,s,l)},r=>{bD(e,r)},r=>{wde(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=sce(e.repoInfo_,()=>new iue(e.stats_,e.server_)),e.infoData_=new Jce,e.infoSyncTree_=new gD({startListening:(r,i,s,l)=>{let u=[];const d=e.infoData_.getNode(r._path);return d.isEmpty()||(u=Vp(e.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),QS(e,"connected",!1),e.serverSyncTree_=new gD({startListening:(r,i,s,l)=>(e.server_.listen(r,s,i,(u,d)=>{const h=l(u,d);aa(e.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function u6(e){const n=e.infoData_.getNode(new st(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function XS(e){return rde({timestamp:u6(e)})}function xD(e,t,n,r,i){e.dataUpdateCount++;const s=new st(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let l=[];if(i)if(r){const d=jm(n,h=>gn(h));l=Zue(e.serverSyncTree_,s,d,i)}else{const d=gn(n);l=Que(e.serverSyncTree_,s,d,i)}else if(r){const d=jm(n,h=>gn(h));l=Kue(e.serverSyncTree_,s,d)}else{const d=gn(n);l=Vp(e.serverSyncTree_,s,d)}let u=s;l.length>0&&(u=$p(e,s)),aa(e.eventQueue_,u,l)}function bD(e,t){QS(e,"connected",t),t===!1&&_de(e)}function wde(e,t){Wn(t,(n,r)=>{QS(e,n,r)})}function QS(e,t,n){const r=new st("/.info/"+t),i=gn(n);e.infoData_.updateSnapshot(r,i);const s=Vp(e.infoSyncTree_,r,i);aa(e.eventQueue_,r,s)}function d6(e){return e.nextWriteId_++}function Sde(e,t,n,r,i){ZS(e,"set",{path:t.toString(),value:n,priority:r});const s=XS(e),l=gn(n,r),u=zS(e.serverSyncTree_,t),d=J4(l,u,s),h=d6(e),p=W4(e.serverSyncTree_,t,d,h,!0);WS(e.eventQueue_,p),e.server_.put(t.toString(),l.val(!0),(v,x)=>{const S=v==="ok";S||Kn("set at "+t+" failed: "+v);const _=Fs(e.serverSyncTree_,h,!S);aa(e.eventQueue_,t,_),Cde(e,i,v,x)});const g=v6(e,t);$p(e,g),aa(e.eventQueue_,g,[])}function _de(e){ZS(e,"onDisconnectEvents");const t=XS(e),n=Dm();Yb(e.onDisconnect_,Ke(),(i,s)=>{const l=sde(i,s,e.serverSyncTree_,t);R4(n,i,l)});let r=[];Yb(n,Ke(),(i,s)=>{r=r.concat(Vp(e.serverSyncTree_,i,s));const l=v6(e,i);$p(e,l)}),e.onDisconnect_=Dm(),aa(e.eventQueue_,Ke(),r)}function Ede(e,t,n){let r;Me(t._path)===".info"?r=vD(e.infoSyncTree_,t,n):r=vD(e.serverSyncTree_,t,n),l6(e.eventQueue_,t._path,r)}function f6(e,t,n){let r;Me(t._path)===".info"?r=Jb(e.infoSyncTree_,t,n):r=Jb(e.serverSyncTree_,t,n),l6(e.eventQueue_,t._path,r)}function jde(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vde)}function ZS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),_n(n,...t)}function Cde(e,t,n,r){t&&Zl(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,t(l)}})}function h6(e,t,n){return zS(e.serverSyncTree_,t,n)||Te.EMPTY_NODE}function JS(e,t=e.transactionQueueTree_){if(t||qp(e,t),Jl(t)){const n=p6(e,t);ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Nde(e,Cd(t),n)}else t6(t)&&Hp(t,n=>{JS(e,n)})}function Nde(e,t,n){const r=n.map(h=>h.currentWriteId),i=h6(e,t,r);let s=i;const l=i.hash();for(let h=0;h<n.length;h++){const p=n[h];ce(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=qn(t,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const u=s.val(!0),d=t;e.server_.put(d.toString(),u,h=>{ZS(e,"transaction put response",{path:d.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Fs(e.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();qp(e,YS(e.transactionQueueTree_,t)),JS(e,e.transactionQueueTree_),aa(e.eventQueue_,t,p);for(let v=0;v<g.length;v++)Zl(g[v])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Kn("transaction at "+d.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}$p(e,t)}},l)}function $p(e,t){const n=m6(e,t),r=Cd(n),i=p6(e,n);return Tde(e,i,r),r}function Tde(e,t,n){if(t.length===0)return;const r=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const d=t[u],h=qn(n,d.path);let p=!1,g;if(ce(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,g=d.abortReason,i=i.concat(Fs(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=yde)p=!0,g="maxretry",i=i.concat(Fs(e.serverSyncTree_,d.currentWriteId,!0));else{const v=h6(e,d.path,l);d.currentInputSnapshot=v;const x=t[u].update(v.val());if(x!==void 0){KS("transaction failed: Data returned ",x,d.path);let S=gn(x);typeof x=="object"&&x!=null&&pa(x,".priority")||(S=S.updatePriority(v.getPriority()));const E=d.currentWriteId,j=XS(e),A=J4(S,v,j);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=A,d.currentWriteId=d6(e),l.splice(l.indexOf(E),1),i=i.concat(W4(e.serverSyncTree_,d.path,A,d.currentWriteId,d.applyLocally)),i=i.concat(Fs(e.serverSyncTree_,E,!0))}else p=!0,g="nodata",i=i.concat(Fs(e.serverSyncTree_,d.currentWriteId,!0))}aa(e.eventQueue_,n,i),i=[],p&&(t[u].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[u].unwatcher),t[u].onComplete&&(g==="nodata"?r.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):r.push(()=>t[u].onComplete(new Error(g),!1,null))))}qp(e,e.transactionQueueTree_);for(let u=0;u<r.length;u++)Zl(r[u]);JS(e,e.transactionQueueTree_)}function m6(e,t){let n,r=e.transactionQueueTree_;for(n=Me(t);n!==null&&Jl(r)===void 0;)r=YS(r,n),t=ct(t),n=Me(t);return r}function p6(e,t){const n=[];return g6(e,t,n),n.sort((r,i)=>r.order-i.order),n}function g6(e,t,n){const r=Jl(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Hp(t,i=>{g6(e,i,n)})}function qp(e,t){const n=Jl(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,e6(t,n.length>0?n:void 0)}Hp(t,r=>{qp(e,r)})}function v6(e,t){const n=Cd(m6(e,t)),r=YS(e.transactionQueueTree_,t);return lde(r,i=>{Sx(e,i)}),Sx(e,r),n6(r,i=>{Sx(e,i)}),n}function Sx(e,t){const n=Jl(t);if(n){const r=[];let i=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(ce(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(ce(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Fs(e.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?e6(t,void 0):n.length=s+1,aa(e.eventQueue_,Cd(t),i);for(let l=0;l<r.length;l++)Zl(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ade(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Ode(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Kn(`Invalid query segment '${n}' in query '${e}'`)}return t}const wD=function(e,t){const n=kde(e),r=n.namespace;n.domain==="firebase.com"&&ia(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ia("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Gle();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new g4(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new st(n.pathString)}},kde=function(e){let t="",n="",r="",i="",s="",l=!0,u="https",d=443;if(typeof e=="string"){let h=e.indexOf("//");h>=0&&(u=e.substring(0,h-1),e=e.substring(h+2));let p=e.indexOf("/");p===-1&&(p=e.length);let g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=Ade(e.substring(p,g)));const v=Ode(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(l=u==="https"||u==="wss",d=parseInt(t.substring(h+1),10)):h=t.length;const x=t.slice(0,h);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const S=t.indexOf(".");r=t.substring(0,S).toLowerCase(),n=t.substring(S+1),s=r}"ns"in v&&(s=v.ns)}return{host:t,port:d,domain:n,subdomain:r,secure:l,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dde=(function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=SD.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let l=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=SD.charAt(t[i]);return ce(l.length===20,"nextPushId: Length should be 20."),l}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())}}class Mde{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Be(this._path)?null:j4(this._path)}get ref(){return new os(this._repo,this._path)}get _queryIdentifier(){const t=aD(this._queryParams),n=_S(t);return n==="{}"?"default":n}get _queryObject(){return aD(this._queryParams)}isEqual(t){if(t=Xl(t),!(t instanceof e_))return!1;const n=this._repo===t._repo,r=NS(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ace(this._path)}}class os extends e_{constructor(t,n){super(t,n,new kS,!1)}get parent(){const t=N4(this._path);return t===null?null:new os(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Um{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new st(t),r=Ju(this.ref,t);return new Um(this._node.getChild(n),r,Et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Um(i,Ju(this.ref,r),Et)))}hasChild(t){const n=new st(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function x6(e,t){return e=Xl(e),e._checkNotDeleted("ref"),t!==void 0?Ju(e._root,t):e._root}function Ju(e,t){return e=Xl(e),Me(e._path)===null?hde("child","path",t):s6("child","path",t),new os(e._repo,Ut(e._path,t))}function Rde(e,t){e=Xl(e),o6("push",e._path),a6("push",t,e._path,!0);const n=u6(e._repo),r=Dde(n),i=Ju(e,r),s=Ju(e,r);let l;return l=Promise.resolve(s),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function Ide(e,t){e=Xl(e),o6("set",e._path),a6("set",t,e._path,!1);const n=new Ip;return Sde(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Gp{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new Pde("value",this,new Um(t.snapshotNode,new os(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Mde(this,t,n):null}matches(t){return t instanceof Gp?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Lde(e,t,n,r,i){const s=new y6(n,void 0),l=new Gp(s);return Ede(e._repo,e,l),()=>f6(e._repo,e,l)}function Bde(e,t,n,r){return Lde(e,"value",t)}function zde(e,t,n){let r=null;const i=n?new y6(n):null;r=new Gp(i),f6(e._repo,e,r)}zue(os);que(os);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ude="FIREBASE_DATABASE_EMULATOR_HOST",tw={};let Vde=!1;function Fde(e,t,n,r){e.repoInfo_=new g4(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Hde(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||ia("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=wD(s,i),u=l.repoInfo,d;typeof process<"u"&&Vk&&(d=Vk[Ude]),d?(s=`http://${d}?ns=${u.namespace}`,l=wD(s,i),u=l.repoInfo):l.repoInfo.secure;const h=new rce(e.name,e.options,t);mde("Invalid Firebase Database URL",l),Be(l.path)||ia("Database URL must point to the root of a Firebase Database (not including a child path).");const p=qde(u,e,h,new nce(e.name,n));return new Gde(p,e)}function $de(e,t){const n=tw[t];(!n||n[e.key]!==e)&&ia(`Database ${t}(${e.repoInfo_}) has already been deleted.`),jde(e),delete n[e.key]}function qde(e,t,n,r){let i=tw[t.name];i||(i={},tw[t.name]=i);let s=i[e.toURLString()];return s&&ia("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xde(e,Vde,n,r),i[e.toURLString()]=s,s}class Gde{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bde(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new os(this._repo,Ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&($de(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ia("Cannot call "+t+" on a deleted database.")}}function Yde(e=Tle(),t){const n=Ele(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=hoe("database");r&&Kde(n,...r)}return n}function Kde(e,t,n,r={}){e=Xl(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&ia("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ia('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Sh(Sh.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:moe(r.mockUserToken,e.app.options.projectId);s=new Sh(l)}Fde(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wde(e){Ule(Nle),Nm(new qu("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Hde(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ml(Fk,Hk,e),ml(Fk,Hk,"esm2017")}Ki.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ki.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Wde();let hh=null;function t_(){if(hh)return hh;const e={apiKey:"AIzaSyBrO6eP7X5JQml6eSx9GXgG9xIbyuZ3G2s",authDomain:"sims-41ff9.firebaseapp.com",projectId:"sims-41ff9",storageBucket:"sims-41ff9.firebasestorage.app",messagingSenderId:"1012031798746",databaseURL:"https://sims-41ff9-default-rtdb.firebaseio.com",appId:"1:1012031798746:web:88df9eb51f2ce666d194e3"};if(!e.projectId||!e.databaseURL)return console.warn("[Firebase] Missing Firebase config. Realtime disabled."),null;try{const t=Z5(e);return hh=Yde(t),console.log("[Firebase] Initialized successfully"),hh}catch(t){return console.error("[Firebase] Initialization failed:",t),null}}function Xde(e,t,n){const r=t_();if(!r)return Promise.reject(new Error("Firebase not initialized"));const i=new Date().toISOString(),s=x6(r,`channels/${e}/${t}`),l=Rde(s);return Ide(l,{...n,timestamp:i,id:l.key})}function Qde(e,t,n){const r=t_();if(!r)return()=>{};const i=x6(r,`channels/${e}/${t}`),s=l=>{if(l.exists()){const u=l.val();if(typeof u=="object"&&u!==null){const d=Object.keys(u).sort().pop();d&&n(u[d])}else n(u)}};return Bde(i,s),()=>zde(i,"value",s)}const Zde=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState([]),[i,s]=w.useState("sims-realtime"),[l,u]=w.useState("data-update"),[d,h]=w.useState('{"status":"active","lastUpdated":"now"}'),[p,g]=w.useState("Initializing..."),[v,x]=w.useState(null);w.useEffect(()=>(t_()?(t(!0),g(" Firebase Realtime Database connected")):g(" Firebase not configured. Add credentials to .env.production"),()=>{v&&v()}),[]);const S=()=>{if(!e){g("Firebase not initialized");return}v&&v();const j=Qde(i,l,A=>{r(N=>[...N.slice(-19),{event:l,data:A,timestamp:new Date().toLocaleTimeString()}])});x(()=>j),g(` Listening to "${i}"  "${l}"`)},_=async()=>{if(!e){g("Firebase not initialized");return}try{let j={};try{j=JSON.parse(d)}catch{g(" Invalid JSON payload");return}await Xde(i,l,j),g(` Published to "${i}"  "${l}"`)}catch(j){g(` Publish error: ${j.message}`)}},E=()=>r([]);return f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow p-6 space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Firebase Realtime Test"}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap break-all",children:["Status: ",p]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Channel Name"}),f.jsx("input",{type:"text",value:i,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Event Name"}),f.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"JSON Payload to Publish"}),f.jsx("textarea",{value:d,onChange:j=>h(j.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-mono text-sm"})]})]}),f.jsxs("div",{className:"flex gap-3 flex-wrap",children:[f.jsx("button",{onClick:S,disabled:!e,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded font-medium transition",children:"Subscribe"}),f.jsx("button",{onClick:_,disabled:!e,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-slate-400 text-white rounded font-medium transition",children:"Publish"}),f.jsx("button",{onClick:E,className:"px-4 py-2 bg-slate-400 hover:bg-slate-500 text-white rounded font-medium transition",children:"Clear Messages"})]}),f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded p-4 space-y-2 max-h-96 overflow-y-auto",children:[f.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white",children:["Received Messages (",n.length,"):"]}),n.length===0?f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic",children:"No messages yet..."}):n.map((j,A)=>f.jsxs("div",{className:"bg-white dark:bg-slate-700 p-2 rounded text-xs font-mono border-l-4 border-blue-500",children:[f.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:j.timestamp}),f.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["Event: ",j.event]}),f.jsx("div",{className:"text-slate-900 dark:text-white whitespace-pre-wrap break-all",children:JSON.stringify(j.data,null,2)})]},A))]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded p-3 text-sm",children:[f.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"How to Test:"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800 dark:text-blue-200",children:[f.jsxs("li",{children:["Create a Firebase project at ",f.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"https://console.firebase.google.com"})]}),f.jsx("li",{children:"Enable Realtime Database in your project"}),f.jsx("li",{children:"Get your Firebase config and add to .env.local (see instructions below)"}),f.jsx("li",{children:"Open this page in two tabs or devices"}),f.jsx("li",{children:'In Tab A: Click "Subscribe" to listen for events'}),f.jsx("li",{children:'In Tab B: Change channel/event names and click "Publish"'}),f.jsx("li",{children:"Messages appear instantly in Tab A"})]})]})]})},Jde=()=>f.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 py-12 px-4",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Firebase Realtime Testing"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Test Firebase Realtime Database publish/subscribe. Open this page in multiple tabs or devices to see messages propagate in real-time across all clients."})]}),f.jsx(Zde,{}),f.jsxs("div",{className:"mt-8 bg-slate-100 dark:bg-slate-800 rounded p-6 space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Setup Instructions"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-slate-700 dark:text-slate-300",children:[f.jsxs("li",{children:["Create a Firebase project at"," ",f.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold",children:"https://console.firebase.google.com"})]}),f.jsxs("li",{children:["In your project:",f.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[f.jsxs("li",{children:["Go to ",f.jsx("strong",{children:"Build"}),"  ",f.jsx("strong",{children:"Realtime Database"})]}),f.jsxs("li",{children:["Click ",f.jsx("strong",{children:"Create Database"})]}),f.jsxs("li",{children:["Choose location and start in ",f.jsx("strong",{children:"test mode"})," (for development)"]})]})]}),f.jsxs("li",{children:["In ",f.jsx("strong",{children:"Project Settings"}),", copy your web app config. Add to ",f.jsx("code",{className:"bg-white dark:bg-slate-900 px-2 py-1 rounded",children:".env.local"}),":",f.jsx("pre",{className:"bg-white dark:bg-slate-900 p-3 rounded mt-2 text-sm overflow-x-auto break-words whitespace-pre-wrap",children:`VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
VITE_FIREBASE_DATABASE_URL=https://your_project.firebaseio.com`})]}),f.jsxs("li",{children:["Restart dev server: ",f.jsx("code",{className:"bg-white dark:bg-slate-900 px-2 py-1 rounded",children:"npm run dev"})]}),f.jsxs("li",{children:["Open this page in multiple tabs/browsers:",f.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[f.jsx("li",{children:'In Tab A: Click "Subscribe" on a channel'}),f.jsx("li",{children:"In Tab B: Publish a message to the same channel"}),f.jsx("li",{children:"Watch Tab A receive the message in real-time "})]})]})]})]}),f.jsxs("div",{className:"mt-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded p-4",children:[f.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-300 mb-2",children:" Cross-Device Sync"}),f.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Changes made on any device are instantly visible on all other connected devices because Firebase Realtime Database syncs all clients automatically."})]})]})});function efe(){return Fi.useEffect(()=>{Us();const e=()=>Us(),t=()=>Us();window.addEventListener("online",e),window.addEventListener("focus",t);const n=setInterval(()=>Us(),6e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("focus",t),clearInterval(n)}},[]),f.jsx(AU,{children:f.jsx(UU,{children:f.jsx(HU,{children:f.jsx($U,{children:f.jsx(WU,{children:f.jsx(S9,{children:f.jsx(YU,{children:f.jsx(bU,{children:f.jsxs(Xz,{children:[f.jsx(Wt,{path:"/login",element:f.jsx(_9,{})}),f.jsx(Wt,{path:"/signup",element:f.jsx(E9,{})}),f.jsx(Wt,{path:"/complete-profile",element:f.jsx(Xse,{})}),f.jsxs(Wt,{path:"/",element:f.jsx(M0,{children:f.jsx(Kse,{})}),children:[f.jsx(Wt,{index:!0,element:f.jsx(Eh,{to:"/dashboard",replace:!0})}),f.jsx(Wt,{path:"dashboard",element:f.jsx(dse,{})}),f.jsx(Wt,{path:"leaderboard",element:f.jsx(hse,{})}),f.jsx(Wt,{path:"teams",element:f.jsx(toe,{})}),f.jsx(Wt,{path:"events",element:f.jsx(yse,{})}),f.jsx(Wt,{path:"rules",element:f.jsx(Wse,{})}),f.jsx(Wt,{path:"reports",element:f.jsx(roe,{})}),f.jsx(Wt,{path:"realtime-test",element:f.jsx(Jde,{})}),f.jsx(Wt,{path:"profile",element:f.jsx(Tk,{})}),f.jsx(Wt,{path:"profile/:userId",element:f.jsx(Tk,{})}),f.jsx(Wt,{path:"admin",element:f.jsx(M0,{roles:[ke.ADMIN],children:f.jsx(Ese,{})})}),f.jsx(Wt,{path:"admin/audit",element:f.jsx(M0,{roles:[ke.ADMIN],children:f.jsx(Ose,{})})})]}),f.jsx(Wt,{path:"*",element:f.jsx(Eh,{to:"/"})})]})})})})})})})})})}const b6=document.getElementById("root");if(!b6)throw new Error("Could not find root element to mount to");const tfe=nz.createRoot(b6);tfe.render(f.jsx(Fi.StrictMode,{children:f.jsx(efe,{})}));
