var Sz=Object.defineProperty;var _z=(e,t,n)=>t in e?Sz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var w0=(e,t,n)=>_z(e,typeof t!="symbol"?t+"":t,n);function Ez(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S0={exports:{}},eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function jz(){if(bN)return eu;bN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return eu.Fragment=t,eu.jsx=n,eu.jsxs=n,eu}var wN;function Cz(){return wN||(wN=1,S0.exports=jz()),S0.exports}var f=Cz(),_0={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function Nz(){if(SN)return Oe;SN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function j(R,G,ie){this.props=R,this.context=G,this.refs=E,this.updater=ie||w}j.prototype.isReactComponent={},j.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},j.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=j.prototype;function N(R,G,ie){this.props=R,this.context=G,this.refs=E,this.updater=ie||w}var D=N.prototype=new A;D.constructor=N,_(D,j.prototype),D.isPureReactComponent=!0;var T=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function H(R,G,ie){var ue=ie.ref;return{$$typeof:e,type:R,key:G,ref:ue!==void 0?ue:null,props:ie}}function Z(R,G){return H(R.type,G,R.props)}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function J(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return G[ie]})}var oe=/\/+/g;function de(R,G){return typeof R=="object"&&R!==null&&R.key!=null?J(""+R.key):G.toString(36)}function ae(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(G){R.status==="pending"&&(R.status="fulfilled",R.value=G)},function(G){R.status==="pending"&&(R.status="rejected",R.reason=G)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function M(R,G,ie,ue,ve){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var te=!1;if(R===null)te=!0;else switch(Ne){case"bigint":case"string":case"number":te=!0;break;case"object":switch(R.$$typeof){case e:case t:te=!0;break;case p:return te=R._init,M(te(R._payload),G,ie,ue,ve)}}if(te)return ve=ve(R),te=ue===""?"."+de(R,0):ue,T(ve)?(ie="",te!=null&&(ie=te.replace(oe,"$&/")+"/"),M(ve,G,ie,"",function(je){return je})):ve!=null&&(U(ve)&&(ve=Z(ve,ie+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(oe,"$&/")+"/")+te)),G.push(ve)),1;te=0;var ye=ue===""?".":ue+":";if(T(R))for(var W=0;W<R.length;W++)ue=R[W],Ne=ye+de(ue,W),te+=M(ue,G,ie,Ne,ve);else if(W=x(R),typeof W=="function")for(R=W.call(R),W=0;!(ue=R.next()).done;)ue=ue.value,Ne=ye+de(ue,W++),te+=M(ue,G,ie,Ne,ve);else if(Ne==="object"){if(typeof R.then=="function")return M(ae(R),G,ie,ue,ve);throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return te}function k(R,G,ie){if(R==null)return R;var ue=[],ve=0;return M(R,ue,"","",function(Ne){return G.call(ie,Ne,ve++)}),ue}function Y(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var V=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},se={map:k,forEach:function(R,G,ie){k(R,function(){G.apply(this,arguments)},ie)},count:function(R){var G=0;return k(R,function(){G++}),G},toArray:function(R){return k(R,function(G){return G})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Oe.Activity=g,Oe.Children=se,Oe.Component=j,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=N,Oe.StrictMode=r,Oe.Suspense=d,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},Oe.cache=function(R){return function(){return R.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(R,G,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ue=_({},R.props),ve=R.key;if(G!=null)for(Ne in G.key!==void 0&&(ve=""+G.key),G)!B.call(G,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&G.ref===void 0||(ue[Ne]=G[Ne]);var Ne=arguments.length-2;if(Ne===1)ue.children=ie;else if(1<Ne){for(var te=Array(Ne),ye=0;ye<Ne;ye++)te[ye]=arguments[ye+2];ue.children=te}return H(R.type,ve,ue)},Oe.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},Oe.createElement=function(R,G,ie){var ue,ve={},Ne=null;if(G!=null)for(ue in G.key!==void 0&&(Ne=""+G.key),G)B.call(G,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=G[ue]);var te=arguments.length-2;if(te===1)ve.children=ie;else if(1<te){for(var ye=Array(te),W=0;W<te;W++)ye[W]=arguments[W+2];ve.children=ye}if(R&&R.defaultProps)for(ue in te=R.defaultProps,te)ve[ue]===void 0&&(ve[ue]=te[ue]);return H(R,Ne,ve)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:u,render:R}},Oe.isValidElement=U,Oe.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:Y}},Oe.memo=function(R,G){return{$$typeof:h,type:R,compare:G===void 0?null:G}},Oe.startTransition=function(R){var G=I.T,ie={};I.T=ie;try{var ue=R(),ve=I.S;ve!==null&&ve(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(P,V)}catch(Ne){V(Ne)}finally{G!==null&&ie.types!==null&&(G.types=ie.types),I.T=G}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(R){return I.H.use(R)},Oe.useActionState=function(R,G,ie){return I.H.useActionState(R,G,ie)},Oe.useCallback=function(R,G){return I.H.useCallback(R,G)},Oe.useContext=function(R){return I.H.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R,G){return I.H.useDeferredValue(R,G)},Oe.useEffect=function(R,G){return I.H.useEffect(R,G)},Oe.useEffectEvent=function(R){return I.H.useEffectEvent(R)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(R,G,ie){return I.H.useImperativeHandle(R,G,ie)},Oe.useInsertionEffect=function(R,G){return I.H.useInsertionEffect(R,G)},Oe.useLayoutEffect=function(R,G){return I.H.useLayoutEffect(R,G)},Oe.useMemo=function(R,G){return I.H.useMemo(R,G)},Oe.useOptimistic=function(R,G){return I.H.useOptimistic(R,G)},Oe.useReducer=function(R,G,ie){return I.H.useReducer(R,G,ie)},Oe.useRef=function(R){return I.H.useRef(R)},Oe.useState=function(R){return I.H.useState(R)},Oe.useSyncExternalStore=function(R,G,ie){return I.H.useSyncExternalStore(R,G,ie)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.0",Oe}var _N;function zl(){return _N||(_N=1,_0.exports=Nz()),_0.exports}var S=zl();const yr=Ei(S),Tz=Ez({__proto__:null,default:yr},[S]);var E0={exports:{}},tu={},j0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN;function Az(){return EN||(EN=1,(function(e){function t(M,k){var Y=M.length;M.push(k);e:for(;0<Y;){var V=Y-1>>>1,se=M[V];if(0<i(se,k))M[V]=k,M[Y]=se,Y=V;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var k=M[0],Y=M.pop();if(Y!==k){M[0]=Y;e:for(var V=0,se=M.length,R=se>>>1;V<R;){var G=2*(V+1)-1,ie=M[G],ue=G+1,ve=M[ue];if(0>i(ie,Y))ue<se&&0>i(ve,ie)?(M[V]=ve,M[ue]=Y,V=ue):(M[V]=ie,M[G]=Y,V=G);else if(ue<se&&0>i(ve,Y))M[V]=ve,M[ue]=Y,V=ue;else break e}}return k}function i(M,k){var Y=M.sortIndex-k.sortIndex;return Y!==0?Y:M.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,v=3,x=!1,w=!1,_=!1,E=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(M){for(var k=n(h);k!==null;){if(k.callback===null)r(h);else if(k.startTime<=M)r(h),k.sortIndex=k.expirationTime,t(d,k);else break;k=n(h)}}function T(M){if(_=!1,D(M),!w)if(n(d)!==null)w=!0,P||(P=!0,J());else{var k=n(h);k!==null&&ae(T,k.startTime-M)}}var P=!1,I=-1,B=5,H=-1;function Z(){return E?!0:!(e.unstable_now()-H<B)}function U(){if(E=!1,P){var M=e.unstable_now();H=M;var k=!0;try{e:{w=!1,_&&(_=!1,A(I),I=-1),x=!0;var Y=v;try{t:{for(D(M),g=n(d);g!==null&&!(g.expirationTime>M&&Z());){var V=g.callback;if(typeof V=="function"){g.callback=null,v=g.priorityLevel;var se=V(g.expirationTime<=M);if(M=e.unstable_now(),typeof se=="function"){g.callback=se,D(M),k=!0;break t}g===n(d)&&r(d),D(M)}else r(d);g=n(d)}if(g!==null)k=!0;else{var R=n(h);R!==null&&ae(T,R.startTime-M),k=!1}}break e}finally{g=null,v=Y,x=!1}k=void 0}}finally{k?J():P=!1}}}var J;if(typeof N=="function")J=function(){N(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,de=oe.port2;oe.port1.onmessage=U,J=function(){de.postMessage(null)}}else J=function(){j(U,0)};function ae(M,k){I=j(function(){M(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(M){switch(v){case 1:case 2:case 3:var k=3;break;default:k=v}var Y=v;v=k;try{return M()}finally{v=Y}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=v;v=M;try{return k()}finally{v=Y}},e.unstable_scheduleCallback=function(M,k,Y){var V=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?V+Y:V):Y=V,M){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Y+se,M={id:p++,callback:k,priorityLevel:M,startTime:Y,expirationTime:se,sortIndex:-1},Y>V?(M.sortIndex=Y,t(h,M),n(d)===null&&M===n(h)&&(_?(A(I),I=-1):_=!0,ae(T,Y-V))):(M.sortIndex=se,t(d,M),w||x||(w=!0,P||(P=!0,J()))),M},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(M){var k=v;return function(){var Y=v;v=k;try{return M.apply(this,arguments)}finally{v=Y}}}})(C0)),C0}var jN;function Oz(){return jN||(jN=1,j0.exports=Az()),j0.exports}var N0={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function kz(){if(CN)return _n;CN=1;var e=zl();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,p)},_n.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},_n.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},_n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},_n.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_n.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},_n.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_n.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},_n.requestFormReset=function(d){r.d.r(d)},_n.unstable_batchedUpdates=function(d,h){return d(h)},_n.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var NN;function FP(){if(NN)return N0.exports;NN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),N0.exports=kz(),N0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TN;function Pz(){if(TN)return tu;TN=1;var e=Oz(),t=zl(),n=FP();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,m=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(m=y.return,m!==null){c=m;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return d(y),a;if(b===m)return d(y),o;b=b.sibling}throw Error(r(188))}if(c.return!==m.return)c=y,m=b;else{for(var C=!1,O=y.child;O;){if(O===c){C=!0,c=y,m=b;break}if(O===m){C=!0,m=y,c=b;break}O=O.sibling}if(!C){for(O=b.child;O;){if(O===c){C=!0,c=b,m=y;break}if(O===m){C=!0,m=b,c=y;break}O=O.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case j:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case H:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case N:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case D:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:de(a.type)||"Memo";case B:o=a._payload,a=a._init;try{return de(a(o))}catch{}}return null}var ae=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},V=[],se=-1;function R(a){return{current:a}}function G(a){0>se||(a.current=V[se],V[se]=null,se--)}function ie(a,o){se++,V[se]=a.current,a.current=o}var ue=R(null),ve=R(null),Ne=R(null),te=R(null);function ye(a,o){switch(ie(Ne,o),ie(ve,a),ie(ue,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?HC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=HC(o),a=$C(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}G(ue),ie(ue,a)}function W(){G(ue),G(ve),G(Ne)}function je(a){a.memoizedState!==null&&ie(te,a);var o=ue.current,c=$C(o,a.type);o!==c&&(ie(ve,a),ie(ue,c))}function De(a){ve.current===a&&(G(ue),G(ve)),te.current===a&&(G(te),Xc._currentValue=Y)}var le,dn;function $e(a){if(le===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);le=o&&o[1]||"",dn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+dn}var fn=!1;function hn(a,o){if(!a||fn)return"";fn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var K=X}Reflect.construct(a,[],re)}else{try{re.call()}catch(X){K=X}a.call(re.prototype)}}else{try{throw Error()}catch(X){K=X}(re=a())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),C=b[0],O=b[1];if(C&&O){var L=C.split(`
`),q=O.split(`
`);for(y=m=0;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;for(;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;if(m===L.length||y===q.length)for(m=L.length-1,y=q.length-1;1<=m&&0<=y&&L[m]!==q[y];)y--;for(;1<=m&&0<=y;m--,y--)if(L[m]!==q[y]){if(m!==1||y!==1)do if(m--,y--,0>y||L[m]!==q[y]){var ee=`
`+L[m].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=m&&0<=y);break}}}finally{fn=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?$e(c):""}function Ci(a,o){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==o&&o!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return hn(a.type,!1);case 11:return hn(a.type.render,!1);case 1:return hn(a.type,!0);case 31:return $e("Activity");default:return""}}function oc(a){try{var o="",c=null;do o+=Ci(a,c),c=a,a=a.return;while(a);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var sg=Object.prototype.hasOwnProperty,og=e.unstable_scheduleCallback,lg=e.unstable_cancelCallback,e8=e.unstable_shouldYield,t8=e.unstable_requestPaint,rr=e.unstable_now,n8=e.unstable_getCurrentPriorityLevel,w_=e.unstable_ImmediatePriority,S_=e.unstable_UserBlockingPriority,zd=e.unstable_NormalPriority,r8=e.unstable_LowPriority,__=e.unstable_IdlePriority,i8=e.log,a8=e.unstable_setDisableYieldValue,lc=null,ir=null;function Sa(a){if(typeof i8=="function"&&a8(a),ir&&typeof ir.setStrictMode=="function")try{ir.setStrictMode(lc,a)}catch{}}var ar=Math.clz32?Math.clz32:l8,s8=Math.log,o8=Math.LN2;function l8(a){return a>>>=0,a===0?32:31-(s8(a)/o8|0)|0}var Ud=256,Fd=262144,Vd=4194304;function ps(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Hd(a,o,c){var m=a.pendingLanes;if(m===0)return 0;var y=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var O=m&134217727;return O!==0?(m=O&~b,m!==0?y=ps(m):(C&=O,C!==0?y=ps(C):c||(c=O&~a,c!==0&&(y=ps(c))))):(O=m&~b,O!==0?y=ps(O):C!==0?y=ps(C):c||(c=m&~a,c!==0&&(y=ps(c)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:y}function cc(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function c8(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E_(){var a=Vd;return Vd<<=1,(Vd&62914560)===0&&(Vd=4194304),a}function cg(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function uc(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function u8(a,o,c,m,y,b){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var O=a.entanglements,L=a.expirationTimes,q=a.hiddenUpdates;for(c=C&~c;0<c;){var ee=31-ar(c),re=1<<ee;O[ee]=0,L[ee]=-1;var K=q[ee];if(K!==null)for(q[ee]=null,ee=0;ee<K.length;ee++){var X=K[ee];X!==null&&(X.lane&=-536870913)}c&=~re}m!==0&&j_(a,m,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~o))}function j_(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var m=31-ar(o);a.entangledLanes|=o,a.entanglements[m]=a.entanglements[m]|1073741824|c&261930}function C_(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var m=31-ar(c),y=1<<m;y&o|a[m]&o&&(a[m]|=o),c&=~y}}function N_(a,o){var c=o&-o;return c=(c&42)!==0?1:ug(c),(c&(a.suspendedLanes|o))!==0?0:c}function ug(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dg(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function T_(){var a=k.p;return a!==0?a:(a=window.event,a===void 0?32:hN(a.type))}function A_(a,o){var c=k.p;try{return k.p=a,o()}finally{k.p=c}}var _a=Math.random().toString(36).slice(2),mn="__reactFiber$"+_a,zn="__reactProps$"+_a,So="__reactContainer$"+_a,fg="__reactEvents$"+_a,d8="__reactListeners$"+_a,f8="__reactHandles$"+_a,O_="__reactResources$"+_a,dc="__reactMarker$"+_a;function hg(a){delete a[mn],delete a[zn],delete a[fg],delete a[d8],delete a[f8]}function _o(a){var o=a[mn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[So]||c[mn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=QC(a);a!==null;){if(c=a[mn])return c;a=QC(a)}return o}a=c,c=a.parentNode}return null}function Eo(a){if(a=a[mn]||a[So]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function fc(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function jo(a){var o=a[O_];return o||(o=a[O_]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qt(a){a[dc]=!0}var k_=new Set,P_={};function gs(a,o){Co(a,o),Co(a+"Capture",o)}function Co(a,o){for(P_[a]=o,a=0;a<o.length;a++)k_.add(o[a])}var h8=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D_={},M_={};function m8(a){return sg.call(M_,a)?!0:sg.call(D_,a)?!1:h8.test(a)?M_[a]=!0:(D_[a]=!0,!1)}function $d(a,o,c){if(m8(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function qd(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function Ni(a,o,c,m){if(m===null)a.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+m)}}function Er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function R_(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function p8(a,o,c){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,b=m.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,b.call(this,C)}}),Object.defineProperty(a,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function mg(a){if(!a._valueTracker){var o=R_(a)?"checked":"value";a._valueTracker=p8(a,o,""+a[o])}}function I_(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return a&&(m=R_(a)?a.checked?"true":"false":a.value),a=m,a!==c?(o.setValue(a),!0):!1}function Gd(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var g8=/[\n"\\]/g;function jr(a){return a.replace(g8,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pg(a,o,c,m,y,b,C,O){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Er(o)):a.value!==""+Er(o)&&(a.value=""+Er(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?gg(a,C,Er(o)):c!=null?gg(a,C,Er(c)):m!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+Er(O):a.removeAttribute("name")}function L_(a,o,c,m,y,b,C,O){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){mg(a);return}c=c!=null?""+Er(c):"",o=o!=null?""+Er(o):c,O||o===a.value||(a.value=o),a.defaultValue=o}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=O?a.checked:!!m,a.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),mg(a)}function gg(a,o,c){o==="number"&&Gd(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function No(a,o,c,m){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&m&&(a[c].defaultSelected=!0)}else{for(c=""+Er(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function B_(a,o,c){if(o!=null&&(o=""+Er(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Er(c):""}function z_(a,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=Er(o),a.defaultValue=c,m=a.textContent,m===c&&m!==""&&m!==null&&(a.value=m),mg(a)}function To(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var v8=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U_(a,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":m?a.setProperty(o,c):typeof c!="number"||c===0||v8.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function F_(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in o)m=o[y],o.hasOwnProperty(y)&&c[y]!==m&&U_(a,y,m)}else for(var b in o)o.hasOwnProperty(b)&&U_(a,b,o[b])}function vg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y8=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x8=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yd(a){return x8.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ti(){}var yg=null;function xg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ao=null,Oo=null;function V_(a){var o=Eo(a);if(o&&(a=o.stateNode)){var c=a[zn]||null;e:switch(a=o.stateNode,o.type){case"input":if(pg(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+jr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==a&&m.form===a.form){var y=m[zn]||null;if(!y)throw Error(r(90));pg(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===a.form&&I_(m)}break e;case"textarea":B_(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&No(a,!!c.multiple,o,!1)}}}var bg=!1;function H_(a,o,c){if(bg)return a(o,c);bg=!0;try{var m=a(o);return m}finally{if(bg=!1,(Ao!==null||Oo!==null)&&(Rf(),Ao&&(o=Ao,a=Oo,Oo=Ao=null,V_(o),a)))for(o=0;o<a.length;o++)V_(a[o])}}function hc(a,o){var c=a.stateNode;if(c===null)return null;var m=c[zn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=!1;if(Ai)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){wg=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{wg=!1}var Ea=null,Sg=null,Kd=null;function $_(){if(Kd)return Kd;var a,o=Sg,c=o.length,m,y="value"in Ea?Ea.value:Ea.textContent,b=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(m=1;m<=C&&o[c-m]===y[b-m];m++);return Kd=y.slice(a,1<m?1-m:void 0)}function Wd(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Xd(){return!0}function q_(){return!1}function Un(a){function o(c,m,y,b,C){this._reactName=c,this._targetInst=y,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(c=a[O],this[O]=c?c(b):b[O]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Xd:q_,this.isPropagationStopped=q_,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),o}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=Un(vs),pc=g({},vs,{view:0,detail:0}),b8=Un(pc),_g,Eg,gc,Zd=g({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==gc&&(gc&&a.type==="mousemove"?(_g=a.screenX-gc.screenX,Eg=a.screenY-gc.screenY):Eg=_g=0,gc=a),_g)},movementY:function(a){return"movementY"in a?a.movementY:Eg}}),G_=Un(Zd),w8=g({},Zd,{dataTransfer:0}),S8=Un(w8),_8=g({},pc,{relatedTarget:0}),jg=Un(_8),E8=g({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),j8=Un(E8),C8=g({},vs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),N8=Un(C8),T8=g({},vs,{data:0}),Y_=Un(T8),A8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P8(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=k8[a])?!!o[a]:!1}function Cg(){return P8}var D8=g({},pc,{key:function(a){if(a.key){var o=A8[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Wd(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?O8[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(a){return a.type==="keypress"?Wd(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wd(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),M8=Un(D8),R8=g({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K_=Un(R8),I8=g({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),L8=Un(I8),B8=g({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),z8=Un(B8),U8=g({},Zd,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),F8=Un(U8),V8=g({},vs,{newState:0,oldState:0}),H8=Un(V8),$8=[9,13,27,32],Ng=Ai&&"CompositionEvent"in window,vc=null;Ai&&"documentMode"in document&&(vc=document.documentMode);var q8=Ai&&"TextEvent"in window&&!vc,W_=Ai&&(!Ng||vc&&8<vc&&11>=vc),X_=" ",Q_=!1;function Z_(a,o){switch(a){case"keyup":return $8.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ko=!1;function G8(a,o){switch(a){case"compositionend":return J_(o);case"keypress":return o.which!==32?null:(Q_=!0,X_);case"textInput":return a=o.data,a===X_&&Q_?null:a;default:return null}}function Y8(a,o){if(ko)return a==="compositionend"||!Ng&&Z_(a,o)?(a=$_(),Kd=Sg=Ea=null,ko=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return W_&&o.locale!=="ko"?null:o.data;default:return null}}var K8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eE(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!K8[a.type]:o==="textarea"}function tE(a,o,c,m){Ao?Oo?Oo.push(m):Oo=[m]:Ao=m,o=Vf(o,"onChange"),0<o.length&&(c=new Qd("onChange","change",null,c,m),a.push({event:c,listeners:o}))}var yc=null,xc=null;function W8(a){LC(a,0)}function Jd(a){var o=fc(a);if(I_(o))return a}function nE(a,o){if(a==="change")return o}var rE=!1;if(Ai){var Tg;if(Ai){var Ag="oninput"in document;if(!Ag){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),Ag=typeof iE.oninput=="function"}Tg=Ag}else Tg=!1;rE=Tg&&(!document.documentMode||9<document.documentMode)}function aE(){yc&&(yc.detachEvent("onpropertychange",sE),xc=yc=null)}function sE(a){if(a.propertyName==="value"&&Jd(xc)){var o=[];tE(o,xc,a,xg(a)),H_(W8,o)}}function X8(a,o,c){a==="focusin"?(aE(),yc=o,xc=c,yc.attachEvent("onpropertychange",sE)):a==="focusout"&&aE()}function Q8(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jd(xc)}function Z8(a,o){if(a==="click")return Jd(o)}function J8(a,o){if(a==="input"||a==="change")return Jd(o)}function eB(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var sr=typeof Object.is=="function"?Object.is:eB;function bc(a,o){if(sr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var y=c[m];if(!sg.call(o,y)||!sr(a[y],o[y]))return!1}return!0}function oE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lE(a,o){var c=oE(a);a=0;for(var m;c;){if(c.nodeType===3){if(m=a+c.textContent.length,a<=o&&m>=o)return{node:c,offset:o-a};a=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=oE(c)}}function cE(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?cE(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function uE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Gd(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=Gd(a.document)}return o}function Og(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var tB=Ai&&"documentMode"in document&&11>=document.documentMode,Po=null,kg=null,wc=null,Pg=!1;function dE(a,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pg||Po==null||Po!==Gd(m)||(m=Po,"selectionStart"in m&&Og(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wc&&bc(wc,m)||(wc=m,m=Vf(kg,"onSelect"),0<m.length&&(o=new Qd("onSelect","select",null,o,c),a.push({event:o,listeners:m}),o.target=Po)))}function ys(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Do={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Dg={},fE={};Ai&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function xs(a){if(Dg[a])return Dg[a];if(!Do[a])return a;var o=Do[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in fE)return Dg[a]=o[c];return a}var hE=xs("animationend"),mE=xs("animationiteration"),pE=xs("animationstart"),nB=xs("transitionrun"),rB=xs("transitionstart"),iB=xs("transitioncancel"),gE=xs("transitionend"),vE=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mg.push("scrollEnd");function Yr(a,o){vE.set(a,o),gs(o,[a])}var ef=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Cr=[],Mo=0,Rg=0;function tf(){for(var a=Mo,o=Rg=Mo=0;o<a;){var c=Cr[o];Cr[o++]=null;var m=Cr[o];Cr[o++]=null;var y=Cr[o];Cr[o++]=null;var b=Cr[o];if(Cr[o++]=null,m!==null&&y!==null){var C=m.pending;C===null?y.next=y:(y.next=C.next,C.next=y),m.pending=y}b!==0&&yE(c,y,b)}}function nf(a,o,c,m){Cr[Mo++]=a,Cr[Mo++]=o,Cr[Mo++]=c,Cr[Mo++]=m,Rg|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Ig(a,o,c,m){return nf(a,o,c,m),rf(a)}function bs(a,o){return nf(a,null,null,o),rf(a)}function yE(a,o,c){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c);for(var y=!1,b=a.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-ar(c),a=b.hiddenUpdates,m=a[y],m===null?a[y]=[o]:m.push(o),o.lane=c|536870912),b):null}function rf(a){if(50<Hc)throw Hc=0,qv=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Ro={};function aB(a,o,c,m){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(a,o,c,m){return new aB(a,o,c,m)}function Lg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Oi(a,o){var c=a.alternate;return c===null?(c=or(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function xE(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function af(a,o,c,m,y,b){var C=0;if(m=a,typeof a=="function")Lg(a)&&(C=1);else if(typeof a=="string")C=uz(a,c,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case H:return a=or(31,c,o,y),a.elementType=H,a.lanes=b,a;case _:return ws(c.children,y,b,o);case E:C=8,y|=24;break;case j:return a=or(12,c,o,y|2),a.elementType=j,a.lanes=b,a;case T:return a=or(13,c,o,y),a.elementType=T,a.lanes=b,a;case P:return a=or(19,c,o,y),a.elementType=P,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:C=10;break e;case A:C=9;break e;case D:C=11;break e;case I:C=14;break e;case B:C=16,m=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),m=null}return o=or(C,c,o,y),o.elementType=a,o.type=m,o.lanes=b,o}function ws(a,o,c,m){return a=or(7,a,m,o),a.lanes=c,a}function Bg(a,o,c){return a=or(6,a,null,o),a.lanes=c,a}function bE(a){var o=or(18,null,null,0);return o.stateNode=a,o}function zg(a,o,c){return o=or(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var wE=new WeakMap;function Nr(a,o){if(typeof a=="object"&&a!==null){var c=wE.get(a);return c!==void 0?c:(o={value:a,source:o,stack:oc(o)},wE.set(a,o),o)}return{value:a,source:o,stack:oc(o)}}var Io=[],Lo=0,sf=null,Sc=0,Tr=[],Ar=0,ja=null,li=1,ci="";function ki(a,o){Io[Lo++]=Sc,Io[Lo++]=sf,sf=a,Sc=o}function SE(a,o,c){Tr[Ar++]=li,Tr[Ar++]=ci,Tr[Ar++]=ja,ja=a;var m=li;a=ci;var y=32-ar(m)-1;m&=~(1<<y),c+=1;var b=32-ar(o)+y;if(30<b){var C=y-y%5;b=(m&(1<<C)-1).toString(32),m>>=C,y-=C,li=1<<32-ar(o)+y|c<<y|m,ci=b+a}else li=1<<b|c<<y|m,ci=a}function Ug(a){a.return!==null&&(ki(a,1),SE(a,1,0))}function Fg(a){for(;a===sf;)sf=Io[--Lo],Io[Lo]=null,Sc=Io[--Lo],Io[Lo]=null;for(;a===ja;)ja=Tr[--Ar],Tr[Ar]=null,ci=Tr[--Ar],Tr[Ar]=null,li=Tr[--Ar],Tr[Ar]=null}function _E(a,o){Tr[Ar++]=li,Tr[Ar++]=ci,Tr[Ar++]=ja,li=o.id,ci=o.overflow,ja=a}var pn=null,ht=null,He=!1,Ca=null,Or=!1,Vg=Error(r(519));function Na(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(Nr(o,a)),Vg}function EE(a){var o=a.stateNode,c=a.type,m=a.memoizedProps;switch(o[mn]=a,o[zn]=m,c){case"dialog":ze("cancel",o),ze("close",o);break;case"iframe":case"object":case"embed":ze("load",o);break;case"video":case"audio":for(c=0;c<qc.length;c++)ze(qc[c],o);break;case"source":ze("error",o);break;case"img":case"image":case"link":ze("error",o),ze("load",o);break;case"details":ze("toggle",o);break;case"input":ze("invalid",o),L_(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ze("invalid",o);break;case"textarea":ze("invalid",o),z_(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||FC(o.textContent,c)?(m.popover!=null&&(ze("beforetoggle",o),ze("toggle",o)),m.onScroll!=null&&ze("scroll",o),m.onScrollEnd!=null&&ze("scrollend",o),m.onClick!=null&&(o.onclick=Ti),o=!0):o=!1,o||Na(a,!0)}function jE(a){for(pn=a.return;pn;)switch(pn.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:pn=pn.return}}function Bo(a){if(a!==pn)return!1;if(!He)return jE(a),He=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||s0(a.type,a.memoizedProps)),c=!c),c&&ht&&Na(a),jE(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ht=XC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ht=XC(a)}else o===27?(o=ht,Fa(a.type)?(a=d0,d0=null,ht=a):ht=o):ht=pn?Pr(a.stateNode.nextSibling):null;return!0}function Ss(){ht=pn=null,He=!1}function Hg(){var a=Ca;return a!==null&&($n===null?$n=a:$n.push.apply($n,a),Ca=null),a}function _c(a){Ca===null?Ca=[a]:Ca.push(a)}var $g=R(null),_s=null,Pi=null;function Ta(a,o,c){ie($g,o._currentValue),o._currentValue=c}function Di(a){a._currentValue=$g.current,G($g)}function qg(a,o,c){for(;a!==null;){var m=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),a===c)break;a=a.return}}function Gg(a,o,c,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var O=b;b=y;for(var L=0;L<o.length;L++)if(O.context===o[L]){b.lanes|=c,O=b.alternate,O!==null&&(O.lanes|=c),qg(b.return,c,a),m||(C=null);break e}b=O.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,b=C.alternate,b!==null&&(b.lanes|=c),qg(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function zo(a,o,c,m){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var O=y.type;sr(y.pendingProps.value,C.value)||(a!==null?a.push(O):a=[O])}}else if(y===te.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Xc):a=[Xc])}y=y.return}a!==null&&Gg(o,a,c,m),o.flags|=262144}function of(a){for(a=a.firstContext;a!==null;){if(!sr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Es(a){_s=a,Pi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gn(a){return CE(_s,a)}function lf(a,o){return _s===null&&Es(a),CE(a,o)}function CE(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Pi===null){if(a===null)throw Error(r(308));Pi=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Pi=Pi.next=o;return c}var sB=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,m){a.push(m)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},oB=e.unstable_scheduleCallback,lB=e.unstable_NormalPriority,Dt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yg(){return{controller:new sB,data:new Map,refCount:0}}function Ec(a){a.refCount--,a.refCount===0&&oB(lB,function(){a.controller.abort()})}var jc=null,Kg=0,Uo=0,Fo=null;function cB(a,o){if(jc===null){var c=jc=[];Kg=0,Uo=Qv(),Fo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Kg++,o.then(NE,NE),o}function NE(){if(--Kg===0&&jc!==null){Fo!==null&&(Fo.status="fulfilled");var a=jc;jc=null,Uo=0,Fo=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function uB(a,o){var c=[],m={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){m.status="fulfilled",m.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(m.status="rejected",m.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),m}var TE=M.S;M.S=function(a,o){dC=rr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&cB(a,o),TE!==null&&TE(a,o)};var js=R(null);function Wg(){var a=js.current;return a!==null?a:it.pooledCache}function cf(a,o){o===null?ie(js,js.current):ie(js,o.pool)}function AE(){var a=Wg();return a===null?null:{parent:Dt._currentValue,pool:a}}var Vo=Error(r(460)),Xg=Error(r(474)),uf=Error(r(542)),df={then:function(){}};function OE(a){return a=a.status,a==="fulfilled"||a==="rejected"}function kE(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then(Ti,Ti),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DE(a),a;default:if(typeof o.status=="string")o.then(Ti,Ti);else{if(a=it,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(m){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=m}},function(m){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,DE(a),a}throw Ns=o,Vo}}function Cs(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ns=c,Vo):c}}var Ns=null;function PE(){if(Ns===null)throw Error(r(459));var a=Ns;return Ns=null,a}function DE(a){if(a===Vo||a===uf)throw Error(r(483))}var Ho=null,Cc=0;function ff(a){var o=Cc;return Cc+=1,Ho===null&&(Ho=[]),kE(Ho,a,o)}function Nc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function hf(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function ME(a){function o(F,z){if(a){var $=F.deletions;$===null?(F.deletions=[z],F.flags|=16):$.push(z)}}function c(F,z){if(!a)return null;for(;z!==null;)o(F,z),z=z.sibling;return null}function m(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function y(F,z){return F=Oi(F,z),F.index=0,F.sibling=null,F}function b(F,z,$){return F.index=$,a?($=F.alternate,$!==null?($=$.index,$<z?(F.flags|=67108866,z):$):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function C(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function O(F,z,$,ne){return z===null||z.tag!==6?(z=Bg($,F.mode,ne),z.return=F,z):(z=y(z,$),z.return=F,z)}function L(F,z,$,ne){var be=$.type;return be===_?ee(F,z,$.props.children,ne,$.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===B&&Cs(be)===z.type)?(z=y(z,$.props),Nc(z,$),z.return=F,z):(z=af($.type,$.key,$.props,null,F.mode,ne),Nc(z,$),z.return=F,z)}function q(F,z,$,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=zg($,F.mode,ne),z.return=F,z):(z=y(z,$.children||[]),z.return=F,z)}function ee(F,z,$,ne,be){return z===null||z.tag!==7?(z=ws($,F.mode,ne,be),z.return=F,z):(z=y(z,$),z.return=F,z)}function re(F,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Bg(""+z,F.mode,$),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return $=af(z.type,z.key,z.props,null,F.mode,$),Nc($,z),$.return=F,$;case w:return z=zg(z,F.mode,$),z.return=F,z;case B:return z=Cs(z),re(F,z,$)}if(ae(z)||J(z))return z=ws(z,F.mode,$,null),z.return=F,z;if(typeof z.then=="function")return re(F,ff(z),$);if(z.$$typeof===N)return re(F,lf(F,z),$);hf(F,z)}return null}function K(F,z,$,ne){var be=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:O(F,z,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return $.key===be?L(F,z,$,ne):null;case w:return $.key===be?q(F,z,$,ne):null;case B:return $=Cs($),K(F,z,$,ne)}if(ae($)||J($))return be!==null?null:ee(F,z,$,ne,null);if(typeof $.then=="function")return K(F,z,ff($),ne);if($.$$typeof===N)return K(F,z,lf(F,$),ne);hf(F,$)}return null}function X(F,z,$,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get($)||null,O(z,F,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return F=F.get(ne.key===null?$:ne.key)||null,L(z,F,ne,be);case w:return F=F.get(ne.key===null?$:ne.key)||null,q(z,F,ne,be);case B:return ne=Cs(ne),X(F,z,$,ne,be)}if(ae(ne)||J(ne))return F=F.get($)||null,ee(z,F,ne,be,null);if(typeof ne.then=="function")return X(F,z,$,ff(ne),be);if(ne.$$typeof===N)return X(F,z,$,lf(z,ne),be);hf(z,ne)}return null}function he(F,z,$,ne){for(var be=null,Ge=null,pe=z,Me=z=0,Ve=null;pe!==null&&Me<$.length;Me++){pe.index>Me?(Ve=pe,pe=null):Ve=pe.sibling;var Ye=K(F,pe,$[Me],ne);if(Ye===null){pe===null&&(pe=Ve);break}a&&pe&&Ye.alternate===null&&o(F,pe),z=b(Ye,z,Me),Ge===null?be=Ye:Ge.sibling=Ye,Ge=Ye,pe=Ve}if(Me===$.length)return c(F,pe),He&&ki(F,Me),be;if(pe===null){for(;Me<$.length;Me++)pe=re(F,$[Me],ne),pe!==null&&(z=b(pe,z,Me),Ge===null?be=pe:Ge.sibling=pe,Ge=pe);return He&&ki(F,Me),be}for(pe=m(pe);Me<$.length;Me++)Ve=X(pe,F,Me,$[Me],ne),Ve!==null&&(a&&Ve.alternate!==null&&pe.delete(Ve.key===null?Me:Ve.key),z=b(Ve,z,Me),Ge===null?be=Ve:Ge.sibling=Ve,Ge=Ve);return a&&pe.forEach(function(Ga){return o(F,Ga)}),He&&ki(F,Me),be}function Ee(F,z,$,ne){if($==null)throw Error(r(151));for(var be=null,Ge=null,pe=z,Me=z=0,Ve=null,Ye=$.next();pe!==null&&!Ye.done;Me++,Ye=$.next()){pe.index>Me?(Ve=pe,pe=null):Ve=pe.sibling;var Ga=K(F,pe,Ye.value,ne);if(Ga===null){pe===null&&(pe=Ve);break}a&&pe&&Ga.alternate===null&&o(F,pe),z=b(Ga,z,Me),Ge===null?be=Ga:Ge.sibling=Ga,Ge=Ga,pe=Ve}if(Ye.done)return c(F,pe),He&&ki(F,Me),be;if(pe===null){for(;!Ye.done;Me++,Ye=$.next())Ye=re(F,Ye.value,ne),Ye!==null&&(z=b(Ye,z,Me),Ge===null?be=Ye:Ge.sibling=Ye,Ge=Ye);return He&&ki(F,Me),be}for(pe=m(pe);!Ye.done;Me++,Ye=$.next())Ye=X(pe,F,Me,Ye.value,ne),Ye!==null&&(a&&Ye.alternate!==null&&pe.delete(Ye.key===null?Me:Ye.key),z=b(Ye,z,Me),Ge===null?be=Ye:Ge.sibling=Ye,Ge=Ye);return a&&pe.forEach(function(wz){return o(F,wz)}),He&&ki(F,Me),be}function rt(F,z,$,ne){if(typeof $=="object"&&$!==null&&$.type===_&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case x:e:{for(var be=$.key;z!==null;){if(z.key===be){if(be=$.type,be===_){if(z.tag===7){c(F,z.sibling),ne=y(z,$.props.children),ne.return=F,F=ne;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===B&&Cs(be)===z.type){c(F,z.sibling),ne=y(z,$.props),Nc(ne,$),ne.return=F,F=ne;break e}c(F,z);break}else o(F,z);z=z.sibling}$.type===_?(ne=ws($.props.children,F.mode,ne,$.key),ne.return=F,F=ne):(ne=af($.type,$.key,$.props,null,F.mode,ne),Nc(ne,$),ne.return=F,F=ne)}return C(F);case w:e:{for(be=$.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){c(F,z.sibling),ne=y(z,$.children||[]),ne.return=F,F=ne;break e}else{c(F,z);break}else o(F,z);z=z.sibling}ne=zg($,F.mode,ne),ne.return=F,F=ne}return C(F);case B:return $=Cs($),rt(F,z,$,ne)}if(ae($))return he(F,z,$,ne);if(J($)){if(be=J($),typeof be!="function")throw Error(r(150));return $=be.call($),Ee(F,z,$,ne)}if(typeof $.then=="function")return rt(F,z,ff($),ne);if($.$$typeof===N)return rt(F,z,lf(F,$),ne);hf(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(c(F,z.sibling),ne=y(z,$),ne.return=F,F=ne):(c(F,z),ne=Bg($,F.mode,ne),ne.return=F,F=ne),C(F)):c(F,z)}return function(F,z,$,ne){try{Cc=0;var be=rt(F,z,$,ne);return Ho=null,be}catch(pe){if(pe===Vo||pe===uf)throw pe;var Ge=or(29,pe,null,F.mode);return Ge.lanes=ne,Ge.return=F,Ge}finally{}}}var Ts=ME(!0),RE=ME(!1),Aa=!1;function Qg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Oa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ka(a,o,c){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Qe&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,o=rf(a),yE(a,null,c),o}return nf(a,m,o,c),rf(a)}function Tc(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,C_(a,c)}}function Jg(a,o){var c=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var ev=!1;function Ac(){if(ev){var a=Fo;if(a!==null)throw a}}function Oc(a,o,c,m){ev=!1;var y=a.updateQueue;Aa=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var L=O,q=L.next;L.next=null,C===null?b=q:C.next=q,C=L;var ee=a.alternate;ee!==null&&(ee=ee.updateQueue,O=ee.lastBaseUpdate,O!==C&&(O===null?ee.firstBaseUpdate=q:O.next=q,ee.lastBaseUpdate=L))}if(b!==null){var re=y.baseState;C=0,ee=q=L=null,O=b;do{var K=O.lane&-536870913,X=K!==O.lane;if(X?(Fe&K)===K:(m&K)===K){K!==0&&K===Uo&&(ev=!0),ee!==null&&(ee=ee.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var he=a,Ee=O;K=o;var rt=c;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){re=he.call(rt,re,K);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,K=typeof he=="function"?he.call(rt,re,K):he,K==null)break e;re=g({},re,K);break e;case 2:Aa=!0}}K=O.callback,K!==null&&(a.flags|=64,X&&(a.flags|=8192),X=y.callbacks,X===null?y.callbacks=[K]:X.push(K))}else X={lane:K,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ee===null?(q=ee=X,L=re):ee=ee.next=X,C|=K;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;X=O,O=X.next,X.next=null,y.lastBaseUpdate=X,y.shared.pending=null}}while(!0);ee===null&&(L=re),y.baseState=L,y.firstBaseUpdate=q,y.lastBaseUpdate=ee,b===null&&(y.shared.lanes=0),Ia|=C,a.lanes=C,a.memoizedState=re}}function IE(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function LE(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)IE(c[a],o)}var $o=R(null),mf=R(0);function BE(a,o){a=Vi,ie(mf,a),ie($o,o),Vi=a|o.baseLanes}function tv(){ie(mf,Vi),ie($o,$o.current)}function nv(){Vi=mf.current,G($o),G(mf)}var lr=R(null),kr=null;function Pa(a){var o=a.alternate;ie(Tt,Tt.current&1),ie(lr,a),kr===null&&(o===null||$o.current!==null||o.memoizedState!==null)&&(kr=a)}function rv(a){ie(Tt,Tt.current),ie(lr,a),kr===null&&(kr=a)}function zE(a){a.tag===22?(ie(Tt,Tt.current),ie(lr,a),kr===null&&(kr=a)):Da()}function Da(){ie(Tt,Tt.current),ie(lr,lr.current)}function cr(a){G(lr),kr===a&&(kr=null),G(Tt)}var Tt=R(0);function pf(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c0(c)||u0(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Mi=0,ke=null,tt=null,Mt=null,gf=!1,qo=!1,As=!1,vf=0,kc=0,Go=null,dB=0;function Et(){throw Error(r(321))}function iv(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!sr(a[c],o[c]))return!1;return!0}function av(a,o,c,m,y,b){return Mi=b,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,M.H=a===null||a.memoizedState===null?Sj:bv,As=!1,b=c(m,y),As=!1,qo&&(b=FE(o,c,m,y)),UE(a),b}function UE(a){M.H=Mc;var o=tt!==null&&tt.next!==null;if(Mi=0,Mt=tt=ke=null,gf=!1,kc=0,Go=null,o)throw Error(r(300));a===null||Rt||(a=a.dependencies,a!==null&&of(a)&&(Rt=!0))}function FE(a,o,c,m){ke=a;var y=0;do{if(qo&&(Go=null),kc=0,qo=!1,25<=y)throw Error(r(301));if(y+=1,Mt=tt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=_j,b=o(c,m)}while(qo);return b}function fB(){var a=M.H,o=a.useState()[0];return o=typeof o.then=="function"?Pc(o):o,a=a.useState()[0],(tt!==null?tt.memoizedState:null)!==a&&(ke.flags|=1024),o}function sv(){var a=vf!==0;return vf=0,a}function ov(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function lv(a){if(gf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}gf=!1}Mi=0,Mt=tt=ke=null,qo=!1,kc=vf=0,Go=null}function kn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ke.memoizedState=Mt=a:Mt=Mt.next=a,Mt}function At(){if(tt===null){var a=ke.alternate;a=a!==null?a.memoizedState:null}else a=tt.next;var o=Mt===null?ke.memoizedState:Mt.next;if(o!==null)Mt=o,tt=a;else{if(a===null)throw ke.alternate===null?Error(r(467)):Error(r(310));tt=a,a={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Mt===null?ke.memoizedState=Mt=a:Mt=Mt.next=a}return Mt}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(a){var o=kc;return kc+=1,Go===null&&(Go=[]),a=kE(Go,a,o),o=ke,(Mt===null?o.memoizedState:Mt.next)===null&&(o=o.alternate,M.H=o===null||o.memoizedState===null?Sj:bv),a}function xf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Pc(a);if(a.$$typeof===N)return gn(a)}throw Error(r(438,String(a)))}function cv(a){var o=null,c=ke.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=ke.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=yf(),ke.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),m=0;m<a;m++)c[m]=Z;return o.index++,c}function Ri(a,o){return typeof o=="function"?o(a):o}function bf(a){var o=At();return uv(o,tt,a)}function uv(a,o,c){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var y=a.baseQueue,b=m.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}o.baseQueue=y=b,m.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var O=C=null,L=null,q=o,ee=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(Fe&re)===re:(Mi&re)===re){var K=q.revertLane;if(K===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===Uo&&(ee=!0);else if((Mi&K)===K){q=q.next,K===Uo&&(ee=!0);continue}else re={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(O=L=re,C=b):L=L.next=re,ke.lanes|=K,Ia|=K;re=q.action,As&&c(b,re),b=q.hasEagerState?q.eagerState:c(b,re)}else K={lane:re,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(O=L=K,C=b):L=L.next=K,ke.lanes|=re,Ia|=re;q=q.next}while(q!==null&&q!==o);if(L===null?C=b:L.next=O,!sr(b,a.memoizedState)&&(Rt=!0,ee&&(c=Fo,c!==null)))throw c;a.memoizedState=b,a.baseState=C,a.baseQueue=L,m.lastRenderedState=b}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function dv(a){var o=At(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var m=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do b=a(b,C.action),C=C.next;while(C!==y);sr(b,o.memoizedState)||(Rt=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,m]}function VE(a,o,c){var m=ke,y=At(),b=He;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!sr((tt||y).memoizedState,c);if(C&&(y.memoizedState=c,Rt=!0),y=y.queue,mv(qE.bind(null,m,y,a),[a]),y.getSnapshot!==o||C||Mt!==null&&Mt.memoizedState.tag&1){if(m.flags|=2048,Yo(9,{destroy:void 0},$E.bind(null,m,y,c,o),null),it===null)throw Error(r(349));b||(Mi&127)!==0||HE(m,o,c)}return c}function HE(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=ke.updateQueue,o===null?(o=yf(),ke.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function $E(a,o,c,m){o.value=c,o.getSnapshot=m,GE(o)&&YE(a)}function qE(a,o,c){return c(function(){GE(o)&&YE(a)})}function GE(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!sr(a,c)}catch{return!0}}function YE(a){var o=bs(a,2);o!==null&&qn(o,a,2)}function fv(a){var o=kn();if(typeof a=="function"){var c=a;if(a=c(),As){Sa(!0);try{c()}finally{Sa(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},o}function KE(a,o,c,m){return a.baseState=c,uv(a,tt,typeof m=="function"?m:Ri)}function hB(a,o,c,m,y){if(_f(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};M.T!==null?c(!0):b.isTransition=!1,m(b),c=o.pending,c===null?(b.next=o.pending=b,WE(o,b)):(b.next=c.next,o.pending=c.next=b)}}function WE(a,o){var c=o.action,m=o.payload,y=a.state;if(o.isTransition){var b=M.T,C={};M.T=C;try{var O=c(y,m),L=M.S;L!==null&&L(C,O),XE(a,o,O)}catch(q){hv(a,o,q)}finally{b!==null&&C.types!==null&&(b.types=C.types),M.T=b}}else try{b=c(y,m),XE(a,o,b)}catch(q){hv(a,o,q)}}function XE(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){QE(a,o,m)},function(m){return hv(a,o,m)}):QE(a,o,c)}function QE(a,o,c){o.status="fulfilled",o.value=c,ZE(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,WE(a,c)))}function hv(a,o,c){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,ZE(o),o=o.next;while(o!==m)}a.action=null}function ZE(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function JE(a,o){return o}function ej(a,o){if(He){var c=it.formState;if(c!==null){e:{var m=ke;if(He){if(ht){t:{for(var y=ht,b=Or;y.nodeType!==8;){if(!b){y=null;break t}if(y=Pr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){ht=Pr(y.nextSibling),m=y.data==="F!";break e}}Na(m)}m=!1}m&&(o=c[0])}}return c=kn(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JE,lastRenderedState:o},c.queue=m,c=xj.bind(null,ke,m),m.dispatch=c,m=fv(!1),b=xv.bind(null,ke,!1,m.queue),m=kn(),y={state:o,dispatch:null,action:a,pending:null},m.queue=y,c=hB.bind(null,ke,y,b,c),y.dispatch=c,m.memoizedState=a,[o,c,!1]}function tj(a){var o=At();return nj(o,tt,a)}function nj(a,o,c){if(o=uv(a,o,JE)[0],a=bf(Ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Pc(o)}catch(C){throw C===Vo?uf:C}else m=o;o=At();var y=o.queue,b=y.dispatch;return c!==o.memoizedState&&(ke.flags|=2048,Yo(9,{destroy:void 0},mB.bind(null,y,c),null)),[m,b,a]}function mB(a,o){a.action=o}function rj(a){var o=At(),c=tt;if(c!==null)return nj(o,c,a);At(),o=o.memoizedState,c=At();var m=c.queue.dispatch;return c.memoizedState=a,[o,m,!1]}function Yo(a,o,c,m){return a={tag:a,create:c,deps:m,inst:o,next:null},o=ke.updateQueue,o===null&&(o=yf(),ke.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(m=c.next,c.next=a,a.next=m,o.lastEffect=a),a}function ij(){return At().memoizedState}function wf(a,o,c,m){var y=kn();ke.flags|=a,y.memoizedState=Yo(1|o,{destroy:void 0},c,m===void 0?null:m)}function Sf(a,o,c,m){var y=At();m=m===void 0?null:m;var b=y.memoizedState.inst;tt!==null&&m!==null&&iv(m,tt.memoizedState.deps)?y.memoizedState=Yo(o,b,c,m):(ke.flags|=a,y.memoizedState=Yo(1|o,b,c,m))}function aj(a,o){wf(8390656,8,a,o)}function mv(a,o){Sf(2048,8,a,o)}function pB(a){ke.flags|=4;var o=ke.updateQueue;if(o===null)o=yf(),ke.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function sj(a){var o=At().memoizedState;return pB({ref:o,nextImpl:a}),function(){if((Qe&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function oj(a,o){return Sf(4,2,a,o)}function lj(a,o){return Sf(4,4,a,o)}function cj(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function uj(a,o,c){c=c!=null?c.concat([a]):null,Sf(4,4,cj.bind(null,o,a),c)}function pv(){}function dj(a,o){var c=At();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&iv(o,m[1])?m[0]:(c.memoizedState=[a,o],a)}function fj(a,o){var c=At();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&iv(o,m[1]))return m[0];if(m=a(),As){Sa(!0);try{a()}finally{Sa(!1)}}return c.memoizedState=[m,o],m}function gv(a,o,c){return c===void 0||(Mi&1073741824)!==0&&(Fe&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=hC(),ke.lanes|=a,Ia|=a,c)}function hj(a,o,c,m){return sr(c,o)?c:$o.current!==null?(a=gv(a,c,m),sr(a,o)||(Rt=!0),a):(Mi&42)===0||(Mi&1073741824)!==0&&(Fe&261930)===0?(Rt=!0,a.memoizedState=c):(a=hC(),ke.lanes|=a,Ia|=a,o)}function mj(a,o,c,m,y){var b=k.p;k.p=b!==0&&8>b?b:8;var C=M.T,O={};M.T=O,xv(a,!1,o,c);try{var L=y(),q=M.S;if(q!==null&&q(O,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=uB(L,m);Dc(a,o,ee,fr(a))}else Dc(a,o,m,fr(a))}catch(re){Dc(a,o,{then:function(){},status:"rejected",reason:re},fr())}finally{k.p=b,C!==null&&O.types!==null&&(C.types=O.types),M.T=C}}function gB(){}function vv(a,o,c,m){if(a.tag!==5)throw Error(r(476));var y=pj(a).queue;mj(a,y,o,Y,c===null?gB:function(){return gj(a),c(m)})}function pj(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Y},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function gj(a){var o=pj(a);o.next===null&&(o=a.alternate.memoizedState),Dc(a,o.next.queue,{},fr())}function yv(){return gn(Xc)}function vj(){return At().memoizedState}function yj(){return At().memoizedState}function vB(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=fr();a=Oa(c);var m=ka(o,a,c);m!==null&&(qn(m,o,c),Tc(m,o,c)),o={cache:Yg()},a.payload=o;return}o=o.return}}function yB(a,o,c){var m=fr();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},_f(a)?bj(o,c):(c=Ig(a,o,c,m),c!==null&&(qn(c,a,m),wj(c,o,m)))}function xj(a,o,c){var m=fr();Dc(a,o,c,m)}function Dc(a,o,c,m){var y={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(_f(a))bj(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,O=b(C,c);if(y.hasEagerState=!0,y.eagerState=O,sr(O,C))return nf(a,o,y,0),it===null&&tf(),!1}catch{}finally{}if(c=Ig(a,o,y,m),c!==null)return qn(c,a,m),wj(c,o,m),!0}return!1}function xv(a,o,c,m){if(m={lane:2,revertLane:Qv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},_f(a)){if(o)throw Error(r(479))}else o=Ig(a,c,m,2),o!==null&&qn(o,a,2)}function _f(a){var o=a.alternate;return a===ke||o!==null&&o===ke}function bj(a,o){qo=gf=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function wj(a,o,c){if((c&4194048)!==0){var m=o.lanes;m&=a.pendingLanes,c|=m,o.lanes=c,C_(a,c)}}var Mc={readContext:gn,use:xf,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Mc.useEffectEvent=Et;var Sj={readContext:gn,use:xf,useCallback:function(a,o){return kn().memoizedState=[a,o===void 0?null:o],a},useContext:gn,useEffect:aj,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,wf(4194308,4,cj.bind(null,o,a),c)},useLayoutEffect:function(a,o){return wf(4194308,4,a,o)},useInsertionEffect:function(a,o){wf(4,2,a,o)},useMemo:function(a,o){var c=kn();o=o===void 0?null:o;var m=a();if(As){Sa(!0);try{a()}finally{Sa(!1)}}return c.memoizedState=[m,o],m},useReducer:function(a,o,c){var m=kn();if(c!==void 0){var y=c(o);if(As){Sa(!0);try{c(o)}finally{Sa(!1)}}}else y=o;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=yB.bind(null,ke,a),[m.memoizedState,a]},useRef:function(a){var o=kn();return a={current:a},o.memoizedState=a},useState:function(a){a=fv(a);var o=a.queue,c=xj.bind(null,ke,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:pv,useDeferredValue:function(a,o){var c=kn();return gv(c,a,o)},useTransition:function(){var a=fv(!1);return a=mj.bind(null,ke,a.queue,!0,!1),kn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var m=ke,y=kn();if(He){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),it===null)throw Error(r(349));(Fe&127)!==0||HE(m,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,aj(qE.bind(null,m,b,a),[a]),m.flags|=2048,Yo(9,{destroy:void 0},$E.bind(null,m,b,c,o),null),c},useId:function(){var a=kn(),o=it.identifierPrefix;if(He){var c=ci,m=li;c=(m&~(1<<32-ar(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=vf++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=dB++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:yv,useFormState:ej,useActionState:ej,useOptimistic:function(a){var o=kn();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=xv.bind(null,ke,!0,c),c.dispatch=o,[a,o]},useMemoCache:cv,useCacheRefresh:function(){return kn().memoizedState=vB.bind(null,ke)},useEffectEvent:function(a){var o=kn(),c={impl:a};return o.memoizedState=c,function(){if((Qe&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},bv={readContext:gn,use:xf,useCallback:dj,useContext:gn,useEffect:mv,useImperativeHandle:uj,useInsertionEffect:oj,useLayoutEffect:lj,useMemo:fj,useReducer:bf,useRef:ij,useState:function(){return bf(Ri)},useDebugValue:pv,useDeferredValue:function(a,o){var c=At();return hj(c,tt.memoizedState,a,o)},useTransition:function(){var a=bf(Ri)[0],o=At().memoizedState;return[typeof a=="boolean"?a:Pc(a),o]},useSyncExternalStore:VE,useId:vj,useHostTransitionStatus:yv,useFormState:tj,useActionState:tj,useOptimistic:function(a,o){var c=At();return KE(c,tt,a,o)},useMemoCache:cv,useCacheRefresh:yj};bv.useEffectEvent=sj;var _j={readContext:gn,use:xf,useCallback:dj,useContext:gn,useEffect:mv,useImperativeHandle:uj,useInsertionEffect:oj,useLayoutEffect:lj,useMemo:fj,useReducer:dv,useRef:ij,useState:function(){return dv(Ri)},useDebugValue:pv,useDeferredValue:function(a,o){var c=At();return tt===null?gv(c,a,o):hj(c,tt.memoizedState,a,o)},useTransition:function(){var a=dv(Ri)[0],o=At().memoizedState;return[typeof a=="boolean"?a:Pc(a),o]},useSyncExternalStore:VE,useId:vj,useHostTransitionStatus:yv,useFormState:rj,useActionState:rj,useOptimistic:function(a,o){var c=At();return tt!==null?KE(c,tt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:cv,useCacheRefresh:yj};_j.useEffectEvent=sj;function wv(a,o,c,m){o=a.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Sv={enqueueSetState:function(a,o,c){a=a._reactInternals;var m=fr(),y=Oa(m);y.payload=o,c!=null&&(y.callback=c),o=ka(a,y,m),o!==null&&(qn(o,a,m),Tc(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var m=fr(),y=Oa(m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ka(a,y,m),o!==null&&(qn(o,a,m),Tc(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=fr(),m=Oa(c);m.tag=2,o!=null&&(m.callback=o),o=ka(a,m,c),o!==null&&(qn(o,a,c),Tc(o,a,c))}};function Ej(a,o,c,m,y,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,C):o.prototype&&o.prototype.isPureReactComponent?!bc(c,m)||!bc(y,b):!0}function jj(a,o,c,m){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==a&&Sv.enqueueReplaceState(o,o.state,null)}function Os(a,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function Cj(a){ef(a)}function Nj(a){console.error(a)}function Tj(a){ef(a)}function Ef(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Aj(a,o,c){try{var m=a.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function _v(a,o,c){return c=Oa(c),c.tag=3,c.payload={element:null},c.callback=function(){Ef(a,o)},c}function Oj(a){return a=Oa(a),a.tag=3,a}function kj(a,o,c,m){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=m.value;a.payload=function(){return y(b)},a.callback=function(){Aj(o,c,m)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){Aj(o,c,m),typeof y!="function"&&(La===null?La=new Set([this]):La.add(this));var O=m.stack;this.componentDidCatch(m.value,{componentStack:O!==null?O:""})})}function xB(a,o,c,m,y){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&zo(o,c,y,!0),c=lr.current,c!==null){switch(c.tag){case 31:case 13:return kr===null?If():c.alternate===null&&jt===0&&(jt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,m===df?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Kv(a,m,y)),!1;case 22:return c.flags|=65536,m===df?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Kv(a,m,y)),!1}throw Error(r(435,c.tag))}return Kv(a,m,y),If(),!1}if(He)return o=lr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,m!==Vg&&(a=Error(r(422),{cause:m}),_c(Nr(a,c)))):(m!==Vg&&(o=Error(r(423),{cause:m}),_c(Nr(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=Nr(m,c),y=_v(a.stateNode,m,y),Jg(a,y),jt!==4&&(jt=2)),!1;var b=Error(r(520),{cause:m});if(b=Nr(b,c),Vc===null?Vc=[b]:Vc.push(b),jt!==4&&(jt=2),o===null)return!0;m=Nr(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=_v(c.stateNode,m,a),Jg(c,a),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(La===null||!La.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Oj(y),kj(y,a,c,m),Jg(c,y),!1}c=c.return}while(c!==null);return!1}var Ev=Error(r(461)),Rt=!1;function vn(a,o,c,m){o.child=a===null?RE(o,null,c,m):Ts(o,a.child,c,m)}function Pj(a,o,c,m,y){c=c.render;var b=o.ref;if("ref"in m){var C={};for(var O in m)O!=="ref"&&(C[O]=m[O])}else C=m;return Es(o),m=av(a,o,c,C,b,y),O=sv(),a!==null&&!Rt?(ov(a,o,y),Ii(a,o,y)):(He&&O&&Ug(o),o.flags|=1,vn(a,o,m,y),o.child)}function Dj(a,o,c,m,y){if(a===null){var b=c.type;return typeof b=="function"&&!Lg(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,Mj(a,o,b,m,y)):(a=af(c.type,null,m,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!Pv(a,y)){var C=b.memoizedProps;if(c=c.compare,c=c!==null?c:bc,c(C,m)&&a.ref===o.ref)return Ii(a,o,y)}return o.flags|=1,a=Oi(b,m),a.ref=o.ref,a.return=o,o.child=a}function Mj(a,o,c,m,y){if(a!==null){var b=a.memoizedProps;if(bc(b,m)&&a.ref===o.ref)if(Rt=!1,o.pendingProps=m=b,Pv(a,y))(a.flags&131072)!==0&&(Rt=!0);else return o.lanes=a.lanes,Ii(a,o,y)}return jv(a,o,c,m,y)}function Rj(a,o,c,m){var y=m.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,a!==null){for(m=o.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~b}else m=0,o.child=null;return Ij(a,o,b,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&cf(o,b!==null?b.cachePool:null),b!==null?BE(o,b):tv(),zE(o);else return m=o.lanes=536870912,Ij(a,o,b!==null?b.baseLanes|c:c,c,m)}else b!==null?(cf(o,b.cachePool),BE(o,b),Da(),o.memoizedState=null):(a!==null&&cf(o,null),tv(),Da());return vn(a,o,y,c),o.child}function Rc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ij(a,o,c,m,y){var b=Wg();return b=b===null?null:{parent:Dt._currentValue,pool:b},o.memoizedState={baseLanes:c,cachePool:b},a!==null&&cf(o,null),tv(),zE(o),a!==null&&zo(a,o,m,!0),o.childLanes=y,null}function jf(a,o){return o=Nf({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Lj(a,o,c){return Ts(o,a.child,null,c),a=jf(o,o.pendingProps),a.flags|=2,cr(o),o.memoizedState=null,a}function bB(a,o,c){var m=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(He){if(m.mode==="hidden")return a=jf(o,m),o.lanes=536870912,Rc(null,a);if(rv(o),(a=ht)?(a=WC(a,Or),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ja!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},c=bE(a),c.return=o,o.child=c,pn=o,ht=null)):a=null,a===null)throw Na(o);return o.lanes=536870912,null}return jf(o,m)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(rv(o),y)if(o.flags&256)o.flags&=-257,o=Lj(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Rt||zo(a,o,c,!1),y=(c&a.childLanes)!==0,Rt||y){if(m=it,m!==null&&(C=N_(m,c),C!==0&&C!==b.retryLane))throw b.retryLane=C,bs(a,C),qn(m,a,C),Ev;If(),o=Lj(a,o,c)}else a=b.treeContext,ht=Pr(C.nextSibling),pn=o,He=!0,Ca=null,Or=!1,a!==null&&_E(o,a),o=jf(o,m),o.flags|=4096;return o}return a=Oi(a.child,{mode:m.mode,children:m.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Cf(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function jv(a,o,c,m,y){return Es(o),c=av(a,o,c,m,void 0,y),m=sv(),a!==null&&!Rt?(ov(a,o,y),Ii(a,o,y)):(He&&m&&Ug(o),o.flags|=1,vn(a,o,c,y),o.child)}function Bj(a,o,c,m,y,b){return Es(o),o.updateQueue=null,c=FE(o,m,c,y),UE(a),m=sv(),a!==null&&!Rt?(ov(a,o,b),Ii(a,o,b)):(He&&m&&Ug(o),o.flags|=1,vn(a,o,c,b),o.child)}function zj(a,o,c,m,y){if(Es(o),o.stateNode===null){var b=Ro,C=c.contextType;typeof C=="object"&&C!==null&&(b=gn(C)),b=new c(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Sv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Qg(o),C=c.contextType,b.context=typeof C=="object"&&C!==null?gn(C):Ro,b.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(wv(o,c,C,m),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Sv.enqueueReplaceState(b,b.state,null),Oc(o,m,b,y),Ac(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(a===null){b=o.stateNode;var O=o.memoizedProps,L=Os(c,O);b.props=L;var q=b.context,ee=c.contextType;C=Ro,typeof ee=="object"&&ee!==null&&(C=gn(ee));var re=c.getDerivedStateFromProps;ee=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,ee||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O||q!==C)&&jj(o,b,m,C),Aa=!1;var K=o.memoizedState;b.state=K,Oc(o,m,b,y),Ac(),q=o.memoizedState,O||K!==q||Aa?(typeof re=="function"&&(wv(o,c,re,m),q=o.memoizedState),(L=Aa||Ej(o,c,L,m,K,q,C))?(ee||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=q),b.props=m,b.state=q,b.context=C,m=L):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Zg(a,o),C=o.memoizedProps,ee=Os(c,C),b.props=ee,re=o.pendingProps,K=b.context,q=c.contextType,L=Ro,typeof q=="object"&&q!==null&&(L=gn(q)),O=c.getDerivedStateFromProps,(q=typeof O=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==re||K!==L)&&jj(o,b,m,L),Aa=!1,K=o.memoizedState,b.state=K,Oc(o,m,b,y),Ac();var X=o.memoizedState;C!==re||K!==X||Aa||a!==null&&a.dependencies!==null&&of(a.dependencies)?(typeof O=="function"&&(wv(o,c,O,m),X=o.memoizedState),(ee=Aa||Ej(o,c,ee,m,K,X,L)||a!==null&&a.dependencies!==null&&of(a.dependencies))?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,X,L),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,X,L)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=X),b.props=m,b.state=X,b.context=L,m=ee):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&K===a.memoizedState||(o.flags|=1024),m=!1)}return b=m,Cf(a,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&m?(o.child=Ts(o,a.child,null,y),o.child=Ts(o,null,c,y)):vn(a,o,c,y),o.memoizedState=b.state,a=o.child):a=Ii(a,o,y),a}function Uj(a,o,c,m){return Ss(),o.flags|=256,vn(a,o,c,m),o.child}var Cv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nv(a){return{baseLanes:a,cachePool:AE()}}function Tv(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=dr),a}function Fj(a,o,c){var m=o.pendingProps,y=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(Tt.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(He){if(y?Pa(o):Da(),(a=ht)?(a=WC(a,Or),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ja!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},c=bE(a),c.return=o,o.child=c,pn=o,ht=null)):a=null,a===null)throw Na(o);return u0(a)?o.lanes=32:o.lanes=536870912,null}var O=m.children;return m=m.fallback,y?(Da(),y=o.mode,O=Nf({mode:"hidden",children:O},y),m=ws(m,y,c,null),O.return=o,m.return=o,O.sibling=m,o.child=O,m=o.child,m.memoizedState=Nv(c),m.childLanes=Tv(a,C,c),o.memoizedState=Cv,Rc(null,m)):(Pa(o),Av(o,O))}var L=a.memoizedState;if(L!==null&&(O=L.dehydrated,O!==null)){if(b)o.flags&256?(Pa(o),o.flags&=-257,o=Ov(a,o,c)):o.memoizedState!==null?(Da(),o.child=a.child,o.flags|=128,o=null):(Da(),O=m.fallback,y=o.mode,m=Nf({mode:"visible",children:m.children},y),O=ws(O,y,c,null),O.flags|=2,m.return=o,O.return=o,m.sibling=O,o.child=m,Ts(o,a.child,null,c),m=o.child,m.memoizedState=Nv(c),m.childLanes=Tv(a,C,c),o.memoizedState=Cv,o=Rc(null,m));else if(Pa(o),u0(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var q=C.dgst;C=q,m=Error(r(419)),m.stack="",m.digest=C,_c({value:m,source:null,stack:null}),o=Ov(a,o,c)}else if(Rt||zo(a,o,c,!1),C=(c&a.childLanes)!==0,Rt||C){if(C=it,C!==null&&(m=N_(C,c),m!==0&&m!==L.retryLane))throw L.retryLane=m,bs(a,m),qn(C,a,m),Ev;c0(O)||If(),o=Ov(a,o,c)}else c0(O)?(o.flags|=192,o.child=a.child,o=null):(a=L.treeContext,ht=Pr(O.nextSibling),pn=o,He=!0,Ca=null,Or=!1,a!==null&&_E(o,a),o=Av(o,m.children),o.flags|=4096);return o}return y?(Da(),O=m.fallback,y=o.mode,L=a.child,q=L.sibling,m=Oi(L,{mode:"hidden",children:m.children}),m.subtreeFlags=L.subtreeFlags&65011712,q!==null?O=Oi(q,O):(O=ws(O,y,c,null),O.flags|=2),O.return=o,m.return=o,m.sibling=O,o.child=m,Rc(null,m),m=o.child,O=a.child.memoizedState,O===null?O=Nv(c):(y=O.cachePool,y!==null?(L=Dt._currentValue,y=y.parent!==L?{parent:L,pool:L}:y):y=AE(),O={baseLanes:O.baseLanes|c,cachePool:y}),m.memoizedState=O,m.childLanes=Tv(a,C,c),o.memoizedState=Cv,Rc(a.child,m)):(Pa(o),c=a.child,a=c.sibling,c=Oi(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function Av(a,o){return o=Nf({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Nf(a,o){return a=or(22,a,null,o),a.lanes=0,a}function Ov(a,o,c){return Ts(o,a.child,null,c),a=Av(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Vj(a,o,c){a.lanes|=o;var m=a.alternate;m!==null&&(m.lanes|=o),qg(a.return,o,c)}function kv(a,o,c,m,y,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:y,treeForkCount:b}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=c,C.tailMode=y,C.treeForkCount=b)}function Hj(a,o,c){var m=o.pendingProps,y=m.revealOrder,b=m.tail;m=m.children;var C=Tt.current,O=(C&2)!==0;if(O?(C=C&1|2,o.flags|=128):C&=1,ie(Tt,C),vn(a,o,m,c),m=He?Sc:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Vj(a,c,o);else if(a.tag===19)Vj(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&pf(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),kv(o,!1,y,c,b,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&pf(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}kv(o,!0,c,null,b,m);break;case"together":kv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Ii(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ia|=o.lanes,(c&o.childLanes)===0)if(a!==null){if(zo(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Oi(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Oi(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Pv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&of(a)))}function wB(a,o,c){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),Ta(o,Dt,a.memoizedState.cache),Ss();break;case 27:case 5:je(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:Ta(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,rv(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Pa(o),o.flags|=128,null):(c&o.child.childLanes)!==0?Fj(a,o,c):(Pa(o),a=Ii(a,o,c),a!==null?a.sibling:null);Pa(o);break;case 19:var y=(a.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(zo(a,o,c,!1),m=(c&o.childLanes)!==0),y){if(m)return Hj(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(Tt,Tt.current),m)break;return null;case 22:return o.lanes=0,Rj(a,o,c,o.pendingProps);case 24:Ta(o,Dt,a.memoizedState.cache)}return Ii(a,o,c)}function $j(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)Rt=!0;else{if(!Pv(a,c)&&(o.flags&128)===0)return Rt=!1,wB(a,o,c);Rt=(a.flags&131072)!==0}else Rt=!1,He&&(o.flags&1048576)!==0&&SE(o,Sc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(a=Cs(o.elementType),o.type=a,typeof a=="function")Lg(a)?(m=Os(a,m),o.tag=1,o=zj(null,o,a,m,c)):(o.tag=0,o=jv(null,o,a,m,c));else{if(a!=null){var y=a.$$typeof;if(y===D){o.tag=11,o=Pj(null,o,a,m,c);break e}else if(y===I){o.tag=14,o=Dj(null,o,a,m,c);break e}}throw o=de(a)||a,Error(r(306,o,""))}}return o;case 0:return jv(a,o,o.type,o.pendingProps,c);case 1:return m=o.type,y=Os(m,o.pendingProps),zj(a,o,m,y,c);case 3:e:{if(ye(o,o.stateNode.containerInfo),a===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;y=b.element,Zg(a,o),Oc(o,m,null,c);var C=o.memoizedState;if(m=C.cache,Ta(o,Dt,m),m!==b.cache&&Gg(o,[Dt],c,!0),Ac(),m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Uj(a,o,m,c);break e}else if(m!==y){y=Nr(Error(r(424)),o),_c(y),o=Uj(a,o,m,c);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ht=Pr(a.firstChild),pn=o,He=!0,Ca=null,Or=!0,c=RE(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ss(),m===y){o=Ii(a,o,c);break e}vn(a,o,m,c)}o=o.child}return o;case 26:return Cf(a,o),a===null?(c=tN(o.type,null,o.pendingProps,null))?o.memoizedState=c:He||(c=o.type,a=o.pendingProps,m=Hf(Ne.current).createElement(c),m[mn]=o,m[zn]=a,yn(m,c,a),Qt(m),o.stateNode=m):o.memoizedState=tN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return je(o),a===null&&He&&(m=o.stateNode=ZC(o.type,o.pendingProps,Ne.current),pn=o,Or=!0,y=ht,Fa(o.type)?(d0=y,ht=Pr(m.firstChild)):ht=y),vn(a,o,o.pendingProps.children,c),Cf(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&He&&((y=m=ht)&&(m=QB(m,o.type,o.pendingProps,Or),m!==null?(o.stateNode=m,pn=o,ht=Pr(m.firstChild),Or=!1,y=!0):y=!1),y||Na(o)),je(o),y=o.type,b=o.pendingProps,C=a!==null?a.memoizedProps:null,m=b.children,s0(y,b)?m=null:C!==null&&s0(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=av(a,o,fB,null,null,c),Xc._currentValue=y),Cf(a,o),vn(a,o,m,c),o.child;case 6:return a===null&&He&&((a=c=ht)&&(c=ZB(c,o.pendingProps,Or),c!==null?(o.stateNode=c,pn=o,ht=null,a=!0):a=!1),a||Na(o)),null;case 13:return Fj(a,o,c);case 4:return ye(o,o.stateNode.containerInfo),m=o.pendingProps,a===null?o.child=Ts(o,null,m,c):vn(a,o,m,c),o.child;case 11:return Pj(a,o,o.type,o.pendingProps,c);case 7:return vn(a,o,o.pendingProps,c),o.child;case 8:return vn(a,o,o.pendingProps.children,c),o.child;case 12:return vn(a,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Ta(o,o.type,m.value),vn(a,o,m.children,c),o.child;case 9:return y=o.type._context,m=o.pendingProps.children,Es(o),y=gn(y),m=m(y),o.flags|=1,vn(a,o,m,c),o.child;case 14:return Dj(a,o,o.type,o.pendingProps,c);case 15:return Mj(a,o,o.type,o.pendingProps,c);case 19:return Hj(a,o,c);case 31:return bB(a,o,c);case 22:return Rj(a,o,c,o.pendingProps);case 24:return Es(o),m=gn(Dt),a===null?(y=Wg(),y===null&&(y=it,b=Yg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),o.memoizedState={parent:m,cache:y},Qg(o),Ta(o,Dt,y)):((a.lanes&c)!==0&&(Zg(a,o),Oc(o,null,null,c),Ac()),y=a.memoizedState,b=o.memoizedState,y.parent!==m?(y={parent:m,cache:m},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ta(o,Dt,m)):(m=b.cache,Ta(o,Dt,m),m!==y.cache&&Gg(o,[Dt],c,!0))),vn(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Li(a){a.flags|=4}function Dv(a,o,c,m,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(vC())a.flags|=8192;else throw Ns=df,Xg}else a.flags&=-16777217}function qj(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!sN(o))if(vC())a.flags|=8192;else throw Ns=df,Xg}function Tf(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?E_():536870912,a.lanes|=o,Qo|=o)}function Ic(a,o){if(!He)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function mt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,m=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=c,o}function SB(a,o,c){var m=o.pendingProps;switch(Fg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(o),null;case 1:return mt(o),null;case 3:return c=o.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Di(Dt),W(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Bo(o)?Li(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Hg())),mt(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Li(o),b!==null?(mt(o),qj(o,b)):(mt(o),Dv(o,y,null,m,c))):b?b!==a.memoizedState?(Li(o),mt(o),qj(o,b)):(mt(o),o.flags&=-16777217):(a=a.memoizedProps,a!==m&&Li(o),mt(o),Dv(o,y,a,m,c)),null;case 27:if(De(o),c=Ne.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Li(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return mt(o),null}a=ue.current,Bo(o)?EE(o):(a=ZC(y,m,c),o.stateNode=a,Li(o))}return mt(o),null;case 5:if(De(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==m&&Li(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return mt(o),null}if(b=ue.current,Bo(o))EE(o);else{var C=Hf(Ne.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?C.createElement(y,{is:m.is}):C.createElement(y)}}b[mn]=o,b[zn]=m;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=b;e:switch(yn(b,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Li(o)}}return mt(o),Dv(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==m&&Li(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(a=Ne.current,Bo(o)){if(a=o.stateNode,c=o.memoizedProps,m=null,y=pn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[mn]=o,a=!!(a.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||FC(a.nodeValue,c)),a||Na(o,!0)}else a=Hf(a).createTextNode(m),a[mn]=o,o.stateNode=a}return mt(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(m=Bo(o),c!==null){if(a===null){if(!m)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[mn]=o}else Ss(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;mt(o),a=!1}else c=Hg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(cr(o),o):(cr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return mt(o),null;case 13:if(m=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Bo(o),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[mn]=o}else Ss(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;mt(o),y=!1}else y=Hg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(cr(o),o):(cr(o),null)}return cr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,a=a!==null&&a.memoizedState!==null,c&&(m=o.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==y&&(m.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Tf(o,o.updateQueue),mt(o),null);case 4:return W(),a===null&&t0(o.stateNode.containerInfo),mt(o),null;case 10:return Di(o.type),mt(o),null;case 19:if(G(Tt),m=o.memoizedState,m===null)return mt(o),null;if(y=(o.flags&128)!==0,b=m.rendering,b===null)if(y)Ic(m,!1);else{if(jt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=pf(a),b!==null){for(o.flags|=128,Ic(m,!1),a=b.updateQueue,o.updateQueue=a,Tf(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)xE(c,a),c=c.sibling;return ie(Tt,Tt.current&1|2),He&&ki(o,m.treeForkCount),o.child}a=a.sibling}m.tail!==null&&rr()>Df&&(o.flags|=128,y=!0,Ic(m,!1),o.lanes=4194304)}else{if(!y)if(a=pf(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Tf(o,a),Ic(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!He)return mt(o),null}else 2*rr()-m.renderingStartTime>Df&&c!==536870912&&(o.flags|=128,y=!0,Ic(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(a=m.last,a!==null?a.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=rr(),a.sibling=null,c=Tt.current,ie(Tt,y?c&1|2:c&1),He&&ki(o,m.treeForkCount),a):(mt(o),null);case 22:case 23:return cr(o),nv(),m=o.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(mt(o),o.subtreeFlags&6&&(o.flags|=8192)):mt(o),c=o.updateQueue,c!==null&&Tf(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),a!==null&&G(js),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Di(Dt),mt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function _B(a,o){switch(Fg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Di(Dt),W(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return De(o),null;case 31:if(o.memoizedState!==null){if(cr(o),o.alternate===null)throw Error(r(340));Ss()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(cr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ss()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return G(Tt),null;case 4:return W(),null;case 10:return Di(o.type),null;case 22:case 23:return cr(o),nv(),a!==null&&G(js),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Di(Dt),null;case 25:return null;default:return null}}function Gj(a,o){switch(Fg(o),o.tag){case 3:Di(Dt),W();break;case 26:case 27:case 5:De(o);break;case 4:W();break;case 31:o.memoizedState!==null&&cr(o);break;case 13:cr(o);break;case 19:G(Tt);break;case 10:Di(o.type);break;case 22:case 23:cr(o),nv(),a!==null&&G(js);break;case 24:Di(Dt)}}function Lc(a,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&a)===a){m=void 0;var b=c.create,C=c.inst;m=b(),C.destroy=m}c=c.next}while(c!==y)}}catch(O){Je(o,o.return,O)}}function Ma(a,o,c){try{var m=o.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var b=y.next;m=b;do{if((m.tag&a)===a){var C=m.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,y=o;var L=c,q=O;try{q()}catch(ee){Je(y,L,ee)}}}m=m.next}while(m!==b)}}catch(ee){Je(o,o.return,ee)}}function Yj(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{LE(o,c)}catch(m){Je(a,a.return,m)}}}function Kj(a,o,c){c.props=Os(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(m){Je(a,o,m)}}function Bc(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof c=="function"?a.refCleanup=c(m):c.current=m}}catch(y){Je(a,o,y)}}function ui(a,o){var c=a.ref,m=a.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(y){Je(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Je(a,o,y)}else c.current=null}function Wj(a){var o=a.type,c=a.memoizedProps,m=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(y){Je(a,a.return,y)}}function Mv(a,o,c){try{var m=a.stateNode;qB(m,a.type,c,o),m[zn]=o}catch(y){Je(a,a.return,y)}}function Xj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Fa(a.type)||a.tag===4}function Rv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Xj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Fa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Iv(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ti));else if(m!==4&&(m===27&&Fa(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(Iv(a,o,c),a=a.sibling;a!==null;)Iv(a,o,c),a=a.sibling}function Af(a,o,c){var m=a.tag;if(m===5||m===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(m!==4&&(m===27&&Fa(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Af(a,o,c),a=a.sibling;a!==null;)Af(a,o,c),a=a.sibling}function Qj(a){var o=a.stateNode,c=a.memoizedProps;try{for(var m=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);yn(o,m,c),o[mn]=a,o[zn]=c}catch(b){Je(a,a.return,b)}}var Bi=!1,It=!1,Lv=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function EB(a,o){if(a=a.containerInfo,i0=Xf,a=uE(a),Og(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var y=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var C=0,O=-1,L=-1,q=0,ee=0,re=a,K=null;t:for(;;){for(var X;re!==c||y!==0&&re.nodeType!==3||(O=C+y),re!==b||m!==0&&re.nodeType!==3||(L=C+m),re.nodeType===3&&(C+=re.nodeValue.length),(X=re.firstChild)!==null;)K=re,re=X;for(;;){if(re===a)break t;if(K===c&&++q===y&&(O=C),K===b&&++ee===m&&(L=C),(X=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=X}c=O===-1||L===-1?null:{start:O,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(a0={focusedElem:a,selectionRange:c},Xf=!1,Zt=o;Zt!==null;)if(o=Zt,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Zt=a;else for(;Zt!==null;){switch(o=Zt,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,c=o,y=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var he=Os(c.type,y);a=m.getSnapshotBeforeUpdate(he,b),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ee){Je(c,c.return,Ee)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)l0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":l0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Zt=a;break}Zt=o.return}}function Jj(a,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ui(a,c),m&4&&Lc(5,c);break;case 1:if(Ui(a,c),m&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Je(c,c.return,C)}else{var y=Os(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Je(c,c.return,C)}}m&64&&Yj(c),m&512&&Bc(c,c.return);break;case 3:if(Ui(a,c),m&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{LE(a,o)}catch(C){Je(c,c.return,C)}}break;case 27:o===null&&m&4&&Qj(c);case 26:case 5:Ui(a,c),o===null&&m&4&&Wj(c),m&512&&Bc(c,c.return);break;case 12:Ui(a,c);break;case 31:Ui(a,c),m&4&&nC(a,c);break;case 13:Ui(a,c),m&4&&rC(a,c),m&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=DB.bind(null,c),JB(a,c))));break;case 22:if(m=c.memoizedState!==null||Bi,!m){o=o!==null&&o.memoizedState!==null||It,y=Bi;var b=It;Bi=m,(It=o)&&!b?Fi(a,c,(c.subtreeFlags&8772)!==0):Ui(a,c),Bi=y,It=b}break;case 30:break;default:Ui(a,c)}}function eC(a){var o=a.alternate;o!==null&&(a.alternate=null,eC(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&hg(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var xt=null,Fn=!1;function zi(a,o,c){for(c=c.child;c!==null;)tC(a,o,c),c=c.sibling}function tC(a,o,c){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(lc,c)}catch{}switch(c.tag){case 26:It||ui(c,o),zi(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:It||ui(c,o);var m=xt,y=Fn;Fa(c.type)&&(xt=c.stateNode,Fn=!1),zi(a,o,c),Yc(c.stateNode),xt=m,Fn=y;break;case 5:It||ui(c,o);case 6:if(m=xt,y=Fn,xt=null,zi(a,o,c),xt=m,Fn=y,xt!==null)if(Fn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(c.stateNode)}catch(b){Je(c,o,b)}else try{xt.removeChild(c.stateNode)}catch(b){Je(c,o,b)}break;case 18:xt!==null&&(Fn?(a=xt,YC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),al(a)):YC(xt,c.stateNode));break;case 4:m=xt,y=Fn,xt=c.stateNode.containerInfo,Fn=!0,zi(a,o,c),xt=m,Fn=y;break;case 0:case 11:case 14:case 15:Ma(2,c,o),It||Ma(4,c,o),zi(a,o,c);break;case 1:It||(ui(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Kj(c,o,m)),zi(a,o,c);break;case 21:zi(a,o,c);break;case 22:It=(m=It)||c.memoizedState!==null,zi(a,o,c),It=m;break;default:zi(a,o,c)}}function nC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{al(a)}catch(c){Je(o,o.return,c)}}}function rC(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{al(a)}catch(c){Je(o,o.return,c)}}function jB(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new Zj),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new Zj),o;default:throw Error(r(435,a.tag))}}function Of(a,o){var c=jB(a);o.forEach(function(m){if(!c.has(m)){c.add(m);var y=MB.bind(null,a,m);m.then(y,y)}})}function Vn(a,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var y=c[m],b=a,C=o,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(Fa(O.type)){xt=O.stateNode,Fn=!1;break e}break;case 5:xt=O.stateNode,Fn=!1;break e;case 3:case 4:xt=O.stateNode.containerInfo,Fn=!0;break e}O=O.return}if(xt===null)throw Error(r(160));tC(b,C,y),xt=null,Fn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)iC(o,a),o=o.sibling}var Kr=null;function iC(a,o){var c=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vn(o,a),Hn(a),m&4&&(Ma(3,a,a.return),Lc(3,a),Ma(5,a,a.return));break;case 1:Vn(o,a),Hn(a),m&512&&(It||c===null||ui(c,c.return)),m&64&&Bi&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var y=Kr;if(Vn(o,a),Hn(a),m&512&&(It||c===null||ui(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=a.memoizedState,c===null)if(m===null)if(a.stateNode===null){e:{m=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":b=y.getElementsByTagName("title")[0],(!b||b[dc]||b[mn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(m),y.head.insertBefore(b,y.querySelector("head > title"))),yn(b,m,c),b[mn]=a,Qt(b),m=b;break e;case"link":var C=iN("link","href",y).get(m+(c.href||""));if(C){for(var O=0;O<C.length;O++)if(b=C[O],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(O,1);break t}}b=y.createElement(m),yn(b,m,c),y.head.appendChild(b);break;case"meta":if(C=iN("meta","content",y).get(m+(c.content||""))){for(O=0;O<C.length;O++)if(b=C[O],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(O,1);break t}}b=y.createElement(m),yn(b,m,c),y.head.appendChild(b);break;default:throw Error(r(468,m))}b[mn]=a,Qt(b),m=b}a.stateNode=m}else aN(y,a.type,a.stateNode);else a.stateNode=rN(y,m,a.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?aN(y,a.type,a.stateNode):rN(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Mv(a,a.memoizedProps,c.memoizedProps)}break;case 27:Vn(o,a),Hn(a),m&512&&(It||c===null||ui(c,c.return)),c!==null&&m&4&&Mv(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Vn(o,a),Hn(a),m&512&&(It||c===null||ui(c,c.return)),a.flags&32){y=a.stateNode;try{To(y,"")}catch(he){Je(a,a.return,he)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Mv(a,y,c!==null?c.memoizedProps:y)),m&1024&&(Lv=!0);break;case 6:if(Vn(o,a),Hn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,c=a.stateNode;try{c.nodeValue=m}catch(he){Je(a,a.return,he)}}break;case 3:if(Gf=null,y=Kr,Kr=$f(o.containerInfo),Vn(o,a),Kr=y,Hn(a),m&4&&c!==null&&c.memoizedState.isDehydrated)try{al(o.containerInfo)}catch(he){Je(a,a.return,he)}Lv&&(Lv=!1,aC(a));break;case 4:m=Kr,Kr=$f(a.stateNode.containerInfo),Vn(o,a),Hn(a),Kr=m;break;case 12:Vn(o,a),Hn(a);break;case 31:Vn(o,a),Hn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Of(a,m)));break;case 13:Vn(o,a),Hn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Pf=rr()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Of(a,m)));break;case 22:y=a.memoizedState!==null;var L=c!==null&&c.memoizedState!==null,q=Bi,ee=It;if(Bi=q||y,It=ee||L,Vn(o,a),It=ee,Bi=q,Hn(a),m&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||L||Bi||It||ks(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){L=c=o;try{if(b=L.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=L.stateNode;var re=L.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;O.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Je(L,L.return,he)}}}else if(o.tag===6){if(c===null){L=o;try{L.stateNode.nodeValue=y?"":L.memoizedProps}catch(he){Je(L,L.return,he)}}}else if(o.tag===18){if(c===null){L=o;try{var X=L.stateNode;y?KC(X,!0):KC(L.stateNode,!1)}catch(he){Je(L,L.return,he)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=a.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Of(a,c))));break;case 19:Vn(o,a),Hn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Of(a,m)));break;case 30:break;case 21:break;default:Vn(o,a),Hn(a)}}function Hn(a){var o=a.flags;if(o&2){try{for(var c,m=a.return;m!==null;){if(Xj(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,b=Rv(a);Af(a,b,y);break;case 5:var C=c.stateNode;c.flags&32&&(To(C,""),c.flags&=-33);var O=Rv(a);Af(a,O,C);break;case 3:case 4:var L=c.stateNode.containerInfo,q=Rv(a);Iv(a,q,L);break;default:throw Error(r(161))}}catch(ee){Je(a,a.return,ee)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function aC(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;aC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ui(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Jj(a,o.alternate,o),o=o.sibling}function ks(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ma(4,o,o.return),ks(o);break;case 1:ui(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Kj(o,o.return,c),ks(o);break;case 27:Yc(o.stateNode);case 26:case 5:ui(o,o.return),ks(o);break;case 22:o.memoizedState===null&&ks(o);break;case 30:ks(o);break;default:ks(o)}a=a.sibling}}function Fi(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,y=a,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:Fi(y,b,c),Lc(4,b);break;case 1:if(Fi(y,b,c),m=b,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(q){Je(m,m.return,q)}if(m=b,y=m.updateQueue,y!==null){var O=m.stateNode;try{var L=y.shared.hiddenCallbacks;if(L!==null)for(y.shared.hiddenCallbacks=null,y=0;y<L.length;y++)IE(L[y],O)}catch(q){Je(m,m.return,q)}}c&&C&64&&Yj(b),Bc(b,b.return);break;case 27:Qj(b);case 26:case 5:Fi(y,b,c),c&&m===null&&C&4&&Wj(b),Bc(b,b.return);break;case 12:Fi(y,b,c);break;case 31:Fi(y,b,c),c&&C&4&&nC(y,b);break;case 13:Fi(y,b,c),c&&C&4&&rC(y,b);break;case 22:b.memoizedState===null&&Fi(y,b,c),Bc(b,b.return);break;case 30:break;default:Fi(y,b,c)}o=o.sibling}}function Bv(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ec(c))}function zv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ec(a))}function Wr(a,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sC(a,o,c,m),o=o.sibling}function sC(a,o,c,m){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Wr(a,o,c,m),y&2048&&Lc(9,o);break;case 1:Wr(a,o,c,m);break;case 3:Wr(a,o,c,m),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Ec(a)));break;case 12:if(y&2048){Wr(a,o,c,m),a=o.stateNode;try{var b=o.memoizedProps,C=b.id,O=b.onPostCommit;typeof O=="function"&&O(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(L){Je(o,o.return,L)}}else Wr(a,o,c,m);break;case 31:Wr(a,o,c,m);break;case 13:Wr(a,o,c,m);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?Wr(a,o,c,m):zc(a,o):b._visibility&2?Wr(a,o,c,m):(b._visibility|=2,Ko(a,o,c,m,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Bv(C,o);break;case 24:Wr(a,o,c,m),y&2048&&zv(o.alternate,o);break;default:Wr(a,o,c,m)}}function Ko(a,o,c,m,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,C=o,O=c,L=m,q=C.flags;switch(C.tag){case 0:case 11:case 15:Ko(b,C,O,L,y),Lc(8,C);break;case 23:break;case 22:var ee=C.stateNode;C.memoizedState!==null?ee._visibility&2?Ko(b,C,O,L,y):zc(b,C):(ee._visibility|=2,Ko(b,C,O,L,y)),y&&q&2048&&Bv(C.alternate,C);break;case 24:Ko(b,C,O,L,y),y&&q&2048&&zv(C.alternate,C);break;default:Ko(b,C,O,L,y)}o=o.sibling}}function zc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,m=o,y=m.flags;switch(m.tag){case 22:zc(c,m),y&2048&&Bv(m.alternate,m);break;case 24:zc(c,m),y&2048&&zv(m.alternate,m);break;default:zc(c,m)}o=o.sibling}}var Uc=8192;function Wo(a,o,c){if(a.subtreeFlags&Uc)for(a=a.child;a!==null;)oC(a,o,c),a=a.sibling}function oC(a,o,c){switch(a.tag){case 26:Wo(a,o,c),a.flags&Uc&&a.memoizedState!==null&&dz(c,Kr,a.memoizedState,a.memoizedProps);break;case 5:Wo(a,o,c);break;case 3:case 4:var m=Kr;Kr=$f(a.stateNode.containerInfo),Wo(a,o,c),Kr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Uc,Uc=16777216,Wo(a,o,c),Uc=m):Wo(a,o,c));break;default:Wo(a,o,c)}}function lC(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Fc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Zt=m,uC(m,a)}lC(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cC(a),a=a.sibling}function cC(a){switch(a.tag){case 0:case 11:case 15:Fc(a),a.flags&2048&&Ma(9,a,a.return);break;case 3:Fc(a);break;case 12:Fc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,kf(a)):Fc(a);break;default:Fc(a)}}function kf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];Zt=m,uC(m,a)}lC(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ma(8,o,o.return),kf(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,kf(o));break;default:kf(o)}a=a.sibling}}function uC(a,o){for(;Zt!==null;){var c=Zt;switch(c.tag){case 0:case 11:case 15:Ma(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ec(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Zt=m;else e:for(c=a;Zt!==null;){m=Zt;var y=m.sibling,b=m.return;if(eC(m),m===c){Zt=null;break e}if(y!==null){y.return=b,Zt=y;break e}Zt=b}}}var CB={getCacheForType:function(a){var o=gn(Dt),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return gn(Dt).controller.signal}},NB=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Be=null,Fe=0,Ze=0,ur=null,Ra=!1,Xo=!1,Uv=!1,Vi=0,jt=0,Ia=0,Ps=0,Fv=0,dr=0,Qo=0,Vc=null,$n=null,Vv=!1,Pf=0,dC=0,Df=1/0,Mf=null,La=null,Ut=0,Ba=null,Zo=null,Hi=0,Hv=0,$v=null,fC=null,Hc=0,qv=null;function fr(){return(Qe&2)!==0&&Fe!==0?Fe&-Fe:M.T!==null?Qv():T_()}function hC(){if(dr===0)if((Fe&536870912)===0||He){var a=Fd;Fd<<=1,(Fd&3932160)===0&&(Fd=262144),dr=a}else dr=536870912;return a=lr.current,a!==null&&(a.flags|=32),dr}function qn(a,o,c){(a===it&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)&&(Jo(a,0),za(a,Fe,dr,!1)),uc(a,c),((Qe&2)===0||a!==it)&&(a===it&&((Qe&2)===0&&(Ps|=c),jt===4&&za(a,Fe,dr,!1)),di(a))}function mC(a,o,c){if((Qe&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&a.expiredLanes)===0||cc(a,o),y=m?OB(a,o):Yv(a,o,!0),b=m;do{if(y===0){Xo&&!m&&za(a,o,0,!1);break}else{if(c=a.current.alternate,b&&!TB(c)){y=Yv(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var O=a;y=Vc;var L=O.current.memoizedState.isDehydrated;if(L&&(Jo(O,C).flags|=256),C=Yv(O,C,!1),C!==2){if(Uv&&!L){O.errorRecoveryDisabledLanes|=b,Ps|=b,y=4;break e}b=$n,$n=y,b!==null&&($n===null?$n=b:$n.push.apply($n,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){Jo(a,0),za(a,o,0,!0);break}e:{switch(m=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:za(m,o,dr,!Ra);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Pf+300-rr(),10<y)){if(za(m,o,dr,!Ra),Hd(m,0,!0)!==0)break e;Hi=o,m.timeoutHandle=qC(pC.bind(null,m,c,$n,Mf,Vv,o,dr,Ps,Qo,Ra,b,"Throttled",-0,0),y);break e}pC(m,c,$n,Mf,Vv,o,dr,Ps,Qo,Ra,b,null,-0,0)}}break}while(!0);di(a)}function pC(a,o,c,m,y,b,C,O,L,q,ee,re,K,X){if(a.timeoutHandle=-1,re=o.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},oC(o,b,re);var he=(b&62914560)===b?Pf-rr():(b&4194048)===b?dC-rr():0;if(he=fz(re,he),he!==null){Hi=b,a.cancelPendingCommit=he(_C.bind(null,a,o,b,c,m,y,C,O,L,ee,re,null,K,X)),za(a,b,C,!q);return}}_C(a,o,b,c,m,y,C,O,L)}function TB(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var y=c[m],b=y.getSnapshot;y=y.value;try{if(!sr(b(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function za(a,o,c,m){o&=~Fv,o&=~Ps,a.suspendedLanes|=o,a.pingedLanes&=~o,m&&(a.warmLanes|=o),m=a.expirationTimes;for(var y=o;0<y;){var b=31-ar(y),C=1<<b;m[b]=-1,y&=~C}c!==0&&j_(a,c,o)}function Rf(){return(Qe&6)===0?($c(0),!1):!0}function Gv(){if(Be!==null){if(Ze===0)var a=Be.return;else a=Be,Pi=_s=null,lv(a),Ho=null,Cc=0,a=Be;for(;a!==null;)Gj(a.alternate,a),a=a.return;Be=null}}function Jo(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,KB(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Hi=0,Gv(),it=a,Be=c=Oi(a.current,null),Fe=o,Ze=0,ur=null,Ra=!1,Xo=cc(a,o),Uv=!1,Qo=dr=Fv=Ps=Ia=jt=0,$n=Vc=null,Vv=!1,(o&8)!==0&&(o|=o&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=o;0<m;){var y=31-ar(m),b=1<<y;o|=a[y],m&=~b}return Vi=o,tf(),c}function gC(a,o){ke=null,M.H=Mc,o===Vo||o===uf?(o=PE(),Ze=3):o===Xg?(o=PE(),Ze=4):Ze=o===Ev?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ur=o,Be===null&&(jt=1,Ef(a,Nr(o,a.current)))}function vC(){var a=lr.current;return a===null?!0:(Fe&4194048)===Fe?kr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?a===kr:!1}function yC(){var a=M.H;return M.H=Mc,a===null?Mc:a}function xC(){var a=M.A;return M.A=CB,a}function If(){jt=4,Ra||(Fe&4194048)!==Fe&&lr.current!==null||(Xo=!0),(Ia&134217727)===0&&(Ps&134217727)===0||it===null||za(it,Fe,dr,!1)}function Yv(a,o,c){var m=Qe;Qe|=2;var y=yC(),b=xC();(it!==a||Fe!==o)&&(Mf=null,Jo(a,o)),o=!1;var C=jt;e:do try{if(Ze!==0&&Be!==null){var O=Be,L=ur;switch(Ze){case 8:Gv(),C=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(o=!0);var q=Ze;if(Ze=0,ur=null,el(a,O,L,q),c&&Xo){C=0;break e}break;default:q=Ze,Ze=0,ur=null,el(a,O,L,q)}}AB(),C=jt;break}catch(ee){gC(a,ee)}while(!0);return o&&a.shellSuspendCounter++,Pi=_s=null,Qe=m,M.H=y,M.A=b,Be===null&&(it=null,Fe=0,tf()),C}function AB(){for(;Be!==null;)bC(Be)}function OB(a,o){var c=Qe;Qe|=2;var m=yC(),y=xC();it!==a||Fe!==o?(Mf=null,Df=rr()+500,Jo(a,o)):Xo=cc(a,o);e:do try{if(Ze!==0&&Be!==null){o=Be;var b=ur;t:switch(Ze){case 1:Ze=0,ur=null,el(a,o,b,1);break;case 2:case 9:if(OE(b)){Ze=0,ur=null,wC(o);break}o=function(){Ze!==2&&Ze!==9||it!==a||(Ze=7),di(a)},b.then(o,o);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:OE(b)?(Ze=0,ur=null,wC(o)):(Ze=0,ur=null,el(a,o,b,7));break;case 5:var C=null;switch(Be.tag){case 26:C=Be.memoizedState;case 5:case 27:var O=Be;if(C?sN(C):O.stateNode.complete){Ze=0,ur=null;var L=O.sibling;if(L!==null)Be=L;else{var q=O.return;q!==null?(Be=q,Lf(q)):Be=null}break t}}Ze=0,ur=null,el(a,o,b,5);break;case 6:Ze=0,ur=null,el(a,o,b,6);break;case 8:Gv(),jt=6;break e;default:throw Error(r(462))}}kB();break}catch(ee){gC(a,ee)}while(!0);return Pi=_s=null,M.H=m,M.A=y,Qe=c,Be!==null?0:(it=null,Fe=0,tf(),jt)}function kB(){for(;Be!==null&&!e8();)bC(Be)}function bC(a){var o=$j(a.alternate,a,Vi);a.memoizedProps=a.pendingProps,o===null?Lf(a):Be=o}function wC(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=Bj(c,o,o.pendingProps,o.type,void 0,Fe);break;case 11:o=Bj(c,o,o.pendingProps,o.type.render,o.ref,Fe);break;case 5:lv(o);default:Gj(c,o),o=Be=xE(o,Vi),o=$j(c,o,Vi)}a.memoizedProps=a.pendingProps,o===null?Lf(a):Be=o}function el(a,o,c,m){Pi=_s=null,lv(o),Ho=null,Cc=0;var y=o.return;try{if(xB(a,y,o,c,Fe)){jt=1,Ef(a,Nr(c,a.current)),Be=null;return}}catch(b){if(y!==null)throw Be=y,b;jt=1,Ef(a,Nr(c,a.current)),Be=null;return}o.flags&32768?(He||m===1?a=!0:Xo||(Fe&536870912)!==0?a=!1:(Ra=a=!0,(m===2||m===9||m===3||m===6)&&(m=lr.current,m!==null&&m.tag===13&&(m.flags|=16384))),SC(o,a)):Lf(o)}function Lf(a){var o=a;do{if((o.flags&32768)!==0){SC(o,Ra);return}a=o.return;var c=SB(o.alternate,o,Vi);if(c!==null){Be=c;return}if(o=o.sibling,o!==null){Be=o;return}Be=o=a}while(o!==null);jt===0&&(jt=5)}function SC(a,o){do{var c=_B(a.alternate,a);if(c!==null){c.flags&=32767,Be=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Be=a;return}Be=a=c}while(a!==null);jt=6,Be=null}function _C(a,o,c,m,y,b,C,O,L){a.cancelPendingCommit=null;do Bf();while(Ut!==0);if((Qe&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Rg,u8(a,c,b,C,O,L),a===it&&(Be=it=null,Fe=0),Zo=o,Ba=a,Hi=c,Hv=b,$v=y,fC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,RB(zd,function(){return TC(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=M.T,M.T=null,y=k.p,k.p=2,C=Qe,Qe|=4;try{EB(a,o,c)}finally{Qe=C,k.p=y,M.T=m}}Ut=1,EC(),jC(),CC()}}function EC(){if(Ut===1){Ut=0;var a=Ba,o=Zo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=M.T,M.T=null;var m=k.p;k.p=2;var y=Qe;Qe|=4;try{iC(o,a);var b=a0,C=uE(a.containerInfo),O=b.focusedElem,L=b.selectionRange;if(C!==O&&O&&O.ownerDocument&&cE(O.ownerDocument.documentElement,O)){if(L!==null&&Og(O)){var q=L.start,ee=L.end;if(ee===void 0&&(ee=q),"selectionStart"in O)O.selectionStart=q,O.selectionEnd=Math.min(ee,O.value.length);else{var re=O.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var X=K.getSelection(),he=O.textContent.length,Ee=Math.min(L.start,he),rt=L.end===void 0?Ee:Math.min(L.end,he);!X.extend&&Ee>rt&&(C=rt,rt=Ee,Ee=C);var F=lE(O,Ee),z=lE(O,rt);if(F&&z&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var $=re.createRange();$.setStart(F.node,F.offset),X.removeAllRanges(),Ee>rt?(X.addRange($),X.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),X.addRange($))}}}}for(re=[],X=O;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<re.length;O++){var ne=re[O];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Xf=!!i0,a0=i0=null}finally{Qe=y,k.p=m,M.T=c}}a.current=o,Ut=2}}function jC(){if(Ut===2){Ut=0;var a=Ba,o=Zo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=M.T,M.T=null;var m=k.p;k.p=2;var y=Qe;Qe|=4;try{Jj(a,o.alternate,o)}finally{Qe=y,k.p=m,M.T=c}}Ut=3}}function CC(){if(Ut===4||Ut===3){Ut=0,t8();var a=Ba,o=Zo,c=Hi,m=fC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ut=5:(Ut=0,Zo=Ba=null,NC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(La=null),dg(c),o=o.stateNode,ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(lc,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=M.T,y=k.p,k.p=2,M.T=null;try{for(var b=a.onRecoverableError,C=0;C<m.length;C++){var O=m[C];b(O.value,{componentStack:O.stack})}}finally{M.T=o,k.p=y}}(Hi&3)!==0&&Bf(),di(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===qv?Hc++:(Hc=0,qv=a):Hc=0,$c(0)}}function NC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Ec(o)))}function Bf(){return EC(),jC(),CC(),TC()}function TC(){if(Ut!==5)return!1;var a=Ba,o=Hv;Hv=0;var c=dg(Hi),m=M.T,y=k.p;try{k.p=32>c?32:c,M.T=null,c=$v,$v=null;var b=Ba,C=Hi;if(Ut=0,Zo=Ba=null,Hi=0,(Qe&6)!==0)throw Error(r(331));var O=Qe;if(Qe|=4,cC(b.current),sC(b,b.current,C,c),Qe=O,$c(0,!1),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(lc,b)}catch{}return!0}finally{k.p=y,M.T=m,NC(a,o)}}function AC(a,o,c){o=Nr(c,o),o=_v(a.stateNode,o,2),a=ka(a,o,2),a!==null&&(uc(a,2),di(a))}function Je(a,o,c){if(a.tag===3)AC(a,a,c);else for(;o!==null;){if(o.tag===3){AC(o,a,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(La===null||!La.has(m))){a=Nr(c,a),c=Oj(2),m=ka(o,c,2),m!==null&&(kj(c,m,o,a),uc(m,2),di(m));break}}o=o.return}}function Kv(a,o,c){var m=a.pingCache;if(m===null){m=a.pingCache=new NB;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(c)||(Uv=!0,y.add(c),a=PB.bind(null,a,o,c),o.then(a,a))}function PB(a,o,c){var m=a.pingCache;m!==null&&m.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,it===a&&(Fe&c)===c&&(jt===4||jt===3&&(Fe&62914560)===Fe&&300>rr()-Pf?(Qe&2)===0&&Jo(a,0):Fv|=c,Qo===Fe&&(Qo=0)),di(a)}function OC(a,o){o===0&&(o=E_()),a=bs(a,o),a!==null&&(uc(a,o),di(a))}function DB(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),OC(a,c)}function MB(a,o){var c=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),OC(a,c)}function RB(a,o){return og(a,o)}var zf=null,tl=null,Wv=!1,Uf=!1,Xv=!1,Ua=0;function di(a){a!==tl&&a.next===null&&(tl===null?zf=tl=a:tl=tl.next=a),Uf=!0,Wv||(Wv=!0,LB())}function $c(a,o){if(!Xv&&Uf){Xv=!0;do for(var c=!1,m=zf;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var b=0;else{var C=m.suspendedLanes,O=m.pingedLanes;b=(1<<31-ar(42|a)+1)-1,b&=y&~(C&~O),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,MC(m,b))}else b=Fe,b=Hd(m,m===it?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||cc(m,b)||(c=!0,MC(m,b));m=m.next}while(c);Xv=!1}}function IB(){kC()}function kC(){Uf=Wv=!1;var a=0;Ua!==0&&YB()&&(a=Ua);for(var o=rr(),c=null,m=zf;m!==null;){var y=m.next,b=PC(m,o);b===0?(m.next=null,c===null?zf=y:c.next=y,y===null&&(tl=c)):(c=m,(a!==0||(b&3)!==0)&&(Uf=!0)),m=y}Ut!==0&&Ut!==5||$c(a),Ua!==0&&(Ua=0)}function PC(a,o){for(var c=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-ar(b),O=1<<C,L=y[C];L===-1?((O&c)===0||(O&m)!==0)&&(y[C]=c8(O,o)):L<=o&&(a.expiredLanes|=O),b&=~O}if(o=it,c=Fe,c=Hd(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,c===0||a===o&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&lg(m),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||cc(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(m!==null&&lg(m),dg(c)){case 2:case 8:c=S_;break;case 32:c=zd;break;case 268435456:c=__;break;default:c=zd}return m=DC.bind(null,a),c=og(c,m),a.callbackPriority=o,a.callbackNode=c,o}return m!==null&&m!==null&&lg(m),a.callbackPriority=2,a.callbackNode=null,2}function DC(a,o){if(Ut!==0&&Ut!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Bf()&&a.callbackNode!==c)return null;var m=Fe;return m=Hd(a,a===it?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(mC(a,m,o),PC(a,rr()),a.callbackNode!=null&&a.callbackNode===c?DC.bind(null,a):null)}function MC(a,o){if(Bf())return null;mC(a,o,!0)}function LB(){WB(function(){(Qe&6)!==0?og(w_,IB):kC()})}function Qv(){if(Ua===0){var a=Uo;a===0&&(a=Ud,Ud<<=1,(Ud&261888)===0&&(Ud=256)),Ua=a}return Ua}function RC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Yd(""+a)}function IC(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function BB(a,o,c,m,y){if(o==="submit"&&c&&c.stateNode===y){var b=RC((y[zn]||null).action),C=m.submitter;C&&(o=(o=C[zn]||null)?RC(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var O=new Qd("action","action",null,m,y);a.push({event:O,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ua!==0){var L=C?IC(y,C):new FormData(y);vv(c,{pending:!0,data:L,method:y.method,action:b},null,L)}}else typeof b=="function"&&(O.preventDefault(),L=C?IC(y,C):new FormData(y),vv(c,{pending:!0,data:L,method:y.method,action:b},b,L))},currentTarget:y}]})}}for(var Zv=0;Zv<Mg.length;Zv++){var Jv=Mg[Zv],zB=Jv.toLowerCase(),UB=Jv[0].toUpperCase()+Jv.slice(1);Yr(zB,"on"+UB)}Yr(hE,"onAnimationEnd"),Yr(mE,"onAnimationIteration"),Yr(pE,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(nB,"onTransitionRun"),Yr(rB,"onTransitionStart"),Yr(iB,"onTransitionCancel"),Yr(gE,"onTransitionEnd"),Co("onMouseEnter",["mouseout","mouseover"]),Co("onMouseLeave",["mouseout","mouseover"]),Co("onPointerEnter",["pointerout","pointerover"]),Co("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function LC(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var m=a[c],y=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var C=m.length-1;0<=C;C--){var O=m[C],L=O.instance,q=O.currentTarget;if(O=O.listener,L!==b&&y.isPropagationStopped())break e;b=O,y.currentTarget=q;try{b(y)}catch(ee){ef(ee)}y.currentTarget=null,b=L}else for(C=0;C<m.length;C++){if(O=m[C],L=O.instance,q=O.currentTarget,O=O.listener,L!==b&&y.isPropagationStopped())break e;b=O,y.currentTarget=q;try{b(y)}catch(ee){ef(ee)}y.currentTarget=null,b=L}}}}function ze(a,o){var c=o[fg];c===void 0&&(c=o[fg]=new Set);var m=a+"__bubble";c.has(m)||(BC(o,a,2,!1),c.add(m))}function e0(a,o,c){var m=0;o&&(m|=4),BC(c,a,m,o)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function t0(a){if(!a[Ff]){a[Ff]=!0,k_.forEach(function(c){c!=="selectionchange"&&(FB.has(c)||e0(c,!1,a),e0(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ff]||(o[Ff]=!0,e0("selectionchange",!1,o))}}function BC(a,o,c,m){switch(hN(o)){case 2:var y=pz;break;case 8:y=gz;break;default:y=g0}c=y.bind(null,o,c,a),y=void 0,!wg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function n0(a,o,c,m,y){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var O=m.stateNode.containerInfo;if(O===y)break;if(C===4)for(C=m.return;C!==null;){var L=C.tag;if((L===3||L===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;O!==null;){if(C=_o(O),C===null)return;if(L=C.tag,L===5||L===6||L===26||L===27){m=b=C;continue e}O=O.parentNode}}m=m.return}H_(function(){var q=b,ee=xg(c),re=[];e:{var K=vE.get(a);if(K!==void 0){var X=Qd,he=a;switch(a){case"keypress":if(Wd(c)===0)break e;case"keydown":case"keyup":X=M8;break;case"focusin":he="focus",X=jg;break;case"focusout":he="blur",X=jg;break;case"beforeblur":case"afterblur":X=jg;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=G_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=S8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=L8;break;case hE:case mE:case pE:X=j8;break;case gE:X=z8;break;case"scroll":case"scrollend":X=b8;break;case"wheel":X=F8;break;case"copy":case"cut":case"paste":X=N8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=K_;break;case"toggle":case"beforetoggle":X=H8}var Ee=(o&4)!==0,rt=!Ee&&(a==="scroll"||a==="scrollend"),F=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var z=q,$;z!==null;){var ne=z;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||F===null||(ne=hc(z,F),ne!=null&&Ee.push(Gc(z,ne,$))),rt)break;z=z.return}0<Ee.length&&(K=new X(K,he,null,c,ee),re.push({event:K,listeners:Ee}))}}if((o&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",X=a==="mouseout"||a==="pointerout",K&&c!==yg&&(he=c.relatedTarget||c.fromElement)&&(_o(he)||he[So]))break e;if((X||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,X?(he=c.relatedTarget||c.toElement,X=q,he=he?_o(he):null,he!==null&&(rt=s(he),Ee=he.tag,he!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(X=null,he=q),X!==he)){if(Ee=G_,ne="onMouseLeave",F="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ee=K_,ne="onPointerLeave",F="onPointerEnter",z="pointer"),rt=X==null?K:fc(X),$=he==null?K:fc(he),K=new Ee(ne,z+"leave",X,c,ee),K.target=rt,K.relatedTarget=$,ne=null,_o(ee)===q&&(Ee=new Ee(F,z+"enter",he,c,ee),Ee.target=$,Ee.relatedTarget=rt,ne=Ee),rt=ne,X&&he)t:{for(Ee=VB,F=X,z=he,$=0,ne=F;ne;ne=Ee(ne))$++;ne=0;for(var be=z;be;be=Ee(be))ne++;for(;0<$-ne;)F=Ee(F),$--;for(;0<ne-$;)z=Ee(z),ne--;for(;$--;){if(F===z||z!==null&&F===z.alternate){Ee=F;break t}F=Ee(F),z=Ee(z)}Ee=null}else Ee=null;X!==null&&zC(re,K,X,Ee,!1),he!==null&&rt!==null&&zC(re,rt,he,Ee,!0)}}e:{if(K=q?fc(q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ge=nE;else if(eE(K))if(rE)Ge=J8;else{Ge=Q8;var pe=X8}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&vg(q.elementType)&&(Ge=nE):Ge=Z8;if(Ge&&(Ge=Ge(a,q))){tE(re,Ge,c,ee);break e}pe&&pe(a,K,q),a==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&gg(K,"number",K.value)}switch(pe=q?fc(q):window,a){case"focusin":(eE(pe)||pe.contentEditable==="true")&&(Po=pe,kg=q,wc=null);break;case"focusout":wc=kg=Po=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,dE(re,c,ee);break;case"selectionchange":if(tB)break;case"keydown":case"keyup":dE(re,c,ee)}var Me;if(Ng)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ko?Z_(a,c)&&(Ve="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(W_&&c.locale!=="ko"&&(ko||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ko&&(Me=$_()):(Ea=ee,Sg="value"in Ea?Ea.value:Ea.textContent,ko=!0)),pe=Vf(q,Ve),0<pe.length&&(Ve=new Y_(Ve,a,null,c,ee),re.push({event:Ve,listeners:pe}),Me?Ve.data=Me:(Me=J_(c),Me!==null&&(Ve.data=Me)))),(Me=q8?G8(a,c):Y8(a,c))&&(Ve=Vf(q,"onBeforeInput"),0<Ve.length&&(pe=new Y_("onBeforeInput","beforeinput",null,c,ee),re.push({event:pe,listeners:Ve}),pe.data=Me)),BB(re,a,q,c,ee)}LC(re,o)})}function Gc(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Vf(a,o){for(var c=o+"Capture",m=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=hc(a,c),y!=null&&m.unshift(Gc(a,y,b)),y=hc(a,o),y!=null&&m.push(Gc(a,y,b))),a.tag===3)return m;a=a.return}return[]}function VB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zC(a,o,c,m,y){for(var b=o._reactName,C=[];c!==null&&c!==m;){var O=c,L=O.alternate,q=O.stateNode;if(O=O.tag,L!==null&&L===m)break;O!==5&&O!==26&&O!==27||q===null||(L=q,y?(q=hc(c,b),q!=null&&C.unshift(Gc(c,q,L))):y||(q=hc(c,b),q!=null&&C.push(Gc(c,q,L)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var HB=/\r\n?/g,$B=/\u0000|\uFFFD/g;function UC(a){return(typeof a=="string"?a:""+a).replace(HB,`
`).replace($B,"")}function FC(a,o){return o=UC(o),UC(a)===o}function nt(a,o,c,m,y,b){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||To(a,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&To(a,""+m);break;case"className":qd(a,"class",m);break;case"tabIndex":qd(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":qd(a,c,m);break;case"style":F_(a,m,b);break;case"data":if(o!=="object"){qd(a,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Yd(""+m),a.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&nt(a,o,"name",y.name,y,null),nt(a,o,"formEncType",y.formEncType,y,null),nt(a,o,"formMethod",y.formMethod,y,null),nt(a,o,"formTarget",y.formTarget,y,null)):(nt(a,o,"encType",y.encType,y,null),nt(a,o,"method",y.method,y,null),nt(a,o,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(c);break}m=Yd(""+m),a.setAttribute(c,m);break;case"onClick":m!=null&&(a.onclick=Ti);break;case"onScroll":m!=null&&ze("scroll",a);break;case"onScrollEnd":m!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}c=Yd(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""+m):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":m===!0?a.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(c,m):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(c,m):a.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(c):a.setAttribute(c,m);break;case"popover":ze("beforetoggle",a),ze("toggle",a),$d(a,"popover",m);break;case"xlinkActuate":Ni(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ni(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ni(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ni(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ni(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ni(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ni(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ni(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ni(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$d(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=y8.get(c)||c,$d(a,c,m))}}function r0(a,o,c,m,y,b){switch(c){case"style":F_(a,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof m=="string"?To(a,m):(typeof m=="number"||typeof m=="bigint")&&To(a,""+m);break;case"onScroll":m!=null&&ze("scroll",a);break;case"onScrollEnd":m!=null&&ze("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!P_.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),b=a[zn]||null,b=b!=null?b[c]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof m=="function")){typeof b!="function"&&b!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,m,y);break e}c in a?a[c]=m:m===!0?a.setAttribute(c,""):$d(a,c,m)}}}function yn(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var m=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var C=c[b];if(C!=null)switch(b){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:nt(a,o,b,C,c,null)}}y&&nt(a,o,"srcSet",c.srcSet,c,null),m&&nt(a,o,"src",c.src,c,null);return;case"input":ze("invalid",a);var O=b=C=y=null,L=null,q=null;for(m in c)if(c.hasOwnProperty(m)){var ee=c[m];if(ee!=null)switch(m){case"name":y=ee;break;case"type":C=ee;break;case"checked":L=ee;break;case"defaultChecked":q=ee;break;case"value":b=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:nt(a,o,m,ee,c,null)}}L_(a,b,O,L,q,C,y,!1);return;case"select":ze("invalid",a),m=C=b=null;for(y in c)if(c.hasOwnProperty(y)&&(O=c[y],O!=null))switch(y){case"value":b=O;break;case"defaultValue":C=O;break;case"multiple":m=O;default:nt(a,o,y,O,c,null)}o=b,c=C,a.multiple=!!m,o!=null?No(a,!!m,o,!1):c!=null&&No(a,!!m,c,!0);return;case"textarea":ze("invalid",a),b=y=m=null;for(C in c)if(c.hasOwnProperty(C)&&(O=c[C],O!=null))switch(C){case"value":m=O;break;case"defaultValue":y=O;break;case"children":b=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:nt(a,o,C,O,c,null)}z_(a,m,y,b);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(m=c[L],m!=null))switch(L){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:nt(a,o,L,m,c,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(m=0;m<qc.length;m++)ze(qc[m],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(m=c[q],m!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:nt(a,o,q,m,c,null)}return;default:if(vg(o)){for(ee in c)c.hasOwnProperty(ee)&&(m=c[ee],m!==void 0&&r0(a,o,ee,m,c,void 0));return}}for(O in c)c.hasOwnProperty(O)&&(m=c[O],m!=null&&nt(a,o,O,m,c,null))}function qB(a,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,O=null,L=null,q=null,ee=null;for(X in c){var re=c[X];if(c.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=re;default:m.hasOwnProperty(X)||nt(a,o,X,null,m,re)}}for(var K in m){var X=m[K];if(re=c[K],m.hasOwnProperty(K)&&(X!=null||re!=null))switch(K){case"type":b=X;break;case"name":y=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":C=X;break;case"defaultValue":O=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,o));break;default:X!==re&&nt(a,o,K,X,m,re)}}pg(a,C,O,L,q,ee,b,y);return;case"select":X=C=O=K=null;for(b in c)if(L=c[b],c.hasOwnProperty(b)&&L!=null)switch(b){case"value":break;case"multiple":X=L;default:m.hasOwnProperty(b)||nt(a,o,b,null,m,L)}for(y in m)if(b=m[y],L=c[y],m.hasOwnProperty(y)&&(b!=null||L!=null))switch(y){case"value":K=b;break;case"defaultValue":O=b;break;case"multiple":C=b;default:b!==L&&nt(a,o,y,b,m,L)}o=O,c=C,m=X,K!=null?No(a,!!c,K,!1):!!m!=!!c&&(o!=null?No(a,!!c,o,!0):No(a,!!c,c?[]:"",!1));return;case"textarea":X=K=null;for(O in c)if(y=c[O],c.hasOwnProperty(O)&&y!=null&&!m.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:nt(a,o,O,null,m,y)}for(C in m)if(y=m[C],b=c[C],m.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":K=y;break;case"defaultValue":X=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&nt(a,o,C,y,m,b)}B_(a,K,X);return;case"option":for(var he in c)if(K=c[he],c.hasOwnProperty(he)&&K!=null&&!m.hasOwnProperty(he))switch(he){case"selected":a.selected=!1;break;default:nt(a,o,he,null,m,K)}for(L in m)if(K=m[L],X=c[L],m.hasOwnProperty(L)&&K!==X&&(K!=null||X!=null))switch(L){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:nt(a,o,L,K,m,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in c)K=c[Ee],c.hasOwnProperty(Ee)&&K!=null&&!m.hasOwnProperty(Ee)&&nt(a,o,Ee,null,m,K);for(q in m)if(K=m[q],X=c[q],m.hasOwnProperty(q)&&K!==X&&(K!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,o));break;default:nt(a,o,q,K,m,X)}return;default:if(vg(o)){for(var rt in c)K=c[rt],c.hasOwnProperty(rt)&&K!==void 0&&!m.hasOwnProperty(rt)&&r0(a,o,rt,void 0,m,K);for(ee in m)K=m[ee],X=c[ee],!m.hasOwnProperty(ee)||K===X||K===void 0&&X===void 0||r0(a,o,ee,K,m,X);return}}for(var F in c)K=c[F],c.hasOwnProperty(F)&&K!=null&&!m.hasOwnProperty(F)&&nt(a,o,F,null,m,K);for(re in m)K=m[re],X=c[re],!m.hasOwnProperty(re)||K===X||K==null&&X==null||nt(a,o,re,K,m,X)}function VC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var y=c[m],b=y.transferSize,C=y.initiatorType,O=y.duration;if(b&&O&&VC(C)){for(C=0,O=y.responseEnd,m+=1;m<c.length;m++){var L=c[m],q=L.startTime;if(q>O)break;var ee=L.transferSize,re=L.initiatorType;ee&&VC(re)&&(L=L.responseEnd,C+=ee*(L<O?1:(O-q)/(L-q)))}if(--m,o+=8*(b+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var i0=null,a0=null;function Hf(a){return a.nodeType===9?a:a.ownerDocument}function HC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function s0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var o0=null;function YB(){var a=window.event;return a&&a.type==="popstate"?a===o0?!1:(o0=a,!0):(o0=null,!1)}var qC=typeof setTimeout=="function"?setTimeout:void 0,KB=typeof clearTimeout=="function"?clearTimeout:void 0,GC=typeof Promise=="function"?Promise:void 0,WB=typeof queueMicrotask=="function"?queueMicrotask:typeof GC<"u"?function(a){return GC.resolve(null).then(a).catch(XB)}:qC;function XB(a){setTimeout(function(){throw a})}function Fa(a){return a==="head"}function YC(a,o){var c=o,m=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(m===0){a.removeChild(y),al(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Yc(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Yc(c);for(var b=c.firstChild;b;){var C=b.nextSibling,O=b.nodeName;b[dc]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}}else c==="body"&&Yc(a.ownerDocument.body);c=y}while(c);al(o)}function KC(a,o){var c=a;a=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=m}while(c)}function l0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":l0(c),hg(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function QB(a,o,c,m){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[dc])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Pr(a.nextSibling),a===null)break}return null}function ZB(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Pr(a.nextSibling),a===null))return null;return a}function WC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Pr(a.nextSibling),a===null))return null;return a}function c0(a){return a.data==="$?"||a.data==="$~"}function u0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function JB(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Pr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var d0=null;function XC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Pr(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function QC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function ZC(a,o,c){switch(o=Hf(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Yc(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);hg(a)}var Dr=new Map,JC=new Set;function $f(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $i=k.d;k.d={f:ez,r:tz,D:nz,C:rz,L:iz,m:az,X:oz,S:sz,M:lz};function ez(){var a=$i.f(),o=Rf();return a||o}function tz(a){var o=Eo(a);o!==null&&o.tag===5&&o.type==="form"?gj(o):$i.r(a)}var nl=typeof document>"u"?null:document;function eN(a,o,c){var m=nl;if(m&&typeof o=="string"&&o){var y=jr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),JC.has(y)||(JC.add(y),a={rel:a,crossOrigin:c,href:o},m.querySelector(y)===null&&(o=m.createElement("link"),yn(o,"link",a),Qt(o),m.head.appendChild(o)))}}function nz(a){$i.D(a),eN("dns-prefetch",a,null)}function rz(a,o){$i.C(a,o),eN("preconnect",a,o)}function iz(a,o,c){$i.L(a,o,c);var m=nl;if(m&&a&&o){var y='link[rel="preload"][as="'+jr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+jr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+jr(c.imageSizes)+'"]')):y+='[href="'+jr(a)+'"]';var b=y;switch(o){case"style":b=rl(a);break;case"script":b=il(a)}Dr.has(b)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Dr.set(b,a),m.querySelector(y)!==null||o==="style"&&m.querySelector(Kc(b))||o==="script"&&m.querySelector(Wc(b))||(o=m.createElement("link"),yn(o,"link",a),Qt(o),m.head.appendChild(o)))}}function az(a,o){$i.m(a,o);var c=nl;if(c&&a){var m=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+jr(m)+'"][href="'+jr(a)+'"]',b=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=il(a)}if(!Dr.has(b)&&(a=g({rel:"modulepreload",href:a},o),Dr.set(b,a),c.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wc(b)))return}m=c.createElement("link"),yn(m,"link",a),Qt(m),c.head.appendChild(m)}}}function sz(a,o,c){$i.S(a,o,c);var m=nl;if(m&&a){var y=jo(m).hoistableStyles,b=rl(a);o=o||"default";var C=y.get(b);if(!C){var O={loading:0,preload:null};if(C=m.querySelector(Kc(b)))O.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Dr.get(b))&&f0(a,c);var L=C=m.createElement("link");Qt(L),yn(L,"link",a),L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),L.addEventListener("load",function(){O.loading|=1}),L.addEventListener("error",function(){O.loading|=2}),O.loading|=4,qf(C,o,m)}C={type:"stylesheet",instance:C,count:1,state:O},y.set(b,C)}}}function oz(a,o){$i.X(a,o);var c=nl;if(c&&a){var m=jo(c).hoistableScripts,y=il(a),b=m.get(y);b||(b=c.querySelector(Wc(y)),b||(a=g({src:a,async:!0},o),(o=Dr.get(y))&&h0(a,o),b=c.createElement("script"),Qt(b),yn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function lz(a,o){$i.M(a,o);var c=nl;if(c&&a){var m=jo(c).hoistableScripts,y=il(a),b=m.get(y);b||(b=c.querySelector(Wc(y)),b||(a=g({src:a,async:!0,type:"module"},o),(o=Dr.get(y))&&h0(a,o),b=c.createElement("script"),Qt(b),yn(b,"link",a),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(y,b))}}function tN(a,o,c,m){var y=(y=Ne.current)?$f(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=rl(c.href),c=jo(y).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=rl(c.href);var b=jo(y).hoistableStyles,C=b.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=y.querySelector(Kc(a)))&&!b._p&&(C.instance=b,C.state.loading=5),Dr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Dr.set(a,c),b||cz(y,a,c,C.state))),o&&m===null)throw Error(r(528,""));return C}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=il(c),c=jo(y).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function rl(a){return'href="'+jr(a)+'"'}function Kc(a){return'link[rel="stylesheet"]['+a+"]"}function nN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function cz(a,o,c,m){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=a.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),yn(o,"link",c),Qt(o),a.head.appendChild(o))}function il(a){return'[src="'+jr(a)+'"]'}function Wc(a){return"script[async]"+a}function rN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=a.querySelector('style[data-href~="'+jr(c.href)+'"]');if(m)return o.instance=m,Qt(m),m;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Qt(m),yn(m,"style",y),qf(m,c.precedence,a),o.instance=m;case"stylesheet":y=rl(c.href);var b=a.querySelector(Kc(y));if(b)return o.state.loading|=4,o.instance=b,Qt(b),b;m=nN(c),(y=Dr.get(y))&&f0(m,y),b=(a.ownerDocument||a).createElement("link"),Qt(b);var C=b;return C._p=new Promise(function(O,L){C.onload=O,C.onerror=L}),yn(b,"link",m),o.state.loading|=4,qf(b,c.precedence,a),o.instance=b;case"script":return b=il(c.src),(y=a.querySelector(Wc(b)))?(o.instance=y,Qt(y),y):(m=c,(y=Dr.get(b))&&(m=g({},c),h0(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Qt(y),yn(y,"link",m),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,qf(m,c.precedence,a));return o.instance}function qf(a,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,b=y,C=0;C<m.length;C++){var O=m[C];if(O.dataset.precedence===o)b=O;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function f0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function h0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Gf=null;function iN(a,o,c){if(Gf===null){var m=new Map,y=Gf=new Map;y.set(c,m)}else y=Gf,m=y.get(c),m||(m=new Map,y.set(c,m));if(m.has(a))return m;for(m.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var b=c[y];if(!(b[dc]||b[mn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=a+C;var O=m.get(C);O?O.push(b):m.set(C,[b])}}return m}function aN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function uz(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function dz(a,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=rl(m.href),b=o.querySelector(Kc(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Yf.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=b,Qt(b);return}b=o.ownerDocument||o,m=nN(m),(y=Dr.get(y))&&f0(m,y),b=b.createElement("link"),Qt(b);var C=b;C._p=new Promise(function(O,L){C.onload=O,C.onerror=L}),yn(b,"link",m),c.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Yf.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var m0=0;function fz(a,o){return a.stylesheets&&a.count===0&&Wf(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var m=setTimeout(function(){if(a.stylesheets&&Wf(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&m0===0&&(m0=62500*GB());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Wf(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>m0?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Kf=null;function Wf(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Kf=new Map,o.forEach(hz,a),Kf=null,Yf.call(a))}function hz(a,o){if(!(o.state.loading&4)){var c=Kf.get(a);if(c)var m=c.get(null);else{c=new Map,Kf.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),m=C)}m&&c.set(null,m)}y=o.instance,C=y.getAttribute("data-precedence"),b=c.get(C)||m,b===m&&c.set(null,y),c.set(C,y),this.count++,m=Yf.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Xc={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function mz(a,o,c,m,y,b,C,O,L){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cg(0),this.hiddenUpdates=cg(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function oN(a,o,c,m,y,b,C,O,L,q,ee,re){return a=new mz(a,o,c,C,L,q,ee,re,O),o=1,b===!0&&(o|=24),b=or(3,null,null,o),a.current=b,b.stateNode=a,o=Yg(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:o},Qg(b),a}function lN(a){return a?(a=Ro,a):Ro}function cN(a,o,c,m,y,b){y=lN(y),m.context===null?m.context=y:m.pendingContext=y,m=Oa(o),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=ka(a,m,o),c!==null&&(qn(c,a,o),Tc(c,a,o))}function uN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function p0(a,o){uN(a,o),(a=a.alternate)&&uN(a,o)}function dN(a){if(a.tag===13||a.tag===31){var o=bs(a,67108864);o!==null&&qn(o,a,67108864),p0(a,67108864)}}function fN(a){if(a.tag===13||a.tag===31){var o=fr();o=ug(o);var c=bs(a,o);c!==null&&qn(c,a,o),p0(a,o)}}var Xf=!0;function pz(a,o,c,m){var y=M.T;M.T=null;var b=k.p;try{k.p=2,g0(a,o,c,m)}finally{k.p=b,M.T=y}}function gz(a,o,c,m){var y=M.T;M.T=null;var b=k.p;try{k.p=8,g0(a,o,c,m)}finally{k.p=b,M.T=y}}function g0(a,o,c,m){if(Xf){var y=v0(m);if(y===null)n0(a,o,m,Qf,c),mN(a,m);else if(yz(y,a,o,c,m))m.stopPropagation();else if(mN(a,m),o&4&&-1<vz.indexOf(a)){for(;y!==null;){var b=Eo(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=ps(b.pendingLanes);if(C!==0){var O=b;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var L=1<<31-ar(C);O.entanglements[1]|=L,C&=~L}di(b),(Qe&6)===0&&(Df=rr()+500,$c(0))}}break;case 31:case 13:O=bs(b,2),O!==null&&qn(O,b,2),Rf(),p0(b,2)}if(b=v0(m),b===null&&n0(a,o,m,Qf,c),b===y)break;y=b}y!==null&&m.stopPropagation()}else n0(a,o,m,null,c)}}function v0(a){return a=xg(a),y0(a)}var Qf=null;function y0(a){if(Qf=null,a=_o(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Qf=a,null}function hN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(n8()){case w_:return 2;case S_:return 8;case zd:case r8:return 32;case __:return 268435456;default:return 32}default:return 32}}var x0=!1,Va=null,Ha=null,$a=null,Qc=new Map,Zc=new Map,qa=[],vz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mN(a,o){switch(a){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Qc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(o.pointerId)}}function Jc(a,o,c,m,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Eo(o),o!==null&&dN(o)),a):(a.eventSystemFlags|=m,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function yz(a,o,c,m,y){switch(o){case"focusin":return Va=Jc(Va,a,o,c,m,y),!0;case"dragenter":return Ha=Jc(Ha,a,o,c,m,y),!0;case"mouseover":return $a=Jc($a,a,o,c,m,y),!0;case"pointerover":var b=y.pointerId;return Qc.set(b,Jc(Qc.get(b)||null,a,o,c,m,y)),!0;case"gotpointercapture":return b=y.pointerId,Zc.set(b,Jc(Zc.get(b)||null,a,o,c,m,y)),!0}return!1}function pN(a){var o=_o(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,A_(a.priority,function(){fN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,A_(a.priority,function(){fN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Zf(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=v0(a.nativeEvent);if(c===null){c=a.nativeEvent;var m=new c.constructor(c.type,c);yg=m,c.target.dispatchEvent(m),yg=null}else return o=Eo(c),o!==null&&dN(o),a.blockedOn=c,!1;o.shift()}return!0}function gN(a,o,c){Zf(a)&&c.delete(o)}function xz(){x0=!1,Va!==null&&Zf(Va)&&(Va=null),Ha!==null&&Zf(Ha)&&(Ha=null),$a!==null&&Zf($a)&&($a=null),Qc.forEach(gN),Zc.forEach(gN)}function Jf(a,o){a.blockedOn===o&&(a.blockedOn=null,x0||(x0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xz)))}var eh=null;function vN(a){eh!==a&&(eh=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){eh===a&&(eh=null);for(var o=0;o<a.length;o+=3){var c=a[o],m=a[o+1],y=a[o+2];if(typeof m!="function"){if(y0(m||c)===null)continue;break}var b=Eo(c);b!==null&&(a.splice(o,3),o-=3,vv(b,{pending:!0,data:y,method:c.method,action:m},m,y))}}))}function al(a){function o(L){return Jf(L,a)}Va!==null&&Jf(Va,a),Ha!==null&&Jf(Ha,a),$a!==null&&Jf($a,a),Qc.forEach(o),Zc.forEach(o);for(var c=0;c<qa.length;c++){var m=qa[c];m.blockedOn===a&&(m.blockedOn=null)}for(;0<qa.length&&(c=qa[0],c.blockedOn===null);)pN(c),c.blockedOn===null&&qa.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var y=c[m],b=c[m+1],C=y[zn]||null;if(typeof b=="function")C||vN(c);else if(C){var O=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[zn]||null)O=C.formAction;else if(y0(y)!==null)continue}else O=C.action;typeof O=="function"?c[m+1]=O:(c.splice(m,3),m-=3),vN(c)}}}function yN(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function b0(a){this._internalRoot=a}th.prototype.render=b0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=fr();cN(c,m,a,o,null,null)},th.prototype.unmount=b0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;cN(a.current,2,null,a,null,null),Rf(),o[So]=null}};function th(a){this._internalRoot=a}th.prototype.unstable_scheduleHydration=function(a){if(a){var o=T_();a={blockedOn:null,target:a,priority:o};for(var c=0;c<qa.length&&o!==0&&o<qa[c].priority;c++);qa.splice(c,0,a),c===0&&pN(a)}};var xN=t.version;if(xN!=="19.2.0")throw Error(r(527,xN,"19.2.0"));k.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var bz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{lc=nh.inject(bz),ir=nh}catch{}}return tu.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,m="",y=Cj,b=Nj,C=Tj;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=oN(a,1,!1,null,null,c,m,null,y,b,C,yN),a[So]=o.current,t0(a),new b0(o)},tu.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var m=!1,y="",b=Cj,C=Nj,O=Tj,L=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError),c.formState!==void 0&&(L=c.formState)),o=oN(a,1,!0,o,c??null,m,y,L,b,C,O,yN),o.context=lN(null),c=o.current,m=fr(),m=ug(m),y=Oa(m),y.callback=null,ka(c,y,m),c=m,o.current.lanes=c,uc(o,c),di(o),a[So]=o.current,t0(a),new th(o)},tu.version="19.2.0",tu}var AN;function Dz(){if(AN)return E0.exports;AN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E0.exports=Pz(),E0.exports}var Mz=Dz();const Rz=Ei(Mz);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ON="popstate";function Iz(e={}){function t(i,s){let{pathname:l="/",search:u="",hash:d=""}=ho(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ix("",{pathname:l,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,h=d.indexOf("#");u=h===-1?d:d.slice(0,h)}return u+"#"+(typeof s=="string"?s:Du(s))}function r(i,s){wr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Bz(t,n,r,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lz(){return Math.random().toString(36).substring(2,10)}function kN(e,t){return{usr:e.state,key:e.key,idx:t}}function Ix(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ho(t):t,state:n,key:t&&t.key||r||Lz()}}function Du({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Bz(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),j=E==null?null:E-h;h=E,d&&d({action:u,location:_.location,delta:j})}function v(E,j){u="PUSH";let A=Ix(_.location,E,j);n&&n(A,E),h=p()+1;let N=kN(A,h),D=_.createHref(A);try{l.pushState(N,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(D)}s&&d&&d({action:u,location:_.location,delta:1})}function x(E,j){u="REPLACE";let A=Ix(_.location,E,j);n&&n(A,E),h=p();let N=kN(A,h),D=_.createHref(A);l.replaceState(N,"",D),s&&d&&d({action:u,location:_.location,delta:0})}function w(E){return zz(E)}let _={get action(){return u},get location(){return e(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(ON,g),d=E,()=>{i.removeEventListener(ON,g),d=null}},createHref(E){return t(i,E)},createURL:w,encodeLocation(E){let j=w(E);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:x,go(E){return l.go(E)}};return _}function zz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),wt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Du(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function VP(e,t,n="/"){return Uz(e,t,n,!1)}function Uz(e,t,n,r){let i=typeof t=="string"?ho(t):t,s=na(i.pathname||"/",n);if(s==null)return null;let l=HP(e);Fz(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=Zz(s);u=Xz(l[d],h,r)}return u}function HP(e,t=[],n=[],r="",i=!1){let s=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;wt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Xi([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HP(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:Kz(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,u);else for(let h of $P(l.path))s(l,u,!0,h)}),t}function $P(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=$P(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Fz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Vz=/^:[\w-]+$/,Hz=3,$z=2,qz=1,Gz=10,Yz=-2,PN=e=>e==="*";function Kz(e,t){let n=e.split("/"),r=n.length;return n.some(PN)&&(r+=Yz),t&&(r+=$z),n.filter(i=>!PN(i)).reduce((i,s)=>i+(Vz.test(s)?Hz:s===""?qz:Gz),r)}function Wz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Xz(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",g=Mh({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Mh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Xi([s,g.pathname]),pathnameBase:nU(Xi([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=Xi([s,g.pathnameBase]))}return l}function Mh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qz(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function Qz(e,t=!1,n=!0){wr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Zz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function na(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Jz(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ho(e):e;return{pathname:n?n.startsWith("/")?n:eU(n,t):t,search:rU(r),hash:iU(i)}}function eU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function T0(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pw(e){let t=tU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function gw(e,t,n,r=!1){let i;typeof e=="string"?i=ho(e):(i={...e},wt(!i.pathname||!i.pathname.includes("?"),T0("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),T0("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),T0("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=Jz(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Xi=e=>e.join("/").replace(/\/\/+/g,"/"),nU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qP=["POST","PUT","PATCH","DELETE"];new Set(qP);var sU=["GET",...qP];new Set(sU);var Ul=S.createContext(null);Ul.displayName="DataRouter";var Zm=S.createContext(null);Zm.displayName="DataRouterState";S.createContext(!1);var GP=S.createContext({isTransitioning:!1});GP.displayName="ViewTransition";var oU=S.createContext(new Map);oU.displayName="Fetchers";var lU=S.createContext(null);lU.displayName="Await";var ai=S.createContext(null);ai.displayName="Navigation";var cd=S.createContext(null);cd.displayName="Location";var Hr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var vw=S.createContext(null);vw.displayName="RouteError";function cU(e,{relative:t}={}){wt(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(ai),{hash:i,pathname:s,search:l}=ud(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Xi([n,s])),r.createHref({pathname:u,search:l,hash:i})}function Fl(){return S.useContext(cd)!=null}function $r(){return wt(Fl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(cd).location}var YP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KP(e){S.useContext(ai).static||S.useLayoutEffect(e)}function qr(){let{isDataRoute:e}=S.useContext(Hr);return e?jU():uU()}function uU(){wt(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Ul),{basename:t,navigator:n}=S.useContext(ai),{matches:r}=S.useContext(Hr),{pathname:i}=$r(),s=JSON.stringify(pw(r)),l=S.useRef(!1);return KP(()=>{l.current=!0}),S.useCallback((d,h={})=>{if(wr(l.current,YP),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=gw(d,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Xi([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}var dU=S.createContext(null);function fU(e){let t=S.useContext(Hr).outlet;return S.useMemo(()=>t&&S.createElement(dU.Provider,{value:e},t),[t,e])}function hU(){let{matches:e}=S.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function ud(e,{relative:t}={}){let{matches:n}=S.useContext(Hr),{pathname:r}=$r(),i=JSON.stringify(pw(n));return S.useMemo(()=>gw(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function mU(e,t){return WP(e,t)}function WP(e,t,n,r,i){var A;wt(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(ai),{matches:l}=S.useContext(Hr),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";XP(h,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=$r(),x;if(t){let N=typeof t=="string"?ho(t):t;wt(p==="/"||((A=N.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let w=x.pathname||"/",_=w;if(p!=="/"){let N=p.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=VP(e,{pathname:_});wr(g||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),wr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=xU(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Xi([p,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Xi([p,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),l,n,r,i);return t&&j?S.createElement(cd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function pU(){let e=EU(),t=aU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,l)}var gU=S.createElement(pU,null),vU=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Hr.Provider,{value:this.props.routeContext},S.createElement(vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yU({routeContext:e,match:t,children:n}){let r=S.useContext(Ul);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Hr.Provider,{value:e},n)}function xU(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let v,x=!1,w=null,_=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||gU,u&&(d<0&&g===0?(XP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,_=null):d===g&&(x=!0,_=p.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,g+1)),j=()=>{let A;return v?A=w:x?A=_:p.route.Component?A=S.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,S.createElement(yU,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(vU,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):j()},null)}function yw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bU(e){let t=S.useContext(Ul);return wt(t,yw(e)),t}function wU(e){let t=S.useContext(Zm);return wt(t,yw(e)),t}function SU(e){let t=S.useContext(Hr);return wt(t,yw(e)),t}function xw(e){let t=SU(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _U(){return xw("useRouteId")}function EU(){var r;let e=S.useContext(vw),t=wU("useRouteError"),n=xw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function jU(){let{router:e}=bU("useNavigate"),t=xw("useNavigate"),n=S.useRef(!1);return KP(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{wr(n.current,YP),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var DN={};function XP(e,t,n){!t&&!DN[e]&&(DN[e]=!0,wr(!1,n))}S.memo(CU);function CU({routes:e,future:t,state:n,unstable_onError:r}){return WP(e,void 0,n,r,t)}function Rh({to:e,replace:t,state:n,relative:r}){wt(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(ai);wr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(Hr),{pathname:l}=$r(),u=qr(),d=gw(e,pw(s),l,r==="path"),h=JSON.stringify(d);return S.useEffect(()=>{u(JSON.parse(h),{replace:t,state:n,relative:r})},[u,h,r,t,n]),null}function NU(e){return fU(e.context)}function Jt(e){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TU({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){wt(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=ho(n));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,x=S.useMemo(()=>{let w=na(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:g,key:v},navigationType:r}},[l,d,h,p,g,v,r]);return wr(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(ai.Provider,{value:u},S.createElement(cd.Provider,{children:t,value:x}))}function AU({children:e,location:t}){return mU(Lx(e),t)}function Lx(e,t=[]){let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Lx(r.props.children,s));return}wt(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Lx(r.props.children,s)),n.push(l)}),n}var jh="get",Ch="application/x-www-form-urlencoded";function Jm(e){return e!=null&&typeof e.tagName=="string"}function OU(e){return Jm(e)&&e.tagName.toLowerCase()==="button"}function kU(e){return Jm(e)&&e.tagName.toLowerCase()==="form"}function PU(e){return Jm(e)&&e.tagName.toLowerCase()==="input"}function DU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MU(e,t){return e.button===0&&(!t||t==="_self")&&!DU(e)}function Bx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function RU(e,t){let n=Bx(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var rh=null;function IU(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var LU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function A0(e){return e!=null&&!LU.has(e)?(wr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):e}function BU(e,t){let n,r,i,s,l;if(kU(e)){let u=e.getAttribute("action");r=u?na(u,t):null,n=e.getAttribute("method")||jh,i=A0(e.getAttribute("enctype"))||Ch,s=new FormData(e)}else if(OU(e)||PU(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?na(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||jh,i=A0(e.getAttribute("formenctype"))||A0(u.getAttribute("enctype"))||Ch,s=new FormData(u,e),!IU()){let{name:h,type:p,value:g}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(Jm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jh,r=null,i=Ch,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zU(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&na(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UU(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FU(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VU(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await UU(s,n);return l.links?l.links():[]}return[]}));return GU(r.flat(1).filter(FU).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function MN(e,t,n,r,i,s){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return s==="assets"?t.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?t.filter((d,h)=>{var g;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function HU(e,t,{includeHydrateFallback:n}={}){return $U(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function $U(e){return[...new Set(e)]}function qU(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function GU(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(qU(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function QP(){let e=S.useContext(Ul);return bw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YU(){let e=S.useContext(Zm);return bw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ww=S.createContext(void 0);ww.displayName="FrameworkContext";function ZP(){let e=S.useContext(ww);return bw(e,"You must render this element inside a <HydratedRouter> element"),e}function KU(e,t){let n=S.useContext(ww),[r,i]=S.useState(!1),[s,l]=S.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=t,v=S.useRef(null);S.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=j=>{j.forEach(A=>{l(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),S.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:nu(u,x),onBlur:nu(d,w),onMouseEnter:nu(h,x),onMouseLeave:nu(p,w),onTouchStart:nu(g,x)}]:[!1,v,{}]}function nu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function WU({page:e,...t}){let{router:n}=QP(),r=S.useMemo(()=>VP(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(QU,{page:e,matches:r,...t}):null}function XU(e){let{manifest:t,routeModules:n}=ZP(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return VU(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function QU({page:e,matches:t,...n}){let r=$r(),{manifest:i,routeModules:s}=ZP(),{basename:l}=QP(),{loaderData:u,matches:d}=YU(),h=S.useMemo(()=>MN(e,t,d,i,r,"data"),[e,t,d,i,r]),p=S.useMemo(()=>MN(e,t,d,i,r,"assets"),[e,t,d,i,r]),g=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(t.forEach(j=>{var N;let A=i.routes[j.route.id];!A||!A.hasLoader||(!h.some(D=>D.route.id===j.route.id)&&j.route.id in u&&((N=s[j.route.id])!=null&&N.shouldRevalidate)||A.hasClientLoader?_=!0:w.add(j.route.id))}),w.size===0)return[];let E=zU(e,l,"data");return _&&w.size>0&&E.searchParams.set("_routes",t.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,h,t,e,s]),v=S.useMemo(()=>HU(p,i),[p,i]),x=XU(p);return S.createElement(S.Fragment,null,g.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),x.map(({key:w,link:_})=>S.createElement("link",{key:w,nonce:n.nonce,..._})))}function ZU(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JP&&(window.__reactRouterVersion="7.9.5")}catch{}function JU({basename:e,children:t,window:n}){let r=S.useRef();r.current==null&&(r.current=Iz({window:n,v5Compat:!0}));let i=r.current,[s,l]=S.useState({action:i.action,location:i.location}),u=S.useCallback(d=>{S.startTransition(()=>l(d))},[l]);return S.useLayoutEffect(()=>i.listen(u),[i,u]),S.createElement(TU,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tD=S.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},x){let{basename:w}=S.useContext(ai),_=typeof h=="string"&&eD.test(h),E,j=!1;if(typeof h=="string"&&_&&(E=h,JP))try{let H=new URL(window.location.href),Z=h.startsWith("//")?new URL(H.protocol+h):new URL(h),U=na(Z.pathname,w);Z.origin===H.origin&&U!=null?h=U+Z.search+Z.hash:j=!0}catch{wr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=cU(h,{relative:i}),[N,D,T]=KU(r,v),P=nF(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function I(H){t&&t(H),H.defaultPrevented||P(H)}let B=S.createElement("a",{...v,...T,href:E||A,onClick:j||s?t:I,ref:ZU(x,D),target:d,"data-discover":!_&&n==="render"?"true":void 0});return N&&!_?S.createElement(S.Fragment,null,B,S.createElement(WU,{page:A})):B});tD.displayName="Link";var nD=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},p){let g=ud(l,{relative:h.relative}),v=$r(),x=S.useContext(Zm),{navigator:w,basename:_}=S.useContext(ai),E=x!=null&&oF(g)&&u===!0,j=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(A=A.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&_&&(N=na(N,_)||N);const D=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let T=A===j||!i&&A.startsWith(j)&&A.charAt(D)==="/",P=N!=null&&(N===j||!i&&N.startsWith(j)&&N.charAt(j.length)==="/"),I={isActive:T,isPending:P,isTransitioning:E},B=T?t:void 0,H;typeof r=="function"?H=r(I):H=[r,T?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Z=typeof s=="function"?s(I):s;return S.createElement(tD,{...h,"aria-current":B,className:H,ref:p,style:Z,to:l,viewTransition:u},typeof d=="function"?d(I):d)});nD.displayName="NavLink";var eF=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=jh,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},x)=>{let w=aF(),_=sF(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&eD.test(u),A=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,T=(D==null?void 0:D.getAttribute("formmethod"))||l;w(D||N.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:x,method:E,action:_,onSubmit:r?d:A,...v,"data-discover":!j&&e==="render"?"true":void 0})});eF.displayName="Form";function tF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(e){let t=S.useContext(Ul);return wt(t,tF(e)),t}function nF(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=qr(),d=$r(),h=ud(e,{relative:s});return S.useCallback(p=>{if(MU(p,t)){p.preventDefault();let g=n!==void 0?n:Du(d)===Du(h);u(e,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,n,r,t,e,i,s,l])}function iD(e){wr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=S.useRef(Bx(e)),n=S.useRef(!1),r=$r(),i=S.useMemo(()=>RU(r.search,n.current?null:t.current),[r.search]),s=qr(),l=S.useCallback((u,d)=>{const h=Bx(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,s("?"+h,d)},[s,i]);return[i,l]}var rF=0,iF=()=>`__${String(++rF)}__`;function aF(){let{router:e}=rD("useSubmit"),{basename:t}=S.useContext(ai),n=_U();return S.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=BU(r,t);if(i.navigate===!1){let p=i.fetcherKey||iF();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function sF(e,{relative:t}={}){let{basename:n}=S.useContext(ai),r=S.useContext(Hr);wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ud(e||".",{relative:t})},l=$r();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Xi([n,s.pathname])),Du(s)}function oF(e,{relative:t}={}){let n=S.useContext(GP);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rD("useViewTransitionState"),i=ud(e,{relative:t});if(!n.isTransitioning)return!1;let s=na(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=na(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(i.pathname,l)!=null||Mh(i.pathname,s)!=null}var aD=FP();const sD=S.createContext(void 0),lF=({children:e})=>{const[t,n]=S.useState(()=>{const i=localStorage.getItem("theme");return i||"light"});S.useEffect(()=>{const i=window.document.documentElement;i.classList.remove(t==="dark"?"light":"dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return f.jsx(sD.Provider,{value:{theme:t,toggleTheme:r},children:e})};var Pe=(e=>(e.USER="user",e.TEAM_LEAD="team_lead",e.OFFICER="officer",e.ADMIN="admin",e))(Pe||{}),Ft=(e=>(e.OPEN="open",e.CLOSED="closed",e.UPCOMING="upcoming",e.COMPLETED="completed",e))(Ft||{}),_e=(e=>(e.JOKER_FLAG="Joker Flag",e.CIT_QUEST="CIT Quest",e.MINDSCAPE="MindScape",e.HOOP_SPIKE="Hoop & Spike",e.CODING_TECH_CHALLENGES="Cipher Matrix",e.PIXEL_PLAY="Pixel Play",e.TABLE_MASTERS="Table Masters",e))(_e||{});const cF="modulepreload",uF=function(e){return"/"+e},RN={},ri=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(h=>{if(h=uF(h),h in RN)return;RN[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":cF,p||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((x,w)=>{v.addEventListener("load",x),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};function Sw(){const e=typeof window<"u"?window.location.hostname:"",t=e.endsWith("github.io"),n=e.endsWith("web.app"),r="firebase";return console.log("[API] Detected hostname:",e),console.log("[API] Is GitHub Pages:",t),console.log("[API] Is Firebase Hosting:",n),console.log("[API] Env VITE_API_BASE:",r),console.log("[API] Using Firebase mode"),"firebase"}Sw();Pe.USER,Pe.OFFICER,Pe.ADMIN;const Rn="t5",oD={admin_1:{id:"admin_1",name:"Benlor Rivera",email:"riverabenlor461@gmail.com",role:Pe.ADMIN,avatar:"https://i.pravatar.cc/150?u=admin_1",firstName:"Benlor",lastName:"Rivera",studentId:"ADMIN-BEN",teamId:"t5",password:"24025944",lastActive:new Date().toISOString()}},lD=[{rank:1,id:"t1",name:"Midnight Spades",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",unitSecretary:"",unitTreasurer:"",unitErrands:[],adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:2,id:"t2",name:"Scarlet Hearts",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:3,id:"t3",name:"Emerald Clovers",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:4,id:"t4",name:"Glacier Diamonds",score:0,wins:0,losses:0,playersCount:0,description:"",unitLeader:"",adviser:"",merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},joinRequests:[]},{rank:5,id:"t5",name:"Amaranth Jokers",score:0,wins:0,losses:0,playersCount:0,description:"Facilitating team",facilitators:[],merits:[],demerits:[],eventScores:[],scoreHistory:[],progressHistory:[],detailedProgressHistory:[],placementStats:{first:0,second:0,third:0,fourth:0,merits:0,demerits:0}}],cD=[{id:"jf1",name:"Joker Flag Wave 1: Chant",category:_e.JOKER_FLAG,officerInCharge:"Bhenny & Foncee",participantsInfo:"All members",date:new Date().toISOString(),venue:"Game Area",description:"A rhythmic team chant.",mechanics:"Minimum 1 minute.",criteria:[{name:"Creativity",description:"Uniqueness",points:30}],status:Ft.UPCOMING,competitionPoints:1e3,judges:[],results:[]},{id:"cit1",name:"Cheer Dance",category:_e.CIT_QUEST,officerInCharge:"Yesha",participantsInfo:"10-15 performers",date:new Date(Date.now()+864e5).toISOString(),venue:"Gymnasium",description:"High-energy cheer routine.",mechanics:"Max 5 minutes.",criteria:[{name:"Choreography",description:"Artistry",points:50}],status:Ft.UPCOMING,competitionPoints:1500,judges:[],results:[]},{id:"ms7",name:"Hackathon",category:_e.MINDSCAPE,officerInCharge:"Lryn",participantsInfo:"3 representatives",date:new Date(Date.now()-864e5).toISOString(),venue:"Computer Lab 1",description:"Ideate IT solutions.",mechanics:"5 minute pitch.",criteria:[{name:"Originality",description:"Uniqueness",points:40}],status:Ft.COMPLETED,competitionPoints:1200,judges:[],results:[]},{id:"ct3",name:"Web Design",category:_e.CODING_TECH_CHALLENGES,officerInCharge:"Lorenz and Foncee",participantsInfo:"4 representatives",date:new Date().toISOString(),venue:"Computer Lab 1",description:"Web design competition.",mechanics:"4 hours to complete.",criteria:[{name:"Design",description:"Visuals",points:30}],status:Ft.UPCOMING,competitionPoints:1200,judges:[],results:[]}],dF=[{id:"rep1",type:"report",problemType:"unsportsmanlike",description:"Player from Scarlet Hearts was being disrespectful after the match.",submittedBy:"4",timestamp:new Date(Date.now()-36e5).toISOString(),status:"pending",offenderName:"A. Player",offenderTeam:"Scarlet Hearts"},{id:"rep2",type:"suggestion",description:"It would be great to have more water stations available near the outdoor courts.",submittedBy:"3",timestamp:new Date(Date.now()-864e5).toISOString(),status:"reviewed",replies:[{id:"reply1",repliedBy:"1",message:"Thank you for the suggestion! We are looking into this.",timestamp:new Date().toISOString()}]}],uD=[{id:"notif1",title:"Scores Updated!",message:'Results for "Hackathon" are in! Check the leaderboard.',link:"/leaderboard",timestamp:new Date().toISOString(),type:"success"},{id:"notif2",title:"New Event Added",message:'A new event "Web Design" has been added to the Cipher Matrix category.',link:"/events",timestamp:new Date(Date.now()-36e5).toISOString(),type:"info"},{id:"notif3",title:"Report Status Changed",message:"Your suggestion about water stations has been reviewed.",link:"/reports",timestamp:new Date(Date.now()-72e5).toISOString(),type:"info",target:{userId:"3"}}],dD={competitionScores:!0,pages:{dashboard:!0,leaderboard:!0,teams:!0,events:!0,rules:!0,reports:!0,profile:!0},dashboard:{summaryCards:!0,leaderboardRanking:!0,topTeams:!0,teamScoreProgression:!0},leaderboard:{tabs:{standings:!0,records:!0,meritsLog:!0}},teams:{facilitatingTeam:!0,participatingTeams:!0,tabs:{overview:!0,leadership:!0,joinRequests:!0,roster:!0,prospects:!0,progress:!0,merits:!0,scores:!0}},events:{categories:{[_e.JOKER_FLAG]:!0,[_e.CIT_QUEST]:!0,[_e.MINDSCAPE]:!0,[_e.HOOP_SPIKE]:!0,[_e.CODING_TECH_CHALLENGES]:!0,[_e.PIXEL_PLAY]:!0,[_e.TABLE_MASTERS]:!0}},rules:{sections:{objectives:!0,house_rules:!0,demerit_system:!0,complaints:!0,scoring_system:!0,categories_mechanics:!0}},reports:{tabs:{view:!0,submit:!0}}},fD={mainTitle:"i3 Day | Clash of Cards",subTitle:"CIT Tech and Sports Fest 2025",hashTags:"#SDG9 #SDG13 #SDG17",sections:[{id:"objectives",title:"Objectives",items:[{type:"list",items:["To showcase the diverse talents and skills of information technology students and faculty, fostering a sense of community and camaraderie.","To promote sportsmanship, healthy competition, and community spirit among students, faculty, and the wider IT community, encourage teamwork, and foster a supportive atmosphere that promotes growth and learning."]}]},{id:"house_rules",title:"House Rules",items:[{type:"heading",level:3,content:"Attendance and Participation"},{type:"list",items:["All students are required to participate in the events assigned to their units. Attendance is mandatory and will be strictly monitored.","This activity is part of the college calendar and is considered a regular class schedule."]}]}]},xe={USERS:"sims_users",TEAMS:"sims_teams",EVENTS:"sims_events_v2",NOTIFICATIONS:"sims_notifications",REPORTS:"sims_reports",RULES:"sims_rules",ACTIVITIES:"sims_activities",VISIBILITY:"sims_visibility_settings"},hD=new Map,fa=(e,t)=>{const n=localStorage.getItem(e);try{return n?JSON.parse(n):t}catch{return console.error("Failed to parse stored data for key:",e),t}},ct=(e,t)=>{localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("storage-update",{detail:{key:e}}))},_w=async()=>{try{const t=(await ri(()=>Promise.resolve().then(()=>gfe),[])).initFirebase();return t?console.log("[Firebase] Database initialized successfully"):console.warn("[Firebase] Database initialization returned null"),t}catch(e){return console.error("[Firebase] Failed to initialize database:",e),null}},on=async e=>{try{const t=await _w();if(!t)return null;const{ref:n,get:r}=await ri(async()=>{const{ref:l,get:u}=await Promise.resolve().then(()=>b_);return{ref:l,get:u}},void 0),i=n(t,e),s=await r(i);return s.exists()?s.val():null}catch(t){return console.warn("Firebase getOnce failed for",e,t),null}},mD=(e,t)=>{let n=!1,r=()=>{n=!0};return(async()=>{try{const i=await _w();if(!i){console.error(`[Firebase] DB not initialized for subscription to ${e}`);return}const{ref:s,onValue:l,off:u}=await ri(async()=>{const{ref:p,onValue:g,off:v}=await Promise.resolve().then(()=>b_);return{ref:p,onValue:g,off:v}},void 0),d=s(i,e);console.log(`[Firebase] Subscribing to path: ${e}`);const h=p=>{if(p.exists()){const g=p.val();console.log(`[Firebase] Data received for ${e}:`,g),t(g);try{MD[e]=new Date().toISOString()}catch{}}else console.warn(`[Firebase] No data exists at path: ${e}`)};l(d,h,p=>{console.error(`[Firebase] Subscription error for ${e}:`,p)}),r=()=>{try{u(d,"value",h)}catch{}},n&&r(),hD.set(e,r)}catch(i){console.error(`[Firebase] Subscription failed for ${e}:`,i)}})(),()=>{n=!0;try{r()}catch{}}},Pt=async(e,t)=>{try{const n=await _w();if(!n)return Promise.resolve();const{ref:r,set:i}=await ri(async()=>{const{ref:u,set:d}=await Promise.resolve().then(()=>b_);return{ref:u,set:d}},void 0),s=r(n,e);let l;try{l=JSON.parse(JSON.stringify(t))}catch{l=t}return i(s,l)}catch(n){return console.warn("Firebase write failed for",e,n),Promise.resolve()}};let Lt=fa(xe.USERS,oD),En=fa(xe.TEAMS,lD),Gn=fa(xe.EVENTS,cD),Ds=fa(xe.REPORTS,dF),fF=fa(xe.NOTIFICATIONS,uD),O0=fa(xe.RULES,fD);const ge=Sw();let k0=fa(xe.VISIBILITY,dD),sl=fa(xe.ACTIVITIES,[]);const Le={getActivities:()=>Promise.resolve(sl),logActivity:(e,t,n)=>{const r={id:`act_${Date.now()}`,userId:e,action:t,target:n,timestamp:new Date().toISOString()};return sl.unshift(r),sl.length>200&&(sl=sl.slice(0,200)),ct(xe.ACTIVITIES,sl),Promise.resolve()},login:(e,t)=>new Promise((n,r)=>{setTimeout(()=>{const i=Object.values(Lt).find(s=>s.email.toLowerCase()===e.toLowerCase());if(i&&i.password===t){try{localStorage.setItem("token","mock-jwt-token")}catch{}n(i)}else r(i?new Error("Invalid credentials"):new Error("User not found"))},300)}),loginWithGoogle:e=>new Promise(t=>{setTimeout(()=>{const n="new.user@google.com",r=Object.values(Lt).find(i=>i.email.toLowerCase()===n);if(r){try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:r,isNew:!1})}else{const i={id:`google_${Date.now()}`,email:n,firstName:"Google",lastName:"User",name:"Google User",role:Pe.USER,avatar:`https://robohash.org/${n}.png`};try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:i,isNew:!0})}},300)}),completeUserProfile:e=>new Promise(t=>{setTimeout(()=>{Lt[e.id]={...Lt[e.id],...e,name:`${e.firstName} ${e.lastName}`},ct(xe.USERS,Lt),t({user:Lt[e.id]})},300)}),register:e=>new Promise((t,n)=>{setTimeout(()=>{if(Object.values(Lt).find(i=>i.email.toLowerCase()===(e.email||"").toLowerCase()))return n(new Error("Email already exists"));const r={id:`user_${Date.now()}`,name:`${e.firstName} ${e.lastName}`,role:Pe.USER,avatar:e.avatar||"https://i.pravatar.cc/150",...e};Lt[r.id]=r,ct(xe.USERS,Lt);try{localStorage.setItem("token","mock-jwt-token")}catch{}t({user:r,token:"mock-jwt-token"})},300)}),getUsers:()=>Promise.resolve(Object.values(Lt)),updateUserRole:(e,t)=>(Lt[e].role=t,ct(xe.USERS,Lt),Promise.resolve(Lt[e])),getLeaderboard:()=>{const e=En.map(t=>({...t,playersCount:Object.values(Lt).filter(n=>n.teamId===t.id).length}));return Promise.resolve(e)},updateTeam:e=>{const t=En.findIndex(n=>n.id===e.id);return t>-1?(En[t]={...En[t],...e},ct(xe.TEAMS,En),Pt(`teams/${e.id}`,En[t]).catch(n=>console.warn("Firebase team update failed",n)),Promise.resolve(En[t])):Promise.reject(new Error("Team not found"))},getEvents:()=>Promise.resolve(Gn),addEvent:e=>{const t={id:`evt_${Date.now()}`,...e};return Gn.push(t),ct(xe.EVENTS,Gn),Promise.resolve(t)},updateEvent:e=>{const t=Gn.findIndex(n=>n.id===e.id);return t>-1?(Gn[t]={...Gn[t],...e},ct(xe.EVENTS,Gn),Promise.resolve(Gn[t])):Promise.reject(new Error("Event not found"))},deleteEvent:e=>(Gn=Gn.filter(t=>t.id!==e),ct(xe.EVENTS,Gn),Promise.resolve()),updateEventResults:(e,t)=>{const n=Gn.findIndex(i=>i.id===e);if(n===-1)return Promise.reject(new Error("Event not found"));const r=Gn[n];return r.results=t,r.status=Ft.COMPLETED,ct(xe.EVENTS,Gn),ct(xe.TEAMS,En),Promise.resolve(r)},getNotifications:()=>Promise.resolve(fF),addPointLog:e=>{const t=En.find(n=>n.id===e.teamId);if(t){const n={id:`log_${Date.now()}`,updatedBy:"Admin",timestamp:new Date().toISOString(),...e},r=t.score||0;e.type==="merit"?(t.merits=[...t.merits||[],n],t.score+=e.points):(t.demerits=[...t.demerits||[],n],t.score-=e.points),t.detailedProgressHistory=t.detailedProgressHistory||[],t.detailedProgressHistory.push({timestamp:n.timestamp,score:t.score,reason:e.reason,change:t.score-r}),t.progressHistory=t.progressHistory||[],t.progressHistory.push({date:n.timestamp,score:t.score}),ct(xe.TEAMS,En),Pt(`teams/${t.id}`,t).catch(i=>console.warn("Firebase point log update failed",i))}return Promise.resolve()},deletePointLog:e=>Promise.resolve(),updatePointLog:(e,t)=>Promise.resolve(),getReports:()=>Promise.resolve(Ds),submitReport:e=>{const t={id:`rep_${Date.now()}`,timestamp:new Date().toISOString(),status:"pending",...e};return Ds.unshift(t),ct(xe.REPORTS,Ds),Promise.resolve()},updateReportStatus:(e,t)=>{const n=Ds.find(r=>r.id===e);return n&&(n.status=t,ct(xe.REPORTS,Ds)),Promise.resolve()},addReportReply:(e,t)=>{const n=Ds.find(r=>r.id===e);if(n){const r={id:`reply_${Date.now()}`,message:t.reply,repliedBy:"1",timestamp:new Date().toISOString()};n.replies=[...n.replies||[],r],ct(xe.REPORTS,Ds)}return Promise.resolve()},getTeamUsers:e=>Promise.resolve(Object.values(Lt).filter(t=>t.teamId===e)),requestToJoinTeam:e=>new Promise((t,n)=>{const r=En.find(i=>i.id===e);if(r){if(r.joinRequests=r.joinRequests||[],r.joinRequests.some(i=>i.userId==="3"))return n(new Error("You have already sent a request to join this team."));r.joinRequests.push({id:`req_${Date.now()}`,userId:"3",timestamp:new Date().toISOString()}),ct(xe.TEAMS,En),t()}else n(new Error("Team not found"))}),manageJoinRequest:(e,t,n)=>{var i;const r=En.find(s=>s.id===e);return r&&(r.joinRequests=(i=r.joinRequests)==null?void 0:i.filter(s=>s.userId!==t),n==="accepted"&&(Lt[t].teamId=e,ct(xe.USERS,Lt)),ct(xe.TEAMS,En)),Promise.resolve()},removeUserFromTeam:e=>(Lt[e]&&(Lt[e].teamId=void 0,ct(xe.USERS,Lt)),Promise.resolve()),updateTeamRoster:(e,t,n)=>{const r=En.find(i=>i.id===e);if(r){r.rosters=r.rosters||[];const i=r.rosters.findIndex(s=>s.eventId===t);i>-1?r.rosters[i].participants=n:r.rosters.push({eventId:t,participants:n}),ct(xe.TEAMS,En)}return Promise.resolve()},getVisibilitySettings:()=>Promise.resolve(k0),updateVisibilitySettings:e=>(k0=e,ct(xe.VISIBILITY,k0),Promise.resolve()),getRules:()=>Promise.resolve(O0),updateRules:e=>(O0=e,ct(xe.RULES,O0),Promise.resolve())},Ew=async(e,t)=>{try{return await e()}catch(n){console.warn("[API] Backend failed, falling back to mock:",n);try{return await t()}catch{throw n}}},qe=async(e,t={})=>{const n=localStorage.getItem("token"),r=new Headers(t.headers);!r.has("Content-Type")&&!(t.body instanceof FormData)&&r.set("Content-Type","application/json"),r.has("Accept")||r.set("Accept","application/json"),n&&r.set("Authorization",`Bearer ${n}`);const i=`${ge}${e}`;console.log(`[API] ${t.method||"GET"} ${i}`);const s=await fetch(i,{...t,headers:r});if(!s.ok){let u=`API error: ${s.statusText}`;try{const d=await s.text(),h=d.substring(0,500).replace(/\s+/g," ");if(d.includes("<?php")||d.trim().startsWith("<"))console.error("[API] Backend returned non-JSON response (likely PHP/HTML)."),console.error("[API] Response snippet:",h),u=`Backend returned non-JSON response. Snippet: ${h}`;else{const p=JSON.parse(d);u=p.message||p.error||u}}catch{}throw new Error(u)}const l=await s.text();if(l.trim().startsWith("<")){const u=l.substring(0,500).replace(/\s+/g," ");throw console.error("[API] Backend returned HTML/other non-JSON response. Snippet:",u),new Error(`Backend returned invalid JSON (probably an error page). Snippet: ${u}`)}return s.status===204?null:JSON.parse(l)},pD=async(e,t)=>{if(console.log("[API.login] API_BASE:",ge),ge==="/mock"||ge==="firebase")return console.log("[API.login] Using mock API"),Le.login(e,t);console.log("[API.login] Using real backend");try{const{user:n,token:r}=await qe("/auth/login.php",{method:"POST",body:JSON.stringify({email:e,password:t})});return r&&localStorage.setItem("token",r),n}catch(n){console.warn("[API] Real backend failed, falling back to mock API"),console.warn("[Error]:",n);try{return await Le.login(e,t)}catch{throw n}}},gD=async e=>{if(ge==="/mock"||ge==="firebase")return Le.loginWithGoogle(e);const{user:t,token:n,isNew:r}=await qe("/auth/google.php",{method:"POST",body:JSON.stringify(e)});return n&&localStorage.setItem("token",n),{user:t,isNew:r}},vD=async e=>ge==="/mock"||ge==="firebase"?(await Le.completeUserProfile(e)).user:(await qe("/auth/complete-profile.php",{method:"PUT",body:JSON.stringify(e)})).user,jw=async e=>{if(ge==="/mock"||ge==="firebase")return(await Le.register(e)).user;try{const{user:t,token:n}=await qe("/auth/register.php",{method:"POST",body:JSON.stringify(e)});return n&&localStorage.setItem("token",n),t}catch(t){console.warn("[API] Real backend failed, falling back to mock API"),console.warn("[Error]:",t);try{return(await Le.register(e)).user}catch{throw t}}},zx=async()=>{if(ge==="/mock"||ge==="firebase")try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return Object.values(fa(xe.USERS,{})).find(i=>i.id===t.id)||t}catch{return null}try{return await qe("/auth/me.php")}catch(e){return console.warn("getCurrentUser failed",e),null}},mo=async()=>{if(ge==="/mock")return Le.getUsers();if(ge==="firebase"){const e=await on("users");return e?Object.values(e):[]}return Ew(()=>qe("/users/get.php"),()=>Le.getUsers())},yD=(e,t)=>ge==="/mock"?Le.updateUserRole(e,t):qe(`/users/update.php?id=${e}`,{method:"PUT",body:JSON.stringify({role:t})}),ji=async()=>{if(ge==="/mock")return Le.getLeaderboard();if(ge==="firebase"){const e=await on("teams");if(!e)return[];const t=Object.values(e).map(n=>({...n,progressHistory:n.progressHistory||[],detailedProgressHistory:n.detailedProgressHistory||[],merits:n.merits||[],demerits:n.demerits||[],score:n.score||0}));return t.sort((n,r)=>(r.score||0)-(n.score||0)),t}return Ew(()=>qe("/teams/get.php"),()=>Le.getLeaderboard())},jl=e=>ge==="/mock"||ge==="firebase"?Le.updateTeam(e):qe(`/teams/update.php?id=${e.id}`,{method:"PUT",body:JSON.stringify(e)}),ha=async()=>{if(ge==="/mock")return Le.getEvents();if(ge==="firebase"){const e=await on("events");if(!e)return[];const t=Object.values(e).map(n=>({...n,startDate:n.startDate||n.date||null,date:n.date||n.startDate||null,status:n.status||null}));return t.sort((n,r)=>{const i=n.startDate?new Date(n.startDate).getTime():0;return(r.startDate?new Date(r.startDate).getTime():0)-i}),t}return Ew(()=>qe("/events/get.php"),()=>Le.getEvents())},xD=async e=>{if(ge==="/mock")return Le.addEvent(e);if(ge==="firebase"){const t=await on("events"),n=t?Object.values(t):[],r={id:`evt_${Date.now()}`,...e};return n.push(r),await Pt("events",n).catch(i=>console.warn("Firebase addEvent failed",i)),ct(xe.EVENTS,n),r}return qe("/events/create.php",{method:"POST",body:JSON.stringify(e)})},Cw=async e=>{if(ge==="/mock")return Le.updateEvent(e);if(ge==="firebase"){const t=await on("events"),n=t?Object.values(t):[],r=n.findIndex(i=>i.id===e.id);if(r===-1)throw new Error("Event not found");return n[r]={...n[r],...e},await Pt("events",n).catch(i=>console.warn("Firebase updateEvent failed",i)),ct(xe.EVENTS,n),n[r]}return qe(`/events/update.php?id=${e.id}`,{method:"PUT",body:JSON.stringify(e)})},bD=async e=>{if(ge==="/mock")return Le.deleteEvent(e);if(ge==="firebase"){const t=await on("events"),r=(t?Object.values(t):[]).filter(i=>i.id!==e);await Pt("events",r).catch(i=>console.warn("Firebase deleteEvent failed",i)),ct(xe.EVENTS,r);return}return qe(`/events/delete.php?id=${e}`,{method:"DELETE"})},wD=async(e,t)=>{if(ge==="/mock")return Le.updateEventResults(e,t);if(ge==="firebase"){const n=await on("events"),r=n?Object.values(n):[],i=r.findIndex(x=>x.id===e);if(i===-1)throw new Error("Event not found");const s=r[i];s.results=t,s.status=Ft.COMPLETED;const l=t.map(x=>{const w=Object.values(x.criteriaScores||{}).reduce((_,E)=>_+(Number(E)||0),0)+(Number(x.meritAdjustment)||0)-(Number(x.demeritAdjustment)||0);return{teamId:x.teamId,rawScore:w,result:x}});l.sort((x,w)=>w.rawScore-x.rawScore);const u=Number(s.competitionPoints)||0,d=[u,Math.round(u*.66),Math.round(u*.33),Math.round(u*.1)],h=await on("teams"),p=h?Object.values(h):[],g={};p.forEach(x=>g[x.id]={...x});for(let x=0;x<l.length;x++){const w=l[x],_=x+1,E=d[x]||0,j=g[w.teamId];if(!j)continue;j.eventScores=j.eventScores||[];const A=j.eventScores.find(H=>H.eventId===e),N=A&&A.competitionPoints||0,D=[];(s.criteria||[]).forEach(H=>{const Z=w.result.criteriaScores&&w.result.criteriaScores[H.name]||0;D.push({criteria:H.name,score:Number(Z)||0,maxScore:H.points||0})});const T={eventId:s.id,eventName:s.name,placement:_,competitionPoints:E,rawScore:w.rawScore,scores:D,meritAdjustment:w.result.meritAdjustment||0,demeritAdjustment:w.result.demeritAdjustment||0,merits:w.result.merits||[],demerits:w.result.demerits||[]},P=j.eventScores.findIndex(H=>H.eventId===e);P>-1?j.eventScores[P]=T:j.eventScores.push(T),j.score=(j.score||0)-N+E,j.placementStats=j.placementStats||{first:0,second:0,third:0,fourth:0,merits:0,demerits:0},_===1?j.placementStats.first=(j.placementStats.first||0)+1:_===2?j.placementStats.second=(j.placementStats.second||0)+1:_===3?j.placementStats.third=(j.placementStats.third||0)+1:_===4&&(j.placementStats.fourth=(j.placementStats.fourth||0)+1),j.progressHistory=j.progressHistory||[],j.detailedProgressHistory=j.detailedProgressHistory||[];const I=new Date().toISOString(),B=E-N;j.detailedProgressHistory.push({timestamp:I,score:j.score,reason:`Event: ${s.name} (placement ${_})`,change:B}),j.progressHistory.push({date:I,score:j.score})}const v={};return Object.values(g).forEach(x=>v[x.id]=x),await Pt("teams",v).catch(x=>console.warn("Firebase updateEventResults write teams failed",x)),r[i]=s,await Pt("events",r).catch(x=>console.warn("Firebase updateEventResults failed",x)),ct(xe.EVENTS,r),ct(xe.TEAMS,Object.values(v)),s}return qe(`/events/results.php?id=${e}`,{method:"PUT",body:JSON.stringify({results:t})})},SD=async()=>{if(ge==="/mock")return Le.getNotifications();if(ge==="firebase"){const e=await on("notifications");return e?Object.values(e):[]}return qe("/system/notifications.php")},ep=async(e,t,n)=>{if(ge==="/mock")return Le.logActivity(e,t,n);if(ge==="firebase"){try{const r={id:`act_${Date.now()}`,userId:e,action:t,target:n,timestamp:new Date().toISOString()},i=await on("activities"),s=i?Object.values(i):[];s.unshift(r),s.length>500&&(s.length=500),await Pt("activities",s).catch(l=>console.warn("Firebase logActivity failed",l))}catch(r){console.warn("logActivity firebase branch failed",r)}return Promise.resolve()}try{return await qe("/activities/index.php",{method:"POST",body:JSON.stringify({userId:e,action:t,target:n})})}catch(r){console.warn("logActivity failed",r),console.log(`Activity Log (queued): User ${e} ${t}`,n||"")}},_D=async()=>{if(ge==="/mock")return Le.getActivities();if(ge==="firebase")try{const e=await on("activities");return e?Object.values(e):[]}catch(e){return console.warn("getAuditLogs firebase failed",e),[]}try{return await qe("/activities/index.php")}catch(e){return console.warn("getAuditLogs failed",e),[]}},Nw=e=>ge==="/mock"||ge==="firebase"?Le.addPointLog(e):qe("/points/index.php",{method:"POST",body:JSON.stringify(e)}),ED=e=>ge==="/mock"?Le.deletePointLog(e):qe(`/points/delete.php?id=${e}`,{method:"DELETE"}),jD=(e,t)=>ge==="/mock"?Le.updatePointLog(e,t):qe(`/points/update.php?id=${e}`,{method:"PUT",body:JSON.stringify({team_id:t.teamId,reason:t.reason,points:t.points})}),Ih=async(e,t,n)=>{if(ge==="/mock")return Le.manageJoinRequest(e,t,n);if(ge==="firebase"){const i=await on(`teams/${e}`)||{},l=(i.joinRequests?Object.values(i.joinRequests):[]).filter(u=>u.userId!==t);if(await Pt(`teams/${e}/joinRequests`,l).catch(u=>console.warn("manageJoinRequest firebase failed",u)),n==="accepted"){const d=await on("users")||{};for(const h of Object.keys(d))if(d[h].id===t){d[h].teamId=e;break}await Pt("users",d).catch(h=>console.warn("manageJoinRequest write users failed",h))}return}return qe("/teams/join_requests.php",{method:"PUT",body:JSON.stringify({teamId:e,userId:t,status:n})})},CD=async e=>{if(ge==="/mock")return Le.removeUserFromTeam(e);if(ge==="firebase"){const n=await on("users")||{};for(const r of Object.keys(n))if(n[r].id===e){n[r].teamId=void 0;break}await Pt("users",n).catch(r=>console.warn("removeUserFromTeam firebase failed",r));return}return qe("/teams/members.php",{method:"DELETE",body:`userId=${encodeURIComponent(e)}`})},Ux=async(e,t,n)=>{if(ge==="/mock")return Le.updateTeamRoster(e,t,n);if(ge==="firebase"){const i=await on(`teams/${e}`)||{};i.rosters=i.rosters||[];const s=i.rosters.findIndex(l=>l.eventId===t);s>-1?i.rosters[s].participants=n:i.rosters.push({eventId:t,participants:n}),await Pt(`teams/${e}`,i).catch(l=>console.warn("updateTeamRoster firebase failed",l));return}return qe(`/teams/update.php?id=${e}`,{method:"PUT",body:JSON.stringify({rosters:[{eventId:t,participants:n}]})})},ND=async e=>{if(ge==="/mock")return Le.getTeamUsers(e);if(ge==="firebase"){const n=await on("users")||{};return Object.values(n).filter(r=>r.teamId===e)}return qe(`/teams/members.php?teamId=${e}`)},TD=()=>ge==="/mock"?Le.getReports():qe("/reports/index.php"),AD=e=>ge==="/mock"?Le.submitReport(e):qe("/reports/index.php",{method:"POST",body:JSON.stringify(e)}),OD=(e,t)=>ge==="/mock"?Le.updateReportStatus(e,t):qe(`/reports/status_update.php?id=${e}`,{method:"PUT",body:JSON.stringify({status:t})}),kD=(e,t)=>ge==="/mock"?Le.addReportReply(e,t):qe(`/reports/reply.php?id=${e}`,{method:"POST",body:JSON.stringify(t)}),PD=async()=>ge==="/mock"?Le.getVisibilitySettings():ge==="firebase"?await on("visibility")||await Le.getVisibilitySettings():qe("/system/settings.php"),Lh=async e=>ge==="/mock"?Le.updateVisibilitySettings(e):ge==="firebase"?Pt("visibility",e):qe("/system/settings.php",{method:"PUT",body:JSON.stringify(e)}),Mu=async()=>{if(ge==="/mock"||ge==="firebase")return Promise.resolve(!0);try{return await qe("/system/ping.php"),!0}catch{return!1}},DD=async()=>ge==="/mock"?Le.getRules():ge==="firebase"?await on("rules")||await Le.getRules():qe("/system/rules.php"),Tw=async e=>ge==="/mock"?Le.updateRules(e):ge==="firebase"?Pt("rules",e):qe("/system/rules.php",{method:"PUT",body:JSON.stringify(e)}),MD={},Fx=()=>({...MD}),hF=Object.freeze(Object.defineProperty({__proto__:null,STORAGE_KEYS:xe,UserRole:Pe,addEvent:xD,addPointLog:Nw,addReportReply:kD,completeUserProfile:vD,deleteEvent:bD,deletePointLog:ED,firebaseListeners:hD,getAuditLogs:_D,getCurrentUser:zx,getEvents:ha,getLastFirebaseTimestamps:Fx,getLeaderboard:ji,getNotifications:SD,getReports:TD,getRules:DD,getTeamUsers:ND,getUsers:mo,getVisibilitySettings:PD,logActivity:ep,login:pD,loginWithGoogle:gD,manageJoinRequest:Ih,pingServer:Mu,register:jw,removeUserFromTeam:CD,submitReport:AD,subscribeToFirebaseData:mD,updateEvent:Cw,updateEventResults:wD,updatePointLog:jD,updateReportStatus:OD,updateRules:Tw,updateTeam:jl,updateTeamRoster:Ux,updateUserRole:yD,updateVisibilitySettings:Lh,writeToFirebaseData:Pt},Symbol.toStringTag,{value:"Module"})),RD=S.createContext(void 0);Pe.ADMIN+"",Pe.ADMIN,Pe.OFFICER+"",Pe.OFFICER,Pe.TEAM_LEAD+"",Pe.TEAM_LEAD,Pe.USER+"",Pe.USER;const mF=({children:e})=>{const[t,n]=S.useState(null),[r,i]=S.useState(!0);S.useEffect(()=>{(async()=>{i(!0);try{const v=localStorage.getItem("user"),x=localStorage.getItem("token");if(v){const w=JSON.parse(v);n(w);try{const _=await zx();_&&(n(_),localStorage.setItem("user",JSON.stringify(_)))}catch{try{const j=(await mo()).find(A=>A.id===w.id);j&&(n(j),localStorage.setItem("user",JSON.stringify(j)))}catch(E){console.warn("Could not refresh user from server:",E)}}}else if(x)try{const w=await zx();w&&(n(w),localStorage.setItem("user",JSON.stringify(w)))}catch(w){console.warn("Failed to restore user from token",w)}}catch(v){console.error("Failed to parse or restore user from storage",v),localStorage.removeItem("user")}finally{i(!1)}})()},[]);const g={user:t,login:async(v,x)=>{i(!0);try{const w=await pD(v,x);ep(w.id,"logged in"),n(w),localStorage.setItem("user",JSON.stringify(w))}catch(w){throw console.error("Login failed",w),w}finally{i(!1)}},register:async v=>{i(!0);try{const x=await jw(v);n(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("Registration failed",x),x}finally{i(!1)}},logout:()=>{n(null),localStorage.removeItem("user"),localStorage.removeItem("token")},loading:r,switchUserRole:v=>{{console.warn("switchUserRole is a development-only feature.");return}},loginWithGoogle:async v=>{i(!0);try{const{user:x,isNew:w}=await gD({idToken:v});return w||(n(x),localStorage.setItem("user",JSON.stringify(x))),{user:x,isNew:w}}catch(x){throw console.error("Google Login failed",x),x}finally{i(!1)}},updateUser:async v=>{i(!0);try{const x=await vD(v);n(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("Failed to update user profile",x),x}finally{i(!1)}}};return f.jsx(RD.Provider,{value:g,children:e})},On=()=>{const e=S.useContext(ID);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e},pF=({id:e,message:t,type:n})=>{const{removeToast:r}=On();S.useEffect(()=>{if(n!=="error"){const d=setTimeout(()=>{r(e)},5e3);return()=>clearTimeout(d)}},[e,n,r]);const i="flex items-center w-full max-w-xs p-4 mb-4 text-slate-500 bg-white rounded-2xl shadow-lg dark:text-slate-400 dark:bg-slate-800",s={success:"bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-200",error:"bg-red-100 dark:bg-red-800 text-red-700 dark:text-red-200",info:"bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200"},l={success:"text-green-500 bg-green-100 dark:bg-green-800 dark:text-green-200",error:"text-red-500 bg-red-100 dark:bg-red-800 dark:text-red-200",info:"text-blue-500 bg-blue-100 dark:bg-blue-800 dark:text-blue-200"},u=()=>n==="success"?f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):n==="error"?f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.607a1 1 0 010-1.414z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});return f.jsxs("div",{className:`${i} ${s[n]}`,children:[f.jsx("div",{className:`inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg ${l[n]}`,children:f.jsx(u,{})}),f.jsx("div",{className:"ml-3 text-sm font-normal",children:t}),f.jsx("button",{onClick:()=>r(e),className:"ml-auto -mx-1.5 -my-1.5 bg-white text-slate-400 hover:text-slate-900 rounded-lg focus:ring-2 focus:ring-slate-300 p-1.5 hover:bg-slate-100 inline-flex h-8 w-8 dark:text-slate-500 dark:hover:text-white dark:bg-slate-800 dark:hover:bg-slate-700",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.607a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},gF=()=>{const{toasts:e}=On();return f.jsx("div",{className:"fixed top-5 right-5 z-50",children:e.map(t=>f.jsx(pF,{...t},t.id))})},ID=S.createContext(void 0),vF=({children:e})=>{const[t,n]=S.useState([]),r=S.useCallback((s,l)=>{const u=Date.now();n(d=>[...d,{id:u,message:s,type:l}])},[]),i=S.useCallback(s=>{n(l=>l.filter(u=>u.id!==s))},[]);return f.jsxs(ID.Provider,{value:{toasts:t,addToast:r,removeToast:i},children:[e,f.jsx(gF,{})]})},Gt=()=>{const e=S.useContext(RD);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},IN="storage-update";function an(e,t){const[n,r]=S.useState(null),[i,s]=S.useState(!0),[l,u]=S.useState(!1),[d,h]=S.useState(0),p=S.useRef(null),g=S.useCallback(()=>h(x=>x+1),[]),v=t.join(",");return S.useEffect(()=>{let x=!0;const w=async(j=!1)=>{if(x){n===null&&s(!0);try{const A=await e();x&&(r(A),j&&(u(!0),p.current&&clearTimeout(p.current),p.current=window.setTimeout(()=>{x&&u(!1)},2500)))}catch(A){x&&console.error("Failed to fetch data in useSyncedData",A)}finally{x&&s(!1)}}};w();const _=j=>{const A=j.detail;t.includes(A==null?void 0:A.key)&&w(!0)},E=j=>{j.key&&t.includes(j.key)&&w(!0)};return window.addEventListener(IN,_),window.addEventListener("storage",E),()=>{x=!1,p.current&&clearTimeout(p.current),window.removeEventListener(IN,_),window.removeEventListener("storage",E)}},[v,d]),{data:n,loading:i,refetch:g,isSynced:l}}const LD=S.createContext(void 0),yF=({children:e})=>{const{data:t,loading:n}=an(SD,[xe.NOTIFICATIONS]),[r,i]=S.useState([]),[s,l]=S.useState(new Set),{user:u}=Gt();S.useEffect(()=>{if(u){const v=localStorage.getItem(`sims_read_notifs_${u.id}`);l(new Set(v?JSON.parse(v):[]))}else l(new Set)},[u]),S.useEffect(()=>{if(t)if(u){const v=u.role===Pe.ADMIN||u.role===Pe.OFFICER||u.teamId===Rn,x=t.filter(w=>{var _;return v?!((_=w.target)!=null&&_.userId&&w.target.userId!==u.id):!w.target||w.target.userId&&w.target.userId===u.id?!0:w.target.roles&&w.target.roles.includes(u.role)?w.target.teamId?w.target.teamId===u.teamId:!0:!1});i(x)}else i(t.filter(v=>!v.target))},[t,u]);const d=v=>{l(x=>{const w=new Set(x).add(v);return u&&localStorage.setItem(`sims_read_notifs_${u.id}`,JSON.stringify(Array.from(w))),w})},h=()=>{l(v=>{const x=new Set(v);return r.forEach(w=>x.add(w.id)),u&&localStorage.setItem(`sims_read_notifs_${u.id}`,JSON.stringify(Array.from(x))),x})},p=r.filter(v=>!s.has(v.id)).length,g=r.map(v=>({...v,read:s.has(v.id)})).sort((v,x)=>new Date(x.timestamp).getTime()-new Date(v.timestamp).getTime());return f.jsx(LD.Provider,{value:{notifications:g,unreadCount:p,markAsRead:d,markAllAsRead:h,loading:n},children:e})},Ms="sims_visibility_settings",P0="storage-update",ih={competitionScores:!0,pages:{dashboard:!0,leaderboard:!0,teams:!0,events:!0,rules:!0,reports:!0,profile:!0},dashboard:{summaryCards:!0,leaderboardRanking:!0,topTeams:!0,teamScoreProgression:!0},leaderboard:{tabs:{standings:!0,records:!0,meritsLog:!0}},teams:{facilitatingTeam:!0,participatingTeams:!0,tabs:{overview:!0,leadership:!0,joinRequests:!0,roster:!0,prospects:!0,progress:!0,merits:!0,scores:!0}},events:{categories:{[_e.JOKER_FLAG]:!0,[_e.CIT_QUEST]:!0,[_e.MINDSCAPE]:!0,[_e.HOOP_SPIKE]:!0,[_e.CODING_TECH_CHALLENGES]:!0,[_e.PIXEL_PLAY]:!0,[_e.TABLE_MASTERS]:!0}},rules:{sections:{objectives:!0,house_rules:!0,demerit_system:!0,complaints:!0,scoring_system:!0,categories_mechanics:!0}},reports:{tabs:{view:!0,submit:!0}}},hr=e=>!!e&&typeof e=="object"&&!Array.isArray(e),D0=e=>{if(!e)return ih;try{const t=JSON.parse(e);if(!hr(t))return ih;const n=JSON.parse(JSON.stringify(ih));if(typeof t.competitionScores=="boolean"&&(n.competitionScores=t.competitionScores),hr(t.pages))for(const r of Object.keys(n.pages))typeof t.pages[r]=="boolean"&&(n.pages[r]=t.pages[r]);if(hr(t.dashboard)){typeof t.dashboard.leaderboardRankingChart=="boolean"&&(t.dashboard.leaderboardRanking=t.dashboard.leaderboardRankingChart),typeof t.dashboard.teamProgressBars=="boolean"&&(t.dashboard.teamScoreProgression=t.dashboard.teamProgressBars);for(const r of Object.keys(n.dashboard))typeof t.dashboard[r]=="boolean"&&(n.dashboard[r]=t.dashboard[r])}if(hr(t.leaderboard)&&hr(t.leaderboard.tabs))for(const r of Object.keys(n.leaderboard.tabs))typeof t.leaderboard.tabs[r]=="boolean"&&(n.leaderboard.tabs[r]=n.leaderboard.tabs[r]);if(hr(t.teams)&&(typeof t.teams.facilitatingTeam=="boolean"&&(n.teams.facilitatingTeam=t.teams.facilitatingTeam),typeof t.teams.participatingTeams=="boolean"&&(n.teams.participatingTeams=t.teams.participatingTeams),hr(t.teams.tabs)))for(const r of Object.keys(n.teams.tabs))typeof t.teams.tabs[r]=="boolean"&&(n.teams.tabs[r]=t.teams.tabs[r]);if(hr(t.events)&&hr(t.events.categories))for(const r of Object.keys(n.events.categories))typeof t.events.categories[r]=="boolean"&&(n.events.categories[r]=n.events.categories[r]);if(hr(t.rules)&&hr(t.rules.sections))for(const r of Object.keys(n.rules.sections))typeof t.rules.sections[r]=="boolean"&&(n.rules.sections[r]=n.rules.sections[r]);if(hr(t.reports)&&hr(t.reports.tabs))for(const r of Object.keys(n.reports.tabs))typeof t.reports.tabs[r]=="boolean"&&(n.reports.tabs[r]=n.reports.tabs[r]);return n}catch(t){return console.error("Failed to parse settings, returning defaults",t),ih}},BD=S.createContext(void 0),xF=({children:e})=>{const[t,n]=S.useState(()=>{const l=localStorage.getItem(Ms);return D0(l)});yr.useEffect(()=>{let l=!0;return(async()=>{try{const u=await PD();if(!l)return;const d=D0(JSON.stringify(u));n(d),localStorage.setItem(Ms,JSON.stringify(d))}catch(u){console.warn("Failed to fetch visibility settings from server, using local settings.",u)}})(),()=>{l=!1}},[]);const{user:r}=Gt(),i=(r==null?void 0:r.role)===Pe.ADMIN||(r==null?void 0:r.teamId)===Rn,s=l=>{const u={...l,version:(l.version||0)+1,updatedAt:new Date().toISOString()};localStorage.setItem(Ms,JSON.stringify(u));try{localStorage.setItem(`${Ms}_ts`,new Date().toISOString())}catch{}n(u),window.dispatchEvent(new CustomEvent(P0,{detail:{key:Ms}}));try{ri(async()=>{const{enqueue:d,processQueue:h}=await Promise.resolve().then(()=>Ml);return{enqueue:d,processQueue:h}},void 0).then(({enqueue:d,processQueue:h})=>{d("visibility:update",u),d("activity:log",{userId:r&&r.id||"unknown",action:"updated_visibility_settings"}),h()}).catch(()=>{Lh(l).catch(d=>console.error("Failed to save visibility settings to server:",d))})}catch{Lh(l).catch(h=>console.error("Failed to save visibility settings to server:",h))}};return S.useEffect(()=>{const l=u=>{var h;if((((h=u.detail)==null?void 0:h.key)||u.key)===Ms){const p=localStorage.getItem(Ms);n(D0(p))}};return window.addEventListener(P0,l),window.addEventListener("storage",l),()=>{window.removeEventListener(P0,l),window.removeEventListener("storage",l)}},[]),f.jsx(BD.Provider,{value:{settings:t,setSettings:s,isPrivileged:i},children:e})},Bh="i3 Day | Clash of Cards",bF=[Bh,"Campus Clash","Intramurals"],zD=S.createContext(void 0),wF=({children:e})=>{const[t,n]=S.useState(Bh),r=S.useMemo(()=>t===Bh,[t]),i={selectedEvent:t,setSelectedEvent:n,isDataAvailable:r};return f.jsx(zD.Provider,{value:i,children:e})},Aw=S.createContext({});function Ow(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const tp=S.createContext(null),kw=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class SF extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _F({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=S.useContext(kw);return S.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=i.current;if(t||!r.current||!l||!u)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),f.jsx(SF,{isPresent:t,childRef:r,sizeRef:i,children:S.cloneElement(e,{ref:r})})}const EF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:l})=>{const u=Ow(jF),d=S.useId(),h=S.useCallback(g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},[u,r]),p=S.useMemo(()=>({id:d,initial:t,isPresent:n,custom:i,onExitComplete:h,register:g=>(u.set(g,!1),()=>u.delete(g))}),s?[Math.random(),h]:[n,h]);return S.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(e=f.jsx(_F,{isPresent:n,children:e})),f.jsx(tp.Provider,{value:p,children:e})};function jF(){return new Map}function UD(e=!0){const t=S.useContext(tp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=S.useId();S.useEffect(()=>{e&&i(s)},[e]);const l=S.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,l]:[!0]}const ah=e=>e.key||"";function LN(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const Pw=typeof window<"u",FD=Pw?S.useLayoutEffect:S.useEffect,np=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1})=>{const[u,d]=UD(l),h=S.useMemo(()=>LN(e),[e]),p=l&&!u?[]:h.map(ah),g=S.useRef(!0),v=S.useRef(h),x=Ow(()=>new Map),[w,_]=S.useState(h),[E,j]=S.useState(h);FD(()=>{g.current=!1,v.current=h;for(let D=0;D<E.length;D++){const T=ah(E[D]);p.includes(T)?x.delete(T):x.get(T)!==!0&&x.set(T,!1)}},[E,p.length,p.join("-")]);const A=[];if(h!==w){let D=[...h];for(let T=0;T<E.length;T++){const P=E[T],I=ah(P);p.includes(I)||(D.splice(T,0,P),A.push(P))}s==="wait"&&A.length&&(D=A),j(LN(D)),_(h);return}const{forceRender:N}=S.useContext(Aw);return f.jsx(f.Fragment,{children:E.map(D=>{const T=ah(D),P=l&&!u?!1:h===E||p.includes(T),I=()=>{if(x.has(T))x.set(T,!0);else return;let B=!0;x.forEach(H=>{H||(B=!1)}),B&&(N==null||N(),j(v.current),l&&(d==null||d()),r&&r())};return f.jsx(EF,{isPresent:P,initial:!g.current||n?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:I,children:D},T)})})},xr=e=>e;let VD=xr;function Dw(e){let t;return()=>(t===void 0&&(t=e()),t)}const Cl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Qi=e=>e*1e3,Zi=e=>e/1e3,CF={useManualTiming:!1};function NF(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(h){s.has(h)&&(d.schedule(h),e()),h(l)}const d={schedule:(h,p=!1,g=!1)=>{const x=g&&r?t:n;return p&&s.add(h),x.has(h)||x.add(h),h},cancel:h=>{n.delete(h),s.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(u),t.clear(),r=!1,i&&(i=!1,d.process(h))}};return d}const sh=["read","resolveKeyframes","update","preRender","render","postRender"],TF=40;function HD(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=sh.reduce((j,A)=>(j[A]=NF(s),j),{}),{read:u,resolveKeyframes:d,update:h,preRender:p,render:g,postRender:v}=l,x=()=>{const j=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,TF),1),i.timestamp=j,i.isProcessing=!0,u.process(i),d.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(x))},w=()=>{n=!0,r=!0,i.isProcessing||e(x)};return{schedule:sh.reduce((j,A)=>{const N=l[A];return j[A]=(D,T=!1,P=!1)=>(n||w(),N.schedule(D,T,P)),j},{}),cancel:j=>{for(let A=0;A<sh.length;A++)l[sh[A]].cancel(j)},state:i,steps:l}}const{schedule:vt,cancel:rs,state:bn,steps:M0}=HD(typeof requestAnimationFrame<"u"?requestAnimationFrame:xr,!0),$D=S.createContext({strict:!1}),BN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nl={};for(const e in BN)Nl[e]={isEnabled:t=>BN[e].some(n=>!!t[n])};function AF(e){for(const t in e)Nl[t]={...Nl[t],...e[t]}}const OF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OF.has(e)}let qD=e=>!zh(e);function kF(e){e&&(qD=t=>t.startsWith("on")?!zh(t):e(t))}try{kF(require("@emotion/is-prop-valid").default)}catch{}function PF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(qD(i)||n===!0&&zh(i)||!t&&!zh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function DF(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const rp=S.createContext({});function Ru(e){return typeof e=="string"||Array.isArray(e)}function ip(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Mw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rw=["initial",...Mw];function ap(e){return ip(e.animate)||Rw.some(t=>Ru(e[t]))}function GD(e){return!!(ap(e)||e.variants)}function MF(e,t){if(ap(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ru(n)?n:void 0,animate:Ru(r)?r:void 0}}return e.inherit!==!1?t:{}}function RF(e){const{initial:t,animate:n}=MF(e,S.useContext(rp));return S.useMemo(()=>({initial:t,animate:n}),[zN(t),zN(n)])}function zN(e){return Array.isArray(e)?e.join(" "):e}const IF=Symbol.for("motionComponentSymbol");function fl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function LF(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):fl(n)&&(n.current=r))},[t])}const Iw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BF="framerAppearId",YD="data-"+Iw(BF),{schedule:Lw}=HD(queueMicrotask,!1),KD=S.createContext({});function zF(e,t,n,r,i){var s,l;const{visualElement:u}=S.useContext(rp),d=S.useContext($D),h=S.useContext(tp),p=S.useContext(kw).reducedMotion,g=S.useRef(null);r=r||d.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:u,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,x=S.useContext(KD);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&UF(g.current,n,i,x);const w=S.useRef(!1);S.useInsertionEffect(()=>{v&&w.current&&v.update(n,h)});const _=n[YD],E=S.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,_)));return FD(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Lw.render(v.render),E.current&&v.animationState&&v.animationState.animateChanges())}),S.useEffect(()=>{v&&(!E.current&&v.animationState&&v.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,_)}),E.current=!1))}),v}function UF(e,t,n,r){const{layoutId:i,layout:s,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WD(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||u&&fl(u),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:d,layoutRoot:h})}function WD(e){if(e)return e.options.allowProjection!==!1?e.projection:WD(e.parent)}function FF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,l;e&&AF(e);function u(h,p){let g;const v={...S.useContext(kw),...h,layoutId:VF(h)},{isStatic:x}=v,w=RF(h),_=r(h,x);if(!x&&Pw){HF();const E=$F(v);g=E.MeasureLayout,w.visualElement=zF(i,_,v,t,E.ProjectionNode)}return f.jsxs(rp.Provider,{value:w,children:[g&&w.visualElement?f.jsx(g,{visualElement:w.visualElement,...v}):null,n(i,h,LF(_,w.visualElement,p),_,x,w.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(l=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&l!==void 0?l:""})`}`;const d=S.forwardRef(u);return d[IF]=i,d}function VF({layoutId:e}){const t=S.useContext(Aw).id;return t&&e!==void 0?t+"-"+e:e}function HF(e,t){S.useContext($D).strict}function $F(e){const{drag:t,layout:n}=Nl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bw(e){return typeof e!="string"||e.includes("-")?!1:!!(qF.indexOf(e)>-1||/[A-Z]/u.test(e))}function UN(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zw(e,t,n,r){if(typeof t=="function"){const[i,s]=UN(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=UN(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Vx=e=>Array.isArray(e),GF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YF=e=>Vx(e)?e[e.length-1]||0:e,An=e=>!!(e&&e.getVelocity);function Nh(e){const t=An(e)?e.get():e;return GF(t)?t.toValue():t}function KF({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const l={latestValues:WF(r,i,s,e),renderState:t()};return n&&(l.onMount=u=>n({props:r,current:u,...l}),l.onUpdate=u=>n(u)),l}const XD=e=>(t,n)=>{const r=S.useContext(rp),i=S.useContext(tp),s=()=>KF(e,t,r,i);return n?s():Ow(s)};function WF(e,t,n,r){const i={},s=r(e,{});for(const v in s)i[v]=Nh(s[v]);let{initial:l,animate:u}=e;const d=ap(e),h=GD(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!ip(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const w=zw(e,v[x]);if(w){const{transitionEnd:_,transition:E,...j}=w;for(const A in j){let N=j[A];if(Array.isArray(N)){const D=p?N.length-1:0;N=N[D]}N!==null&&(i[A]=N)}for(const A in _)i[A]=_[A]}}}return i}const Vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],po=new Set(Vl),QD=e=>t=>typeof t=="string"&&t.startsWith(e),ZD=QD("--"),XF=QD("var(--"),Uw=e=>XF(e)?QF.test(e.split("/*")[0].trim()):!1,QF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,JD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ra=(e,t,n)=>n>t?t:n<e?e:n,Hl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Iu={...Hl,transform:e=>ra(0,1,e)},oh={...Hl,default:1},dd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ya=dd("deg"),mi=dd("%"),Ce=dd("px"),ZF=dd("vh"),JF=dd("vw"),FN={...mi,parse:e=>mi.parse(e)/100,transform:e=>mi.transform(e*100)},eV={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},tV={rotate:Ya,rotateX:Ya,rotateY:Ya,rotateZ:Ya,scale:oh,scaleX:oh,scaleY:oh,scaleZ:oh,skew:Ya,skewX:Ya,skewY:Ya,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Iu,originX:FN,originY:FN,originZ:Ce},VN={...Hl,transform:Math.round},Fw={...eV,...tV,zIndex:VN,size:Ce,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:VN},nV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rV=Vl.length;function iV(e,t,n){let r="",i=!0;for(let s=0;s<rV;s++){const l=Vl[s],u=e[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||n){const h=JD(u,Fw[l]);if(!d){i=!1;const p=nV[l]||l;r+=`${p}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Vw(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let l=!1,u=!1;for(const d in t){const h=t[d];if(po.has(d)){l=!0;continue}else if(ZD(d)){i[d]=h;continue}else{const p=JD(h,Fw[d]);d.startsWith("origin")?(u=!0,s[d]=p):r[d]=p}}if(t.transform||(l||n?r.transform=iV(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=s;r.transformOrigin=`${d} ${h} ${p}`}}const aV={offset:"stroke-dashoffset",array:"stroke-dasharray"},sV={offset:"strokeDashoffset",array:"strokeDasharray"};function oV(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?aV:sV;e[s.offset]=Ce.transform(-r);const l=Ce.transform(t),u=Ce.transform(n);e[s.array]=`${l} ${u}`}function HN(e,t,n){return typeof e=="string"?e:Ce.transform(t+n*e)}function lV(e,t,n){const r=HN(t,e.x,e.width),i=HN(n,e.y,e.height);return`${r} ${i}`}function Hw(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...h},p,g){if(Vw(e,h,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x,dimensions:w}=e;v.transform&&(w&&(x.transform=v.transform),delete v.transform),w&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=lV(w,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&oV(v,l,u,d,!1)}const $w=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eM=()=>({...$w(),attrs:{}}),qw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tM(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const nM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rM(e,t,n,r){tM(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(nM.has(i)?i:Iw(i),t.attrs[i])}const Uh={};function cV(e){Object.assign(Uh,e)}function iM(e,{layout:t,layoutId:n}){return po.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Uh[e]||e==="opacity")}function Gw(e,t,n){var r;const{style:i}=e,s={};for(const l in i)(An(i[l])||t.style&&An(t.style[l])||iM(l,e)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[l]=i[l]);return s}function aM(e,t,n){const r=Gw(e,t,n);for(const i in e)if(An(e[i])||An(t[i])){const s=Vl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function uV(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const $N=["x","y","width","height","cx","cy","r"],dV={useVisualState:XD({scrapeMotionValuesFromProps:aM,createRenderState:eM,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const u in i)if(po.has(u)){s=!0;break}}if(!s)return;let l=!t;if(t)for(let u=0;u<$N.length;u++){const d=$N[u];e[d]!==t[d]&&(l=!0)}l&&vt.read(()=>{uV(n,r),vt.render(()=>{Hw(r,i,qw(n.tagName),e.transformTemplate),rM(n,r)})})}})},fV={useVisualState:XD({scrapeMotionValuesFromProps:Gw,createRenderState:$w})};function sM(e,t,n){for(const r in t)!An(t[r])&&!iM(r,n)&&(e[r]=t[r])}function hV({transformTemplate:e},t){return S.useMemo(()=>{const n=$w();return Vw(n,t,e),Object.assign({},n.vars,n.style)},[t])}function mV(e,t){const n=e.style||{},r={};return sM(r,n,e),Object.assign(r,hV(e,t)),r}function pV(e,t){const n={},r=mV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function gV(e,t,n,r){const i=S.useMemo(()=>{const s=eM();return Hw(s,t,qw(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};sM(s,e.style,e),i.style={...s,...i.style}}return i}function vV(e=!1){return(n,r,i,{latestValues:s},l)=>{const d=(Bw(n)?gV:pV)(r,s,l,n),h=PF(r,typeof n=="string",e),p=n!==S.Fragment?{...h,...d,ref:i}:{},{children:g}=r,v=S.useMemo(()=>An(g)?g.get():g,[g]);return S.createElement(n,{...p,children:v})}}function yV(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Bw(r)?dV:fV,preloadedFeatures:e,useRender:vV(i),createVisualElement:t,Component:r};return FF(l)}}function oM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function sp(e,t,n){const r=e.getProps();return zw(r,t,n!==void 0?n:r.custom,e)}const xV=Dw(()=>window.ScrollTimeline!==void 0);class bV{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(xV()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wV extends bV{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Yw(e,t){return e?e[t]||e.default||e:void 0}const Hx=2e4;function lM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Hx;)t+=n,r=e.next(t);return t>=Hx?1/0:t}function Kw(e){return typeof e=="function"}function qN(e,t){e.timeline=t,e.onfinish=null}const Ww=e=>Array.isArray(e)&&typeof e[0]=="number",SV={linearEasing:void 0};function _V(e,t){const n=Dw(e);return()=>{var r;return(r=SV[t])!==null&&r!==void 0?r:n()}}const Fh=_V(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cM=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Cl(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function uM(e){return!!(typeof e=="function"&&Fh()||!e||typeof e=="string"&&(e in $x||Fh())||Ww(e)||Array.isArray(e)&&e.every(uM))}const gu=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function dM(e,t){if(e)return typeof e=="function"&&Fh()?cM(e,t):Ww(e)?gu(e):Array.isArray(e)?e.map(n=>dM(n,t)||$x.easeOut):$x[e]}const Xr={x:!1,y:!1};function fM(){return Xr.x||Xr.y}function EV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function hM(e,t){const n=EV(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function GN(e){return t=>{t.pointerType==="touch"||fM()||e(t)}}function jV(e,t,n={}){const[r,i,s]=hM(e,n),l=GN(u=>{const{target:d}=u,h=t(u);if(typeof h!="function"||!d)return;const p=GN(g=>{h(g),d.removeEventListener("pointerleave",p)});d.addEventListener("pointerleave",p,i)});return r.forEach(u=>{u.addEventListener("pointerenter",l,i)}),s}const mM=(e,t)=>t?e===t?!0:mM(e,t.parentElement):!1,Xw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NV(e){return CV.has(e.tagName)||e.tabIndex!==-1}const vu=new WeakSet;function YN(e){return t=>{t.key==="Enter"&&e(t)}}function R0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const TV=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=YN(()=>{if(vu.has(n))return;R0(n,"down");const i=YN(()=>{R0(n,"up")}),s=()=>R0(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function KN(e){return Xw(e)&&!fM()}function AV(e,t,n={}){const[r,i,s]=hM(e,n),l=u=>{const d=u.currentTarget;if(!KN(u)||vu.has(d))return;vu.add(d);const h=t(u),p=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!KN(x)||!vu.has(d))&&(vu.delete(d),typeof h=="function"&&h(x,{success:w}))},g=x=>{p(x,n.useGlobalTarget||mM(d,x.target))},v=x=>{p(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{!NV(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u.addEventListener("focus",h=>TV(h,i),i)}),s}function OV(e){return e==="x"||e==="y"?Xr[e]?null:(Xr[e]=!0,()=>{Xr[e]=!1}):Xr.x||Xr.y?null:(Xr.x=Xr.y=!0,()=>{Xr.x=Xr.y=!1})}const pM=new Set(["width","height","top","left","right","bottom",...Vl]);let Th;function kV(){Th=void 0}const pi={now:()=>(Th===void 0&&pi.set(bn.isProcessing||CF.useManualTiming?bn.timestamp:performance.now()),Th),set:e=>{Th=e,queueMicrotask(kV)}};function Qw(e,t){e.indexOf(t)===-1&&e.push(t)}function Zw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Jw{constructor(){this.subscriptions=[]}add(t){return Qw(this.subscriptions,t),()=>Zw(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function gM(e,t){return t?e*(1e3/t):0}const WN=30,PV=e=>!isNaN(parseFloat(e));class DV{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=pi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Jw);const r=this.events[t].add(n);return t==="change"?()=>{r(),vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WN);return gM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lu(e,t){return new DV(e,t)}function MV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lu(n))}function RV(e,t){const n=sp(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const l in s){const u=YF(s[l]);MV(e,l,u)}}function IV(e){return!!(An(e)&&e.add)}function qx(e,t){const n=e.getValue("willChange");if(IV(n))return n.add(t)}function vM(e){return e.props[YD]}const yM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LV=1e-7,BV=12;function zV(e,t,n,r,i){let s,l,u=0;do l=t+(n-t)/2,s=yM(l,r,i)-e,s>0?n=l:t=l;while(Math.abs(s)>LV&&++u<BV);return l}function fd(e,t,n,r){if(e===t&&n===r)return xr;const i=s=>zV(s,0,1,e,n);return s=>s===0||s===1?s:yM(i(s),t,r)}const xM=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bM=e=>t=>1-e(1-t),wM=fd(.33,1.53,.69,.99),e1=bM(wM),SM=xM(e1),_M=e=>(e*=2)<1?.5*e1(e):.5*(2-Math.pow(2,-10*(e-1))),t1=e=>1-Math.sin(Math.acos(e)),EM=bM(t1),jM=xM(t1),CM=e=>/^0[^.\s]+$/u.test(e);function UV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||CM(e):!0}const Su=e=>Math.round(e*1e5)/1e5,n1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FV(e){return e==null}const VV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r1=(e,t)=>n=>!!(typeof n=="string"&&VV.test(n)&&n.startsWith(e)||t&&!FV(n)&&Object.prototype.hasOwnProperty.call(n,t)),NM=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,l,u]=r.match(n1);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},HV=e=>ra(0,255,e),I0={...Hl,transform:e=>Math.round(HV(e))},Hs={test:r1("rgb","red"),parse:NM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+I0.transform(e)+", "+I0.transform(t)+", "+I0.transform(n)+", "+Su(Iu.transform(r))+")"};function $V(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gx={test:r1("#"),parse:$V,transform:Hs.transform},hl={test:r1("hsl","hue"),parse:NM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+mi.transform(Su(t))+", "+mi.transform(Su(n))+", "+Su(Iu.transform(r))+")"},jn={test:e=>Hs.test(e)||Gx.test(e)||hl.test(e),parse:e=>Hs.test(e)?Hs.parse(e):hl.test(e)?hl.parse(e):Gx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hs.transform(e):hl.transform(e)},qV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(n1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(qV))===null||n===void 0?void 0:n.length)||0)>0}const TM="number",AM="color",YV="var",KV="var(",XN="${}",WV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=t.replace(WV,d=>(jn.test(d)?(r.color.push(s),i.push(AM),n.push(jn.parse(d))):d.startsWith(KV)?(r.var.push(s),i.push(YV),n.push(d)):(r.number.push(s),i.push(TM),n.push(parseFloat(d))),++s,XN)).split(XN);return{values:n,split:u,indexes:r,types:i}}function OM(e){return Bu(e).values}function kM(e){const{split:t,types:n}=Bu(e),r=t.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=t[l],i[l]!==void 0){const u=n[l];u===TM?s+=Su(i[l]):u===AM?s+=jn.transform(i[l]):s+=i[l]}return s}}const XV=e=>typeof e=="number"?0:e;function QV(e){const t=OM(e);return kM(e)(t.map(XV))}const is={test:GV,parse:OM,createTransformer:kM,getAnimatableNone:QV},ZV=new Set(["brightness","contrast","saturate","opacity"]);function JV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(n1)||[];if(!r)return e;const i=n.replace(r,"");let s=ZV.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const eH=/\b([a-z-]*)\(.*?\)/gu,Yx={...is,getAnimatableNone:e=>{const t=e.match(eH);return t?t.map(JV).join(" "):e}},tH={...Fw,color:jn,backgroundColor:jn,outlineColor:jn,fill:jn,stroke:jn,borderColor:jn,borderTopColor:jn,borderRightColor:jn,borderBottomColor:jn,borderLeftColor:jn,filter:Yx,WebkitFilter:Yx},i1=e=>tH[e];function PM(e,t){let n=i1(e);return n!==Yx&&(n=is),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nH=new Set(["auto","none","0"]);function rH(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!nH.has(s)&&Bu(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=PM(n,i)}const QN=e=>e===Hl||e===Ce,ZN=(e,t)=>parseFloat(e.split(", ")[t]),JN=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ZN(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?ZN(s[1],e):0}},iH=new Set(["x","y","z"]),aH=Vl.filter(e=>!iH.has(e));function sH(e){const t=[];return aH.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Tl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:JN(4,13),y:JN(5,14)};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const Xs=new Set;let Kx=!1,Wx=!1;function DM(){if(Wx){const e=Array.from(Xs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=sH(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,l])=>{var u;(u=r.getValue(s))===null||u===void 0||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wx=!1,Kx=!1,Xs.forEach(e=>e.complete()),Xs.clear()}function MM(){Xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wx=!0)})}function oH(){MM(),DM()}class a1{constructor(t,n,r,i,s,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xs.add(this),Kx||(Kx=!0,vt.read(MM),vt.resolveKeyframes(DM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const l=i==null?void 0:i.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),i&&l===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RM=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),lH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cH(e){const t=lH.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function IM(e,t,n=1){const[r,i]=cH(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const l=s.trim();return RM(l)?parseFloat(l):l}return Uw(i)?IM(i,t,n+1):i}const LM=e=>t=>t.test(e),uH={test:e=>e==="auto",parse:e=>e},BM=[Hl,Ce,mi,Ya,JF,ZF,uH],eT=e=>BM.find(LM(e));class zM extends a1{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Uw(h))){const p=IM(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!pM.has(r)||t.length!==2)return;const[i,s]=t,l=eT(i),u=eT(s);if(l!==u)if(QN(l)&&QN(u))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)UV(t[i])&&r.push(i);r.length&&rH(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}const tT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(is.test(e)||e==="0")&&!e.startsWith("url("));function dH(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function fH(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=tT(i,t),u=tT(s,t);return!l||!u?!1:dH(e)||(n==="spring"||Kw(n))&&r}const hH=e=>e!==null;function op(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(hH),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const mH=40;class UM{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mH?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oH(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:l,onComplete:u,onUpdate:d,isGenerator:h}=this.options;if(!h&&!fH(t,r,i,s))if(l)this.options.duration=0;else{d&&d(op(t,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _t=(e,t,n)=>e+(t-e)*n;function L0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pH({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,l=0;if(!t)i=s=l=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;i=L0(d,u,e+1/3),s=L0(d,u,e),l=L0(d,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function Vh(e,t){return n=>n>0?t:e}const B0=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gH=[Gx,Hs,hl],vH=e=>gH.find(t=>t.test(e));function nT(e){const t=vH(e);if(!t)return!1;let n=t.parse(e);return t===hl&&(n=pH(n)),n}const rT=(e,t)=>{const n=nT(e),r=nT(t);if(!n||!r)return Vh(e,t);const i={...n};return s=>(i.red=B0(n.red,r.red,s),i.green=B0(n.green,r.green,s),i.blue=B0(n.blue,r.blue,s),i.alpha=_t(n.alpha,r.alpha,s),Hs.transform(i))},yH=(e,t)=>n=>t(e(n)),hd=(...e)=>e.reduce(yH),Xx=new Set(["none","hidden"]);function xH(e,t){return Xx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bH(e,t){return n=>_t(e,t,n)}function s1(e){return typeof e=="number"?bH:typeof e=="string"?Uw(e)?Vh:jn.test(e)?rT:_H:Array.isArray(e)?FM:typeof e=="object"?jn.test(e)?rT:wH:Vh}function FM(e,t){const n=[...e],r=n.length,i=e.map((s,l)=>s1(s)(s,t[l]));return s=>{for(let l=0;l<r;l++)n[l]=i[l](s);return n}}function wH(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=s1(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SH(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],u=e.indexes[l][i[l]],d=(n=e.values[u])!==null&&n!==void 0?n:0;r[s]=d,i[l]++}return r}const _H=(e,t)=>{const n=is.createTransformer(t),r=Bu(e),i=Bu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Xx.has(e)&&!i.values.length||Xx.has(t)&&!r.values.length?xH(e,t):hd(FM(SH(r,i),i.values),n):Vh(e,t)};function VM(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?_t(e,t,n):s1(e)(e,t)}const EH=5;function HM(e,t,n){const r=Math.max(t-EH,0);return gM(n-e(r),t-r)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},z0=.001;function jH({duration:e=Ct.duration,bounce:t=Ct.bounce,velocity:n=Ct.velocity,mass:r=Ct.mass}){let i,s,l=1-t;l=ra(Ct.minDamping,Ct.maxDamping,l),e=ra(Ct.minDuration,Ct.maxDuration,Zi(e)),l<1?(i=h=>{const p=h*l,g=p*e,v=p-n,x=Qx(h,l),w=Math.exp(-g);return z0-v/x*w},s=h=>{const g=h*l*e,v=g*n+n,x=Math.pow(l,2)*Math.pow(h,2)*e,w=Math.exp(-g),_=Qx(Math.pow(h,2),l);return(-i(h)+z0>0?-1:1)*((v-x)*w)/_}):(i=h=>{const p=Math.exp(-h*e),g=(h-n)*e+1;return-z0+p*g},s=h=>{const p=Math.exp(-h*e),g=(n-h)*(e*e);return p*g});const u=5/e,d=NH(i,s,u);if(e=Qi(e),isNaN(d))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const CH=12;function NH(e,t,n){let r=n;for(let i=1;i<CH;i++)r=r-e(r)/t(r);return r}function Qx(e,t){return e*Math.sqrt(1-t*t)}const TH=["duration","bounce"],AH=["stiffness","damping","mass"];function iT(e,t){return t.some(n=>e[n]!==void 0)}function OH(e){let t={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...e};if(!iT(e,AH)&&iT(e,TH))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ra(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ct.mass,stiffness:i,damping:s}}else{const n=jH(e);t={...t,...n,mass:Ct.mass},t.isResolvedFromDuration=!0}return t}function $M(e=Ct.visualDuration,t=Ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:x}=OH({...n,velocity:-Zi(n.velocity||0)}),w=v||0,_=h/(2*Math.sqrt(d*p)),E=l-s,j=Zi(Math.sqrt(d/p)),A=Math.abs(E)<5;r||(r=A?Ct.restSpeed.granular:Ct.restSpeed.default),i||(i=A?Ct.restDelta.granular:Ct.restDelta.default);let N;if(_<1){const T=Qx(j,_);N=P=>{const I=Math.exp(-_*j*P);return l-I*((w+_*j*E)/T*Math.sin(T*P)+E*Math.cos(T*P))}}else if(_===1)N=T=>l-Math.exp(-j*T)*(E+(w+j*E)*T);else{const T=j*Math.sqrt(_*_-1);N=P=>{const I=Math.exp(-_*j*P),B=Math.min(T*P,300);return l-I*((w+_*j*E)*Math.sinh(B)+T*E*Math.cosh(B))/T}}const D={calculatedDuration:x&&g||null,next:T=>{const P=N(T);if(x)u.done=T>=g;else{let I=0;_<1&&(I=T===0?Qi(w):HM(N,T,P));const B=Math.abs(I)<=r,H=Math.abs(l-P)<=i;u.done=B&&H}return u.value=u.done?l:P,u},toString:()=>{const T=Math.min(lM(D),Hx),P=cM(I=>D.next(T*I).value,T,30);return T+"ms "+P}};return D}function aT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=e[0],v={done:!1,value:g},x=B=>u!==void 0&&B<u||d!==void 0&&B>d,w=B=>u===void 0?d:d===void 0||Math.abs(u-B)<Math.abs(d-B)?u:d;let _=n*t;const E=g+_,j=l===void 0?E:l(E);j!==E&&(_=j-g);const A=B=>-_*Math.exp(-B/r),N=B=>j+A(B),D=B=>{const H=A(B),Z=N(B);v.done=Math.abs(H)<=h,v.value=v.done?j:Z};let T,P;const I=B=>{x(v.value)&&(T=B,P=$M({keyframes:[v.value,w(v.value)],velocity:HM(N,B,v.value),damping:i,stiffness:s,restDelta:h,restSpeed:p}))};return I(0),{calculatedDuration:null,next:B=>{let H=!1;return!P&&T===void 0&&(H=!0,D(B),I(B)),T!==void 0&&B>=T?P.next(B-T):(!H&&D(B),v)}}}const kH=fd(.42,0,1,1),PH=fd(0,0,.58,1),qM=fd(.42,0,.58,1),DH=e=>Array.isArray(e)&&typeof e[0]!="number",MH={linear:xr,easeIn:kH,easeInOut:qM,easeOut:PH,circIn:t1,circInOut:jM,circOut:EM,backIn:e1,backInOut:SM,backOut:wM,anticipate:_M},sT=e=>{if(Ww(e)){VD(e.length===4);const[t,n,r,i]=e;return fd(t,n,r,i)}else if(typeof e=="string")return MH[e];return e};function RH(e,t,n){const r=[],i=n||VM,s=e.length-1;for(let l=0;l<s;l++){let u=i(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||xr:t;u=hd(d,u)}r.push(u)}return r}function IH(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(VD(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=RH(t,r,i),d=u.length,h=p=>{if(l&&p<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const v=Cl(e[g],e[g+1],p);return u[g](v)};return n?p=>h(ra(e[0],e[s-1],p)):h}function LH(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Cl(0,t,r);e.push(_t(n,1,i))}}function BH(e){const t=[0];return LH(t,e.length-1),t}function zH(e,t){return e.map(n=>n*t)}function UH(e,t){return e.map(()=>t||qM).splice(0,e.length-1)}function Hh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=DH(r)?r.map(sT):sT(r),s={done:!1,value:t[0]},l=zH(n&&n.length===t.length?n:BH(t),e),u=IH(l,t,{ease:Array.isArray(i)?i:UH(t,i)});return{calculatedDuration:e,next:d=>(s.value=u(d),s.done=d>=e,s)}}const FH=e=>{const t=({timestamp:n})=>e(n);return{start:()=>vt.update(t,!0),stop:()=>rs(t),now:()=>bn.isProcessing?bn.timestamp:pi.now()}},VH={decay:aT,inertia:aT,tween:Hh,keyframes:Hh,spring:$M},HH=e=>e/100;class o1 extends UM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,l=(i==null?void 0:i.KeyframeResolver)||a1,u=(d,h)=>this.onKeyframesResolved(d,h);this.resolver=new l(s,u,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=this.options,u=Kw(n)?n:VH[n]||Hh;let d,h;u!==Hh&&typeof t[0]!="number"&&(d=hd(HH,VM(t[0],t[1])),t=[0,100]);const p=u({...this.options,keyframes:t});s==="mirror"&&(h=u({...this.options,keyframes:[...t].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=lM(p));const{calculatedDuration:g}=p,v=g+i,x=v*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:d,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return s.next(0);const{delay:v,repeat:x,repeatType:w,repeatDelay:_,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const j=this.currentTime-v*(this.speed>=0?1:-1),A=this.speed>=0?j<0:j>p;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let N=this.currentTime,D=s;if(x){const B=Math.min(this.currentTime,p)/g;let H=Math.floor(B),Z=B%1;!Z&&B>=1&&(Z=1),Z===1&&H--,H=Math.min(H,x+1),!!(H%2)&&(w==="reverse"?(Z=1-Z,_&&(Z-=_/g)):w==="mirror"&&(D=l)),N=ra(0,1,Z)*g}const T=A?{done:!1,value:d[0]}:D.next(N);u&&(T.value=u(T.value));let{done:P}=T;!A&&h!==null&&(P=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&i!==void 0&&(T.value=op(d,this.options,i)),E&&E(T.value),I&&this.finish(),T}get duration(){const{resolved:t}=this;return t?Zi(t.calculatedDuration):0}get time(){return Zi(this.currentTime)}set time(t){t=Qi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=FH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const $H=new Set(["opacity","clipPath","filter","transform"]);function qH(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:u="easeInOut",times:d}={}){const h={[t]:n};d&&(h.offset=d);const p=dM(u,i);return Array.isArray(p)&&(h.easing=p),e.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}const GH=Dw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$h=10,YH=2e4;function KH(e){return Kw(e.type)||e.type==="spring"||!uM(e.ease)}function WH(e,t){const n=new o1({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<YH;)r=n.sample(s),i.push(r.value),s+=$h;return{times:void 0,keyframes:i,duration:s-$h,ease:"linear"}}const GM={anticipate:_M,backInOut:SM,circInOut:jM};function XH(e){return e in GM}class oT extends UM{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new zM(s,(l,u)=>this.onKeyframesResolved(l,u),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:l,motionValue:u,name:d,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof s=="string"&&Fh()&&XH(s)&&(s=GM[s]),KH(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:w,..._}=this.options,E=WH(t,_);t=E.keyframes,t.length===1&&(t[1]=t[0]),r=E.duration,i=E.times,s=E.ease,l="keyframes"}const p=qH(u.owner.current,d,t,{...this.options,duration:r,times:i,ease:s});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(qN(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;u.set(op(t,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Zi(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Zi(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return xr;const{animation:r}=n;qN(r,t)}return xr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:l,times:u}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...x}=this.options,w=new o1({...x,keyframes:r,duration:i,type:s,ease:l,times:u,isGenerator:!0}),_=Qi(this.time);h.setWithVelocity(w.sample(_-$h).value,w.sample(_).value,$h)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:l,type:u}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=n.owner.getProps();return GH()&&r&&$H.has(r)&&!d&&!h&&!i&&s!=="mirror"&&l!==0&&u!=="inertia"}}const QH={type:"spring",stiffness:500,damping:25,restSpeed:10},ZH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JH={type:"keyframes",duration:.8},e7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t7=(e,{keyframes:t})=>t.length>2?JH:po.has(e)?e.startsWith("scale")?ZH(t[1]):QH:e7;function n7({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const l1=(e,t,n,r={},i,s)=>l=>{const u=Yw(r,e)||{},d=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Qi(d);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-h,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:s?void 0:i};n7(u)||(p={...p,...t7(e,p)}),p.duration&&(p.duration=Qi(p.duration)),p.repeatDelay&&(p.repeatDelay=Qi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!s&&t.get()!==void 0){const v=op(p.keyframes,u);if(v!==void 0)return vt.update(()=>{p.onUpdate(v),p.onComplete()}),new wV([])}return!s&&oT.supports(p)?new oT(p):new o1(p)};function r7({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function YM(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:l=e.getDefaultTransition(),transitionEnd:u,...d}=t;r&&(l=r);const h=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const g in d){const v=e.getValue(g,(s=e.latestValues[g])!==null&&s!==void 0?s:null),x=d[g];if(x===void 0||p&&r7(p,g))continue;const w={delay:n,...Yw(l||{},g)};let _=!1;if(window.MotionHandoffAnimation){const j=vM(e);if(j){const A=window.MotionHandoffAnimation(j,g,vt);A!==null&&(w.startTime=A,_=!0)}}qx(e,g),v.start(l1(g,v,x,e.shouldReduceMotion&&pM.has(g)?{type:!1}:w,e,_));const E=v.animation;E&&h.push(E)}return u&&Promise.all(h).then(()=>{vt.update(()=>{u&&RV(e,u)})}),h}function Zx(e,t,n={}){var r;const i=sp(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const l=i?()=>Promise.all(YM(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=s;return i7(e,t,p+h,g,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function i7(e,t,n=0,r=0,i=1,s){const l=[],u=(e.variantChildren.size-1)*r,d=i===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(e.variantChildren).sort(a7).forEach((h,p)=>{h.notify("AnimationStart",t),l.push(Zx(h,t,{...s,delay:n+d(p)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function a7(e,t){return e.sortNodePosition(t)}function s7(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Zx(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Zx(e,t,n);else{const i=typeof t=="function"?sp(e,t,n.custom):t;r=Promise.all(YM(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const o7=Rw.length;function KM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?KM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<o7;n++){const r=Rw[n],i=e.props[r];(Ru(i)||i===!1)&&(t[r]=i)}return t}const l7=[...Mw].reverse(),c7=Mw.length;function u7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>s7(e,n,r)))}function d7(e){let t=u7(e),n=lT(),r=!0;const i=d=>(h,p)=>{var g;const v=sp(e,p,d==="exit"?(g=e.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:w,..._}=v;h={...h,..._,...w}}return h};function s(d){t=d(e)}function l(d){const{props:h}=e,p=KM(e.parent)||{},g=[],v=new Set;let x={},w=1/0;for(let E=0;E<c7;E++){const j=l7[E],A=n[j],N=h[j]!==void 0?h[j]:p[j],D=Ru(N),T=j===d?A.isActive:null;T===!1&&(w=E);let P=N===p[j]&&N!==h[j]&&D;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...x},!A.isActive&&T===null||!N&&!A.prevProp||ip(N)||typeof N=="boolean")continue;const I=f7(A.prevProp,N);let B=I||j===d&&A.isActive&&!P&&D||E>w&&D,H=!1;const Z=Array.isArray(N)?N:[N];let U=Z.reduce(i(j),{});T===!1&&(U={});const{prevResolvedValues:J={}}=A,oe={...J,...U},de=k=>{B=!0,v.has(k)&&(H=!0,v.delete(k)),A.needsAnimating[k]=!0;const Y=e.getValue(k);Y&&(Y.liveStyle=!1)};for(const k in oe){const Y=U[k],V=J[k];if(x.hasOwnProperty(k))continue;let se=!1;Vx(Y)&&Vx(V)?se=!oM(Y,V):se=Y!==V,se?Y!=null?de(k):v.add(k):Y!==void 0&&v.has(k)?de(k):A.protectedKeys[k]=!0}A.prevProp=N,A.prevResolvedValues=U,A.isActive&&(x={...x,...U}),r&&e.blockInitialAnimation&&(B=!1),B&&(!(P&&I)||H)&&g.push(...Z.map(k=>({animation:k,options:{type:j}})))}if(v.size){const E={};v.forEach(j=>{const A=e.getBaseTarget(j),N=e.getValue(j);N&&(N.liveStyle=!0),E[j]=A??null}),g.push({animation:E})}let _=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(g):Promise.resolve()}function u(d,h){var p;if(n[d].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(d,h)}),n[d].isActive=h;const g=l(d);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lT(),r=!0}}}function f7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oM(t,e):!1}function Rs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lT(){return{animate:Rs(!0),whileInView:Rs(),whileHover:Rs(),whileTap:Rs(),whileDrag:Rs(),whileFocus:Rs(),exit:Rs()}}class us{constructor(t){this.isMounted=!1,this.node=t}update(){}}class h7 extends us{constructor(t){super(t),t.animationState||(t.animationState=d7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ip(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let m7=0;class p7 extends us{constructor(){super(...arguments),this.id=m7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const g7={animation:{Feature:h7},exit:{Feature:p7}};function zu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function md(e){return{point:{x:e.pageX,y:e.pageY}}}const v7=e=>t=>Xw(t)&&e(t,md(t));function _u(e,t,n,r){return zu(e,t,v7(n),r)}const cT=(e,t)=>Math.abs(e-t);function y7(e,t){const n=cT(e.x,t.x),r=cT(e.y,t.y);return Math.sqrt(n**2+r**2)}class WM{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=F0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=y7(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:w}=g,{timestamp:_}=bn;this.history.push({...w,timestamp:_});const{onStart:E,onMove:j}=this.handlers;v||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=U0(v,this.transformPagePoint),vt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=F0(g.type==="pointercancel"?this.lastMoveEventInfo:U0(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),w&&w(g,E)},!Xw(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=md(t),u=U0(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=bn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,F0(u,this.history)),this.removeListeners=hd(_u(this.contextWindow,"pointermove",this.handlePointerMove),_u(this.contextWindow,"pointerup",this.handlePointerUp),_u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function U0(e,t){return t?{point:t(e.point)}:e}function uT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function F0({point:e},t){return{point:e,delta:uT(e,XM(t)),offset:uT(e,x7(t)),velocity:b7(t,.1)}}function x7(e){return e[0]}function XM(e){return e[e.length-1]}function b7(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=XM(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Qi(t)));)n--;if(!r)return{x:0,y:0};const s=Zi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const QM=1e-4,w7=1-QM,S7=1+QM,ZM=.01,_7=0-ZM,E7=0+ZM;function Sr(e){return e.max-e.min}function j7(e,t,n){return Math.abs(e-t)<=n}function dT(e,t,n,r=.5){e.origin=r,e.originPoint=_t(t.min,t.max,e.origin),e.scale=Sr(n)/Sr(t),e.translate=_t(n.min,n.max,e.origin)-e.originPoint,(e.scale>=w7&&e.scale<=S7||isNaN(e.scale))&&(e.scale=1),(e.translate>=_7&&e.translate<=E7||isNaN(e.translate))&&(e.translate=0)}function Eu(e,t,n,r){dT(e.x,t.x,n.x,r?r.originX:void 0),dT(e.y,t.y,n.y,r?r.originY:void 0)}function fT(e,t,n){e.min=n.min+t.min,e.max=e.min+Sr(t)}function C7(e,t,n){fT(e.x,t.x,n.x),fT(e.y,t.y,n.y)}function hT(e,t,n){e.min=t.min-n.min,e.max=e.min+Sr(t)}function ju(e,t,n){hT(e.x,t.x,n.x),hT(e.y,t.y,n.y)}function N7(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?_t(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?_t(n,e,r.max):Math.min(e,n)),e}function mT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function T7(e,{top:t,left:n,bottom:r,right:i}){return{x:mT(e.x,n,i),y:mT(e.y,t,r)}}function pT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function A7(e,t){return{x:pT(e.x,t.x),y:pT(e.y,t.y)}}function O7(e,t){let n=.5;const r=Sr(e),i=Sr(t);return i>r?n=Cl(t.min,t.max-r,e.min):r>i&&(n=Cl(e.min,e.max-i,t.min)),ra(0,1,n)}function k7(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jx=.35;function P7(e=Jx){return e===!1?e=0:e===!0&&(e=Jx),{x:gT(e,"left","right"),y:gT(e,"top","bottom")}}function gT(e,t,n){return{min:vT(e,t),max:vT(e,n)}}function vT(e,t){return typeof e=="number"?e:e[t]||0}const yT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:yT(),y:yT()}),xT=()=>({min:0,max:0}),kt=()=>({x:xT(),y:xT()});function Br(e){return[e("x"),e("y")]}function JM({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function D7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function M7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function V0(e){return e===void 0||e===1}function eb({scale:e,scaleX:t,scaleY:n}){return!V0(e)||!V0(t)||!V0(n)}function Is(e){return eb(e)||eR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eR(e){return bT(e.x)||bT(e.y)}function bT(e){return e&&e!=="0%"}function qh(e,t,n){const r=e-n,i=t*r;return n+i}function wT(e,t,n,r,i){return i!==void 0&&(e=qh(e,i,r)),qh(e,n,r)+t}function tb(e,t=0,n=1,r,i){e.min=wT(e.min,t,n,r,i),e.max=wT(e.max,t,n,r,i)}function tR(e,{x:t,y:n}){tb(e.x,t.translate,t.scale,t.originPoint),tb(e.y,n.translate,n.scale,n.originPoint)}const ST=.999999999999,_T=1.0000000000001;function R7(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,l;for(let u=0;u<i;u++){s=n[u],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,tR(e,l)),r&&Is(s.latestValues)&&gl(e,s.latestValues))}t.x<_T&&t.x>ST&&(t.x=1),t.y<_T&&t.y>ST&&(t.y=1)}function pl(e,t){e.min=e.min+t,e.max=e.max+t}function ET(e,t,n,r,i=.5){const s=_t(e.min,e.max,i);tb(e,t,n,s,r)}function gl(e,t){ET(e.x,t.x,t.scaleX,t.scale,t.originX),ET(e.y,t.y,t.scaleY,t.scale,t.originY)}function nR(e,t){return JM(M7(e.getBoundingClientRect(),t))}function I7(e,t,n){const r=nR(e,n),{scroll:i}=t;return i&&(pl(r.x,i.offset.x),pl(r.y,i.offset.y)),r}const rR=({current:e})=>e?e.ownerDocument.defaultView:null,L7=new WeakMap;class B7{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(md(p).point)},s=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:w}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OV(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(E=>{let j=this.getAxisMotionValue(E).get()||0;if(mi.test(j)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[E];N&&(j=Sr(N)*(parseFloat(j)/100))}}this.originPoint[E]=j}),w&&vt.postRender(()=>w(p,g)),qx(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:w,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=z7(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),_&&_(p,g)},u=(p,g)=>this.stop(p,g),d=()=>Br(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new WM(t,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:rR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&vt.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!lh(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=N7(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&fl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=T7(i.layoutBox,n):this.constraints=!1,this.elastic=P7(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Br(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k7(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!fl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=I7(r,i.root,this.visualElement.getTransformPagePoint());let l=A7(i.layout.layoutBox,s);if(n){const u=n(D7(l));this.hasMutatedConstraints=!!u,u&&(l=JM(u))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Br(p=>{if(!lh(p,n,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:r?t[p]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(h).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return qx(this.visualElement,t),r.start(l1(t,r,0,n,this.visualElement,!1))}stopAnimation(){Br(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Br(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Br(n=>{const{drag:r}=this.getProps();if(!lh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];s.set(t[n]-_t(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Br(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=O7({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Br(l=>{if(!lh(l,t,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(_t(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;L7.set(this.visualElement,this);const t=this.visualElement.current,n=_u(t,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();fl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vt.read(r);const l=zu(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Br(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=Jx,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function lh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function z7(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class U7 extends us{constructor(t){super(t),this.removeGroupControls=xr,this.removeListeners=xr,this.controls=new B7(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const jT=e=>(t,n)=>{e&&vt.postRender(()=>e(t,n))};class F7 extends us{constructor(){super(...arguments),this.removePointerDownListener=xr}onPointerDown(t){this.session=new WM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:jT(t),onStart:jT(n),onMove:r,onEnd:(s,l)=>{delete this.session,i&&vt.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=_u(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=CT(e,t.target.x),r=CT(e,t.target.y);return`${n}% ${r}%`}},V7={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=is.parse(e);if(i.length>5)return r;const s=is.createTransformer(e),l=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;i[0+l]/=u,i[1+l]/=d;const h=_t(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}};class H7 extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;cV($7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,l=r.projection;return l&&(l.isPresent=s,i||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||vt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iR(e){const[t,n]=UD(),r=S.useContext(Aw);return f.jsx(H7,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(KD),isPresent:t,safeToRemove:n})}const $7={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:V7};function q7(e,t,n){const r=An(e)?e:Lu(e);return r.start(l1("",r,t,n)),r.animation}function G7(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Y7=(e,t)=>e.depth-t.depth;class K7{constructor(){this.children=[],this.isDirty=!1}add(t){Qw(this.children,t),this.isDirty=!0}remove(t){Zw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Y7),this.isDirty=!1,this.children.forEach(t)}}function W7(e,t){const n=pi.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(rs(r),e(s-t))};return vt.read(r,!0),()=>rs(r)}const aR=["TopLeft","TopRight","BottomLeft","BottomRight"],X7=aR.length,NT=e=>typeof e=="string"?parseFloat(e):e,TT=e=>typeof e=="number"||Ce.test(e);function Q7(e,t,n,r,i,s){i?(e.opacity=_t(0,n.opacity!==void 0?n.opacity:1,Z7(r)),e.opacityExit=_t(t.opacity!==void 0?t.opacity:1,0,J7(r))):s&&(e.opacity=_t(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<X7;l++){const u=`border${aR[l]}Radius`;let d=AT(t,u),h=AT(n,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||TT(d)===TT(h)?(e[u]=Math.max(_t(NT(d),NT(h),r),0),(mi.test(h)||mi.test(d))&&(e[u]+="%")):e[u]=h}(t.rotate||n.rotate)&&(e.rotate=_t(t.rotate||0,n.rotate||0,r))}function AT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Z7=sR(0,.5,EM),J7=sR(.5,.95,xr);function sR(e,t,n){return r=>r<e?0:r>t?1:n(Cl(e,t,r))}function OT(e,t){e.min=t.min,e.max=t.max}function Mr(e,t){OT(e.x,t.x),OT(e.y,t.y)}function kT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function PT(e,t,n,r,i){return e-=t,e=qh(e,1/n,r),i!==void 0&&(e=qh(e,1/i,r)),e}function e$(e,t=0,n=1,r=.5,i,s=e,l=e){if(mi.test(t)&&(t=parseFloat(t),t=_t(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=_t(s.min,s.max,r);e===s&&(u-=t),e.min=PT(e.min,t,n,u,i),e.max=PT(e.max,t,n,u,i)}function DT(e,t,[n,r,i],s,l){e$(e,t[n],t[r],t[i],t.scale,s,l)}const t$=["x","scaleX","originX"],n$=["y","scaleY","originY"];function MT(e,t,n,r){DT(e.x,t,t$,n?n.x:void 0,r?r.x:void 0),DT(e.y,t,n$,n?n.y:void 0,r?r.y:void 0)}function RT(e){return e.translate===0&&e.scale===1}function oR(e){return RT(e.x)&&RT(e.y)}function IT(e,t){return e.min===t.min&&e.max===t.max}function r$(e,t){return IT(e.x,t.x)&&IT(e.y,t.y)}function LT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lR(e,t){return LT(e.x,t.x)&&LT(e.y,t.y)}function BT(e){return Sr(e.x)/Sr(e.y)}function zT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class i${constructor(){this.members=[]}add(t){Qw(this.members,t),t.scheduleRender()}remove(t){if(Zw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a$(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:x,skewY:w}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,d=e.y.scale*t.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},yu=typeof window<"u"&&window.MotionDebug!==void 0,H0=["","X","Y","Z"],s$={visibility:"hidden"},UT=1e3;let o$=0;function $0(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cR(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",vt,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cR(r)}function uR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=t==null?void 0:t()){this.id=o$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yu&&(Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0),this.nodes.forEach(u$),this.nodes.forEach(p$),this.nodes.forEach(g$),this.nodes.forEach(d$),yu&&window.MotionDebug.record(Ls)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new K7)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Jw),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=G7(l),this.instance=l;const{layoutId:d,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||d)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=W7(v,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(VT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||w$,{onLayoutAnimationStart:E,onLayoutAnimationComplete:j}=p.getProps(),A=!this.targetLayout||!lR(this.targetLayout,w)||x,N=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,N);const D={...Yw(_,"layout"),onPlay:E,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else v||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v$),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FT);return}this.isUpdating||this.nodes.forEach(h$),this.isUpdating=!1,this.nodes.forEach(m$),this.nodes.forEach(l$),this.nodes.forEach(c$),this.clearAllSnapshots();const u=pi.now();bn.delta=ra(0,1e3/60,u-bn.timestamp),bn.timestamp=u,bn.isProcessing=!0,M0.update.process(bn),M0.preRender.process(bn),M0.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f$),this.sharedNodes.forEach(y$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!oR(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(u||Is(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),S$(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return kt();const d=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(_$))){const{scroll:p}=this.root;p&&(pl(d.x,p.offset.x),pl(d.y,p.offset.y))}return d}removeElementScroll(l){var u;const d=kt();if(Mr(d,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Mr(d,l),pl(d.x,g.offset.x),pl(d.y,g.offset.y))}return d}applyTransform(l,u=!1){const d=kt();Mr(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&gl(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Is(p.latestValues)&&gl(d,p.latestValues)}return Is(this.latestValues)&&gl(d,this.latestValues),d}removeTransform(l){const u=kt();Mr(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Is(h.latestValues))continue;eb(h.latestValues)&&h.updateSnapshot();const p=kt(),g=h.measurePageBox();Mr(p,g),MT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Is(this.latestValues)&&MT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ju(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),tR(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),ju(this.relativeTargetOrigin,this.target,x.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yu&&Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eb(this.parent.latestValues)||eR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Mr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;R7(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=kt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),Eu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!zT(this.projectionDelta.x,this.prevProjectionDelta.x)||!zT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),yu&&Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=kt(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,_=x!==w,E=this.getStack(),j=!E||E.members.length<=1,A=!!(_&&!j&&this.options.crossfade===!0&&!this.path.some(b$));this.animationProgress=0;let N;this.mixTargetDelta=D=>{const T=D/1e3;HT(g.x,l.x,T),HT(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x$(this.relativeTarget,this.relativeTargetOrigin,v,T),N&&r$(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=kt()),Mr(N,this.relativeTarget)),_&&(this.animationValues=p,Q7(p,h,this.latestValues,T,A,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vt.update(()=>{Ah.hasAnimatedSinceResize=!0,this.currentAnimation=q7(0,UT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&dR(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||kt();const g=Sr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const v=Sr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+v}Mr(u,d),gl(u,p),Eu(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new i$),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&$0("z",l,h,this.animationValues);for(let p=0;p<H0.length;p++)$0(`rotate${H0[p]}`,l,h,this.animationValues),$0(`skew${H0[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return s$;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Nh(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Nh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(_.transform=p?p({},""):"none",this.hasProjected=!1),_}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=a$(this.projectionDeltaWithTransform,this.treeScale,v),p&&(h.transform=p(v,h.transform));const{x,y:w}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,g.animationValues?h.opacity=g===this?(d=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const _ in Uh){if(v[_]===void 0)continue;const{correct:E,applyTo:j}=Uh[_],A=h.transform==="none"?v[_]:E(v[_],g);if(j){const N=j.length;for(let D=0;D<N;D++)h[j[D]]=A}else h[_]=A}return this.options.layoutId&&(h.pointerEvents=g===this?Nh(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(FT),this.root.sharedNodes.clear()}}}function l$(e){e.updateLayout()}function c$(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,l=n.source!==e.layout.source;s==="size"?Br(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=Sr(v);v.min=r[g].min,v.max=v.min+x}):dR(s,n.layoutBox,r)&&Br(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=Sr(r[g]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+x)});const u=ml();Eu(u,r,n.layoutBox);const d=ml();l?Eu(d,e.applyTransform(i,!0),n.measuredBox):Eu(d,r,n.layoutBox);const h=!oR(u);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const w=kt();ju(w,n.layoutBox,v.layoutBox);const _=kt();ju(_,r,x.layoutBox),lR(w,_)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function u$(e){yu&&Ls.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function d$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function f$(e){e.clearSnapshot()}function FT(e){e.clearMeasurements()}function h$(e){e.isLayoutDirty=!1}function m$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p$(e){e.resolveTargetDelta()}function g$(e){e.calcProjection()}function v$(e){e.resetSkewAndRotation()}function y$(e){e.removeLeadSnapshot()}function HT(e,t,n){e.translate=_t(t.translate,0,n),e.scale=_t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $T(e,t,n,r){e.min=_t(t.min,n.min,r),e.max=_t(t.max,n.max,r)}function x$(e,t,n,r){$T(e.x,t.x,n.x,r),$T(e.y,t.y,n.y,r)}function b$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const w$={duration:.45,ease:[.4,0,.1,1]},qT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),GT=qT("applewebkit/")&&!qT("chrome/")?Math.round:xr;function YT(e){e.min=GT(e.min),e.max=GT(e.max)}function S$(e){YT(e.x),YT(e.y)}function dR(e,t,n){return e==="position"||e==="preserve-aspect"&&!j7(BT(t),BT(n),.2)}function _$(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const E$=uR({attachResizeListener:(e,t)=>zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q0={current:void 0},fR=uR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!q0.current){const e=new E$({});e.mount(window),e.setOptions({layoutScroll:!0}),q0.current=e}return q0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j$={pan:{Feature:F7},drag:{Feature:U7,ProjectionNode:fR,MeasureLayout:iR}};function KT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&vt.postRender(()=>s(t,md(t)))}class C$ extends us{mount(){const{current:t}=this.node;t&&(this.unmount=jV(t,n=>(KT(this.node,n,"Start"),r=>KT(this.node,r,"End"))))}unmount(){}}class N$ extends us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hd(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WT(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&vt.postRender(()=>s(t,md(t)))}class T$ extends us{mount(){const{current:t}=this.node;t&&(this.unmount=AV(t,n=>(WT(this.node,n,"Start"),(r,{success:i})=>WT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nb=new WeakMap,G0=new WeakMap,A$=e=>{const t=nb.get(e.target);t&&t(e)},O$=e=>{e.forEach(A$)};function k$({root:e,...t}){const n=e||document;G0.has(n)||G0.set(n,{});const r=G0.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(O$,{root:e,...t})),r[i]}function P$(e,t,n){const r=k$(t);return nb.set(e,n),r.observe(e),()=>{nb.delete(e),r.unobserve(e)}}const D$={some:0,all:1};class M$ extends us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:D$[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(d)};return P$(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(R$(t,n))&&this.startObserver()}unmount(){}}function R$({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const I$={inView:{Feature:M$},tap:{Feature:T$},focus:{Feature:N$},hover:{Feature:C$}},L$={layout:{ProjectionNode:fR,MeasureLayout:iR}},rb={current:null},hR={current:!1};function B$(){if(hR.current=!0,!!Pw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rb.current=e.matches;e.addListener(t),t()}else rb.current=!1}const z$=[...BM,jn,is],U$=e=>z$.find(LM(e)),XT=new WeakMap;function F$(e,t,n){for(const r in t){const i=t[r],s=n[r];if(An(i))e.addValue(r,i);else if(An(s))e.addValue(r,Lu(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,Lu(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const QT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class V${scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=pi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,vt.render(this.render,!1,!0))};const{latestValues:d,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=ap(n),this.isVariantNode=GD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const w=v[x];d[x]!==void 0&&An(w)&&w.set(d[x],!1)}}mount(t){this.current=t,XT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hR.current||B$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){XT.delete(this.current),this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=po.has(t),i=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nl){const n=Nl[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<QT.length;r++){const i=QT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=t[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=F$(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lu(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(RM(i)||CM(i))?i=parseFloat(i):!U$(i)&&is.test(n)&&(i=PM(t,n)),this.setBaseTarget(t,An(i)?i.get():i)),An(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=zw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!An(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Jw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class mR extends V${constructor(){super(...arguments),this.KeyframeResolver=zM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function H$(e){return window.getComputedStyle(e)}class $$ extends mR{constructor(){super(...arguments),this.type="html",this.renderInstance=tM}readValueFromInstance(t,n){if(po.has(n)){const r=i1(n);return r&&r.default||0}else{const r=H$(t),i=(ZD(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nR(t,n)}build(t,n,r){Vw(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gw(t,n,r)}}class q$ extends mR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(po.has(n)){const r=i1(n);return r&&r.default||0}return n=nM.has(n)?n:Iw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return aM(t,n,r)}build(t,n,r){Hw(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){rM(t,n,r,i)}mount(t){this.isSVGTag=qw(t.tagName),super.mount(t)}}const G$=(e,t)=>Bw(e)?new q$(t):new $$(t,{allowProjection:e!==S.Fragment}),Y$=yV({...g7,...I$,...j$,...L$},G$),ii=DF(Y$),pR=({isOpen:e,onClose:t,children:n})=>(S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t()};return e&&(document.body.style.overflow="hidden",window.addEventListener("keydown",r)),()=>{document.body.style.overflow="auto",window.removeEventListener("keydown",r)}},[e,t]),f.jsx(np,{children:e&&f.jsx(ii.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsx(ii.div,{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-5xl flex flex-col max-h-[calc(100vh-2rem)]",onClick:r=>r.stopPropagation(),initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:n})})})),gR=S.createContext(void 0),K$=({children:e})=>{const[t,n]=S.useState(!1),[r,i]=S.useState(null),s=S.useCallback(u=>{i(u),n(!0)},[]),l=S.useCallback(()=>{n(!1)},[]);return f.jsxs(gR.Provider,{value:{openModal:s,closeModal:l},children:[e,f.jsx(pR,{isOpen:t,onClose:l,children:r})]})},Y0=({children:e,roles:t})=>{const{user:n,loading:r}=Gt(),i=$r();return r?null:n?t&&!t.includes(n.role)?f.jsx(Rh,{to:"/dashboard",replace:!0}):e:f.jsx(Rh,{to:"/login",state:{from:i},replace:!0})},Te=({children:e,className:t="",onClick:n,disableLayoutAnimation:r=!1})=>f.jsx(ii.div,{layout:!r,whileHover:{y:-2},transition:{type:"spring",stiffness:300,damping:20},className:`bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark overflow-hidden transition-shadow duration-300 hover:shadow-lg dark:hover:shadow-indigo-500/20 ${t}`,onClick:n,children:e}),St=({label:e,id:t,...n})=>f.jsxs("div",{children:[f.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:e}),f.jsx("input",{id:t,className:"w-full px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none disabled:bg-slate-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed",...n})]}),me=({children:e,variant:t="primary",className:n="",...r})=>{const i="px-4 py-2 rounded-2xl font-semibold text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",s={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100 hover:bg-slate-300 dark:hover:bg-slate-600 focus:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"};return f.jsx(ii.button,{whileHover:{scale:1.03},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:`${i} ${s[t]} ${n}`,...r,children:e})},W$=()=>{var x,w;const[e,t]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[l,u]=S.useState(!1),d=qr(),h=$r(),{login:p}=Gt(),g=((w=(x=h.state)==null?void 0:x.from)==null?void 0:w.pathname)||"/",v=async _=>{_.preventDefault(),u(!0),s("");try{await p(e,n),d(g,{replace:!0})}catch(E){E.message==="User not found"?(s("Account not found. Redirecting to sign up..."),setTimeout(()=>{d("/signup")},1500)):s(E.message||"Failed to log in.")}finally{u(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100 dark:bg-slate-900 p-4",children:f.jsxs("div",{className:"w-full max-w-md",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-6",children:"SIMS Login"}),f.jsx(Te,{children:f.jsxs("div",{className:"p-8",children:[f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsx(St,{id:"email",label:"Email",type:"email",value:e,onChange:_=>t(_.target.value),required:!0}),f.jsx(St,{id:"password",label:"Password",type:"password",value:n,onChange:_=>r(_.target.value),required:!0}),i&&f.jsx("p",{className:"text-sm text-red-500 font-semibold",children:i}),f.jsx(me,{type:"submit",className:"w-full",disabled:l,children:l?"Logging in...":"Log In"})]}),f.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400 mt-6",children:["Don't have an account? ",f.jsx("span",{onClick:()=>d("/signup"),className:"text-indigo-600 hover:underline cursor-pointer",children:"Sign Up"})]})]})})]})})},X$=()=>{const[e,t]=S.useState({firstName:"",middleName:"",lastName:"",studentId:"",email:"",password:"",confirmPassword:"",yearLevel:"",section:"",contactInfo:"",teamId:"",bio:"",interestedEvents:[],avatar:""}),[n,r]=S.useState(""),[i,s]=S.useState(!1),[l,u]=S.useState([]),[d,h]=S.useState([]),p=qr(),{register:g}=Gt(),v=S.useRef(null);S.useEffect(()=>{(async()=>{try{const[A,N]=await Promise.all([ji(),ha()]);u(A.filter(D=>D.name!=="Amaranth Jokers")),h(N)}catch(A){console.error("Failed to fetch form data",A)}})()},[]),S.useEffect(()=>{const j=e.email.trim();if(j&&/\S+@\S+\.\S+/.test(j)){const A=`https://robohash.org/${j}.png`;t(N=>({...N,avatar:A}))}},[e.email]);const x=j=>{t({...e,[j.target.name]:j.target.value})},w=j=>{var N;const A=(N=j.target.files)==null?void 0:N[0];if(A){const D=new FileReader;D.onloadend=()=>{t(T=>({...T,avatar:D.result}))},D.readAsDataURL(A)}},_=async j=>{if(j.preventDefault(),e.password!==e.confirmPassword){r("Passwords do not match");return}s(!0),r("");try{const{confirmPassword:A,...N}=e;await g(N),p("/dashboard")}catch(A){r(A.message||"Failed to create account.")}finally{s(!1)}},E="w-full px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none";return f.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-4xl my-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-center text-indigo-600 dark:text-indigo-400 mb-6",children:"Create SIMS Account"}),f.jsx(Te,{className:"p-8",children:f.jsxs("form",{onSubmit:_,className:"space-y-6",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-start p-4 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[f.jsxs("div",{className:"md:col-span-1 text-center",children:[f.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[f.jsx("img",{src:e.avatar||"https://i.pravatar.cc/150?u=guest",alt:"Avatar Preview",className:"w-32 h-32 rounded-full object-cover shadow-md"}),f.jsx("input",{type:"file",ref:v,onChange:w,accept:"image/*",className:"hidden"}),f.jsx(me,{type:"button",variant:"secondary",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},className:"absolute bottom-0 right-0 !rounded-full w-10 h-10 p-0 flex items-center justify-center shadow-lg",children:f.jsx("i",{className:"bi bi-camera-fill"})})]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"We'll try to fetch a public avatar from your email. You can also upload your own."})]}),f.jsxs("div",{className:"md:col-span-2 space-y-4",children:[f.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[f.jsx(St,{label:"First Name *",id:"firstName",name:"firstName",value:e.firstName,onChange:x,required:!0}),f.jsx(St,{label:"Last Name *",id:"lastName",name:"lastName",value:e.lastName,onChange:x,required:!0})]}),f.jsx(St,{label:"Student ID *",id:"studentId",name:"studentId",value:e.studentId,onChange:x,required:!0}),f.jsx("div",{children:f.jsx(St,{label:"Email Address *",id:"email",name:"email",type:"email",value:e.email,onChange:x,required:!0})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(St,{label:"Password *",id:"password",name:"password",type:"password",value:e.password,onChange:x,required:!0}),f.jsx(St,{label:"Confirm Password *",id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:x,required:!0})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Year Level *"}),f.jsxs("select",{name:"yearLevel",value:e.yearLevel,onChange:x,className:E,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Section *"}),f.jsxs("select",{name:"section",value:e.section,onChange:x,className:E,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"International",children:"International"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Team (Optional)"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:"If you select a team, a request to join will be sent to the team leader for approval."}),f.jsxs("select",{name:"teamId",value:e.teamId,onChange:x,className:E,children:[f.jsx("option",{value:"",children:"None"}),l.map(j=>f.jsx("option",{value:j.id,children:j.name},j.id))]})]}),n&&f.jsx("p",{className:"text-sm text-red-500 text-center font-semibold",children:n}),f.jsxs("div",{className:"flex flex-col gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{type:"submit",className:"w-full py-3",disabled:i,children:i?"Creating account...":"Register Account"}),f.jsxs("p",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account? ",f.jsx("span",{onClick:()=>p("/login"),className:"text-indigo-600 hover:underline cursor-pointer",children:"Log In"})]})]})]})})]})})},ZT={t1:{gradient:{from:"#4b5563",to:"#111827",glow:"rgba(55, 65, 81, 0.6)"},color:"slate-800",icon:"bi bi-suit-spade-fill"},t2:{gradient:{from:"#f43f5e",to:"#ef4444",glow:"rgba(239, 68, 68, 0.6)"},color:"red-500",icon:"bi bi-suit-heart-fill"},t3:{gradient:{from:"#22c55e",to:"#10b981",glow:"rgba(34, 197, 94, 0.6)"},color:"green-500",icon:"bi bi-suit-club-fill"},t4:{gradient:{from:"#3b82f6",to:"#0ea5e9",glow:"rgba(59, 130, 246, 0.6)"},color:"blue-500",icon:"bi bi-suit-diamond-fill"},t5:{gradient:{from:"#ec4899",to:"#a855f7",glow:"rgba(217, 70, 239, 0.6)"},color:"purple-500",icon:"bi bi-incognito"}},Qn=e=>e&&ZT[e]?ZT[e]:{gradient:{from:"#6b7280",to:"#4b5563",glow:"rgba(107, 114, 128, 0.6)"},color:"gray-500",icon:"bi bi-question-circle-fill"},Q$=({teams:e})=>{const[t,n]=S.useState("rgba(79, 70, 229, 0.7)"),r=["rgba(79, 70, 229, 0.7)","rgba(239, 68, 68, 0.7)","rgba(34, 197, 94, 0.7)","rgba(14, 165, 233, 0.7)"];if(S.useEffect(()=>{let d=0;const h=setInterval(()=>{d=(d+1)%r.length,n(r[d])},1e4);return()=>clearInterval(h)},[]),!e||e.length===0)return f.jsx("p",{className:"text-center text-slate-500",children:"No team data available."});const i=Math.max(...e.map(d=>d.score),0),s=i>0?Math.ceil(i*1.15/100)*100:1e3,l=d=>s===0||!d?"0%":`${d/s*100}%`,u=[100,75,50,25,0].map(d=>({percent:d,value:Math.round(s*(d/100))}));return f.jsxs("div",{className:"w-full h-96 flex gap-4 text-sm font-sans p-4 rounded-2xl bg-gradient-to-b from-white to-slate-100 dark:bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] dark:from-indigo-950/50 dark:to-slate-900",children:[f.jsx("div",{className:"h-[calc(100%-2.5rem)] flex flex-col justify-between text-xs text-slate-400 dark:text-slate-500 text-right pr-2",children:u.map(d=>f.jsx("span",{children:d.value},d.percent))}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 h-[calc(100%-2.5rem)] z-0 text-slate-200/60 dark:text-white/20",children:u.map(d=>{const h=d.percent===0;return f.jsx("div",{className:`absolute w-full border-t ${h?"border-b-2":"border-dashed"} transition-all duration-1000`,style:{bottom:`${d.percent}%`,borderColor:h?t:"currentColor",boxShadow:h?`0 0 15px 1px ${t}`:"none"}},d.percent)})}),f.jsx("div",{className:"h-full grid grid-cols-4 gap-x-4 md:gap-x-6 z-10",children:e.slice(0,4).map(d=>{var E,j;const h=Qn(d.id),p=d.score||0,g=((E=d.scoreHistory)==null?void 0:E[1])||0,v=((j=d.scoreHistory)==null?void 0:j[0])||0,x=l(p),w=l(g),_=l(v);return f.jsxs("div",{className:"relative flex flex-col items-center justify-end h-full",children:[f.jsxs("div",{className:"relative w-full h-[calc(100%-2.5rem)]",children:[f.jsx("div",{className:"absolute z-20 w-full flex justify-center transition-all duration-1000 ease-out",style:{bottom:`calc(${x} + 4px)`},children:f.jsx("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm rounded-lg px-2 py-0.5 shadow-lg text-center",children:f.jsx("div",{className:"text-slate-800 dark:text-slate-100 text-xs font-bold",children:p})})}),f.jsx("div",{className:"absolute bottom-0 right-[15%] w-1/4 rounded-t-md",style:{height:_,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,opacity:.4,transition:"height 1s ease-out 0.2s"}}),f.jsx("div",{className:"absolute bottom-0 left-[15%] w-1/4 rounded-t-md",style:{height:w,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,opacity:.6,transition:"height 1s ease-out 0.1s"}}),f.jsx("div",{className:"absolute bottom-0 w-1/3 left-1/2 -translate-x-1/2 rounded-t-lg",style:{height:x,background:`linear-gradient(to top, ${h.gradient.from}, ${h.gradient.to})`,boxShadow:`0 0 20px -5px ${h.gradient.glow}`,transition:"height 1s ease-out"}})]}),f.jsx("span",{className:"mt-3 text-center font-semibold text-slate-600 dark:text-slate-300 truncate w-full text-xs sm:text-sm",children:d.name})]},d.id)})})]})]})},$l=()=>{const e=S.useContext(zD);if(e===void 0)throw new Error("useEventContext must be used within an EventProvider");return e},Z$={initial:{opacity:0,y:15},in:{opacity:1,y:0},out:{opacity:0,y:-15}},J$={type:"tween",ease:"anticipate",duration:.5},vi=({children:e,className:t})=>f.jsx(ii.div,{initial:"initial",animate:"in",exit:"out",variants:Z$,transition:J$,className:t,children:e}),pd=()=>{const{selectedEvent:e,setSelectedEvent:t}=$l();return f.jsx(Te,{className:"p-8 text-center mt-6",children:f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("i",{className:"bi bi-info-circle-fill text-4xl text-slate-400 dark:text-slate-500 mb-4"}),f.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:"No Data Available"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-6",children:['Information for "',e,'" has not been registered yet. Please select "i3 Day | Clash of Cards" to view current event data.']}),f.jsx(me,{onClick:()=>t(Bh),children:"Switch to i3 Day Event"})]})})},at=({className:e=""})=>f.jsx("div",{className:`bg-slate-200 dark:bg-slate-700/80 rounded-md animate-pulse-fast ${e}`}),dl=()=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark p-5 space-y-3",children:[f.jsx(at,{className:"h-4 w-1/3"}),f.jsx(at,{className:"h-6 w-1/2"}),f.jsx(at,{className:"h-4 w-1/4"})]}),e9=({count:e=3,className:t})=>f.jsx("div",{className:`space-y-4 ${t}`,children:Array.from({length:e}).map((n,r)=>f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-soft dark:shadow-soft-dark p-4 flex gap-4 items-center",children:[f.jsx(at,{className:"h-12 w-12 rounded-full flex-shrink-0"}),f.jsxs("div",{className:"flex-grow space-y-2",children:[f.jsx(at,{className:"h-5 w-3/4"}),f.jsx(at,{className:"h-4 w-1/2"})]})]},r))}),go=e=>{const{user:t}=Gt(),n=S.useRef(!1);S.useEffect(()=>{t&&!n.current&&(ep(t.id,`viewed the ${e} page`),n.current=!0)},[t,e])};function vR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vR(e))&&(r&&(r+=" "),r+=t);return r}var t9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function c1(e){if(typeof e!="string")return!1;var t=t9;return t.includes(e)}var n9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function yR(e){if(typeof e!="string")return!1;var t=n9;return t.includes(e)}function xR(e){return typeof e=="string"&&e.startsWith("data-")}function yi(e){var t=Object.entries(e).filter(n=>{var[r]=n;return yR(r)||xR(r)});return Object.fromEntries(t)}function lp(e){if(e==null)return null;if(S.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return yi(t)}return typeof e=="object"&&!Array.isArray(e)?yi(e):null}function Ln(e){var t=Object.entries(e).filter(n=>{var[r]=n;return yR(r)||xR(r)||c1(r)});return Object.fromEntries(t)}function r9(e){return e==null?null:S.isValidElement(e)?Ln(e.props):typeof e=="object"&&!Array.isArray(e)?Ln(e):null}var i9=["children","width","height","viewBox","className","style","title","desc"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function a9(e,t){if(e==null)return{};var n,r,i=s9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bR=S.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:h}=e,p=a9(e,i9),g=s||{width:r,height:i,x:0,y:0},v=ot("recharts-surface",l);return S.createElement("svg",ib({},Ln(p),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),S.createElement("title",null,d),S.createElement("desc",null,h),n)}),o9=["children","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function l9(e,t){if(e==null)return{};var n,r,i=c9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var as=S.forwardRef((e,t)=>{var{children:n,className:r}=e,i=l9(e,o9),s=ot("recharts-layer",r);return S.createElement("g",ab({className:s},Ln(i),{ref:t}),n)}),u9=S.createContext(null);function ut(e){return function(){return e}}const wR=Math.cos,Gh=Math.sin,si=Math.sqrt,Yh=Math.PI,cp=2*Yh,sb=Math.PI,ob=2*sb,Bs=1e-6,d9=ob-Bs;function SR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function f9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SR;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let h9=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SR:f9(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-t,h=i-n,p=l-t,g=u-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Bs)if(!(Math.abs(g*d-h*p)>Bs)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,w=i-u,_=d*d+h*h,E=x*x+w*w,j=Math.sqrt(_),A=Math.sqrt(v),N=s*Math.tan((sb-Math.acos((_+v-E)/(2*j*A)))/2),D=N/A,T=N/j;Math.abs(D-1)>Bs&&this._append`L${t+D*p},${n+D*g}`,this._append`A${s},${s},0,0,${+(g*x>p*w)},${this._x1=t+T*d},${this._y1=n+T*h}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),h=t+u,p=n+d,g=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Bs||Math.abs(this._y1-p)>Bs)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%ob+ob),v>d9?this._append`A${r},${r},0,1,${g},${t-u},${n-d}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:v>Bs&&this._append`A${r},${r},0,${+(v>=sb)},${g},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function u1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new h9(t)}function d1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _R(e){this._context=e}_R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function up(e){return new _R(e)}function ER(e){return e[0]}function jR(e){return e[1]}function CR(e,t){var n=ut(!0),r=null,i=up,s=null,l=u1(u);e=typeof e=="function"?e:e===void 0?ER:ut(e),t=typeof t=="function"?t:t===void 0?jR:ut(t);function u(d){var h,p=(d=d1(d)).length,g,v=!1,x;for(r==null&&(s=i(x=l())),h=0;h<=p;++h)!(h<p&&n(g=d[h],h,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,d),+t(g,h,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ut(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ut(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:ut(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function ch(e,t,n){var r=null,i=ut(!0),s=null,l=up,u=null,d=u1(h);e=typeof e=="function"?e:e===void 0?ER:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jR:ut(+n);function h(g){var v,x,w,_=(g=d1(g)).length,E,j=!1,A,N=new Array(_),D=new Array(_);for(s==null&&(u=l(A=d())),v=0;v<=_;++v){if(!(v<_&&i(E=g[v],v,g))===j)if(j=!j)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=x;--w)u.point(N[w],D[w]);u.lineEnd(),u.areaEnd()}j&&(N[v]=+e(E,v,g),D[v]=+t(E,v,g),u.point(r?+r(E,v,g):N[v],n?+n(E,v,g):D[v]))}if(A)return u=null,A+""||null}function p(){return CR().defined(i).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),r=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),h):e},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ut(+g),h):r},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),n=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),h):t},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ut(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ut(!!g),h):i},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class NR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function m9(e){return new NR(e,!0)}function p9(e){return new NR(e,!1)}const f1={draw(e,t){const n=si(t/Yh);e.moveTo(n,0),e.arc(0,0,n,0,cp)}},g9={draw(e,t){const n=si(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},TR=si(1/3),v9=TR*2,y9={draw(e,t){const n=si(t/v9),r=n*TR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x9={draw(e,t){const n=si(t),r=-n/2;e.rect(r,r,n,n)}},b9=.8908130915292852,AR=Gh(Yh/10)/Gh(7*Yh/10),w9=Gh(cp/10)*AR,S9=-wR(cp/10)*AR,_9={draw(e,t){const n=si(t*b9),r=w9*n,i=S9*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=cp*s/5,u=wR(l),d=Gh(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},K0=si(3),E9={draw(e,t){const n=-si(t/(K0*3));e.moveTo(0,n*2),e.lineTo(-K0*n,-n),e.lineTo(K0*n,-n),e.closePath()}},Rr=-.5,Ir=si(3)/2,lb=1/si(12),j9=(lb/2+1)*3,C9={draw(e,t){const n=si(t/j9),r=n/2,i=n*lb,s=r,l=n*lb+n,u=-s,d=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(u,d),e.lineTo(Rr*r-Ir*i,Ir*r+Rr*i),e.lineTo(Rr*s-Ir*l,Ir*s+Rr*l),e.lineTo(Rr*u-Ir*d,Ir*u+Rr*d),e.lineTo(Rr*r+Ir*i,Rr*i-Ir*r),e.lineTo(Rr*s+Ir*l,Rr*l-Ir*s),e.lineTo(Rr*u+Ir*d,Rr*d-Ir*u),e.closePath()}};function N9(e,t){let n=null,r=u1(i);e=typeof e=="function"?e:ut(e||f1),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:ut(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:ut(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Kh(){}function Wh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function OR(e){this._context=e}OR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function T9(e){return new OR(e)}function kR(e){this._context=e}kR.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A9(e){return new kR(e)}function PR(e){this._context=e}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O9(e){return new PR(e)}function DR(e){this._context=e}DR.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function k9(e){return new DR(e)}function JT(e){return e<0?-1:1}function eA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(JT(s)+JT(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function tA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function W0(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,i+u*t,s-u,l-u*n,s,l)}function Xh(e){this._context=e}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W0(this,this._t0,tA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,W0(this,tA(this,n=eA(this,e,t)),n);break;default:W0(this,this._t0,n=eA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MR(e){this._context=new RR(e)}(MR.prototype=Object.create(Xh.prototype)).point=function(e,t){Xh.prototype.point.call(this,t,e)};function RR(e){this._context=e}RR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function P9(e){return new Xh(e)}function D9(e){return new MR(e)}function IR(e){this._context=e}IR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=nA(e),i=nA(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nA(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function M9(e){return new IR(e)}function dp(e,t){this._context=e,this._t=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function R9(e){return new dp(e,.5)}function I9(e){return new dp(e,0)}function L9(e){return new dp(e,1)}function Al(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,u=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function B9(e,t){return e[t]}function z9(e){const t=[];return t.key=e,t}function U9(){var e=ut([]),t=cb,n=Al,r=B9;function i(s){var l=Array.from(e.apply(this,arguments),z9),u,d=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<d;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=d1(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ut(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ut(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?cb:typeof s=="function"?s:ut(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Al,i):n},i}function F9(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Al(e,t)}}function V9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Al(e,t)}}function H9(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,h=0;u<l;++u){for(var p=e[t[u]],g=p[r][1]||0,v=p[r-1][1]||0,x=(g-v)/2,w=0;w<u;++w){var _=e[t[w]],E=_[r][1]||0,j=_[r-1][1]||0;x+=E-j}d+=g,h+=x*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Al(e,t)}}var X0={},Q0={},rA;function $9(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Q0)),Q0}var Z0={},iA;function LR(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Z0)),Z0}var J0={},aA;function h1(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(J0)),J0}var ey={},ty={},sA;function q9(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ty)),ty}var oA;function m1(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q9(),n=h1();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];h?g==="\\"&&u+1<l?(u++,d+=i[u]):g===h?h="":d+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=r})(ey)),ey}var lA;function p1(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$9(),n=LR(),r=h1(),i=m1();function s(u,d,h){if(u==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?h:p}default:{if(Array.isArray(d))return l(u,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const p=u[d];return p===void 0?h:p}}}function l(u,d,h){if(d.length===0)return h;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return h;p=p[d[g]]}return p===void 0?h:p}e.get=s})(X0)),X0}var ny,cA;function G9(){return cA||(cA=1,ny=p1().get),ny}var Y9=G9();const fp=Ei(Y9);var zr=e=>e===0?0:e>0?1:-1,xi=e=>typeof e=="number"&&e!=+e,ia=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,we=e=>(typeof e=="number"||e instanceof Number)&&!xi(e),bi=e=>we(e)||typeof e=="string",K9=0,Uu=e=>{var t=++K9;return"".concat(e||"").concat(t)},ss=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&typeof t!="string")return r;var s;if(ia(t)){if(n==null)return r;var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return xi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},BR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Kn(e,t,n){return we(e)&&we(t)?e+n*(t-e):t}function zR(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):fp(r,t))===n)}var sn=e=>e===null||typeof e>"u",gd=e=>sn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function W9(e){return e!=null}function ql(){}var X9=["type","size","sizeType"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){Q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q9(e,t,n){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){if(e==null)return{};var n,r,i=tq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UR={symbolCircle:f1,symbolCross:g9,symbolDiamond:y9,symbolSquare:x9,symbolStar:_9,symbolTriangle:E9,symbolWye:C9},nq=Math.PI/180,rq=e=>{var t="symbol".concat(gd(e));return UR[t]||f1},iq=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*nq;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aq=(e,t)=>{UR["symbol".concat(gd(e))]=t},FR=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=eq(e,X9),s=dA(dA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=rq(l),x=N9().type(v).size(iq(n,r,l)),w=x();if(w!==null)return w},{className:d,cx:h,cy:p}=s,g=Ln(s);return we(h)&&we(p)&&we(n)?S.createElement("path",ub({},g,{className:ot("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};FR.registerSymbol=aq;var VR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,g1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(S.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{c1(i)&&(r[i]=(s=>n[i](n,s)))}),r},sq=(e,t,n)=>r=>(e(t,n,r),null),oq=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];c1(i)&&typeof s=="function"&&(r||(r={}),r[i]=sq(s,t,n))}),r};function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t){var n=lq({},e),r=t,i=Object.keys(t),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}var ry={},iy={},hA;function fq(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(iy)),iy}var ay={},mA;function HR(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(ay)),ay}var sy={},oy={},ly={},pA;function hq(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(ly)),ly}var gA;function v1(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hq();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(oy)),oy}var cy={},vA;function mq(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cy)),cy}var yA;function pq(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v1(),n=mq();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(sy)),sy}var uy={},dy={},xA;function gq(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p1();function n(r){return function(i){return t.get(i,r)}}e.property=n})(dy)),dy}var fy={},hy={},my={},py={},bA;function $R(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(py)),py}var gy={},wA;function qR(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gy)),gy}var vy={},SA;function GR(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(vy)),vy}var _A;function vq(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$R(),n=qR(),r=GR();function i(p,g,v){return typeof v!="function"?i(p,g,()=>{}):s(p,g,function x(w,_,E,j,A,N){const D=v(w,_,E,j,A,N);return D!==void 0?!!D:s(w,_,x,N)},new Map)}function s(p,g,v,x){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,x);case"function":return Object.keys(g).length>0?s(p,{...g},v,x):r.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,v,x){if(g==null)return!0;if(Array.isArray(g))return d(p,g,v,x);if(g instanceof Map)return u(p,g,v,x);if(g instanceof Set)return h(p,g,v,x);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===p;x==null||x.set(g,p);try{for(let _=0;_<w.length;_++){const E=w[_];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!v(p[E],g[E],E,p,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function u(p,g,v,x){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,_]of g.entries()){const E=p.get(w);if(v(E,_,w,p,g,x)===!1)return!1}return!0}function d(p,g,v,x){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let _=0;_<g.length;_++){const E=g[_];let j=!1;for(let A=0;A<p.length;A++){if(w.has(A))continue;const N=p[A];let D=!1;if(v(N,E,_,p,g,x)&&(D=!0),D){w.add(A),j=!0;break}}if(!j)return!1}return!0}function h(p,g,v,x){return g.size===0?!0:p instanceof Set?d([...p],[...g],v,x):!1}e.isMatchWith=i,e.isSetMatch=h})(my)),my}var EA;function YR(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vq();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(hy)),hy}var yy={},xy={},by={},jA;function yq(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(by)),by}var wy={},CA;function KR(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(wy)),wy}var Sy={},NA;function WR(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",w="[object Error]",_="[object DataView]",E="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",N="[object Uint32Array]",D="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",I="[object Int32Array]",B="[object BigInt64Array]",H="[object Float32Array]",Z="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=_,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=H,e.float64ArrayTag=Z,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=I,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=N,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=j})(Sy)),Sy}var _y={},TA;function xq(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(_y)),_y}var AA;function XR(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yq(),n=KR(),r=WR(),i=qR(),s=xq();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,x=new Map,w=void 0){const _=w==null?void 0:w(p,g,v,x);if(_!==void 0)return _;if(i.isPrimitive(p))return p;if(x.has(p))return x.get(p);if(Array.isArray(p)){const E=new Array(p.length);x.set(p,E);for(let j=0;j<p.length;j++)E[j]=u(p[j],j,v,x,w);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;x.set(p,E);for(const[j,A]of p)E.set(j,u(A,j,v,x,w));return E}if(p instanceof Set){const E=new Set;x.set(p,E);for(const j of p)E.add(u(j,void 0,v,x,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);x.set(p,E);for(let j=0;j<p.length;j++)E[j]=u(p[j],j,v,x,w);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return x.set(p,E),d(E,p,v,x,w),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return x.set(p,E),d(E,p,v,x,w),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return x.set(p,E),d(E,p,v,x,w),E}if(p instanceof Error){const E=new p.constructor;return x.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,d(E,p,v,x,w),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return x.set(p,E),d(E,p,v,x,w),E}if(p instanceof Number){const E=new Number(p.valueOf());return x.set(p,E),d(E,p,v,x,w),E}if(p instanceof String){const E=new String(p.valueOf());return x.set(p,E),d(E,p,v,x,w),E}if(typeof p=="object"&&h(p)){const E=Object.create(Object.getPrototypeOf(p));return x.set(p,E),d(E,p,v,x,w),E}return p}function d(p,g,v=p,x,w){const _=[...Object.keys(g),...t.getSymbols(g)];for(let E=0;E<_.length;E++){const j=_[E],A=Object.getOwnPropertyDescriptor(p,j);(A==null||A.writable)&&(p[j]=u(g[j],j,v,x,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(xy)),xy}var OA;function bq(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(yy)),yy}var kA;function wq(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YR(),n=bq();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(fy)),fy}var Ey={},jy={},Cy={},PA;function Sq(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XR(),n=WR();function r(i,s){return t.cloneDeepWith(i,(l,u,d,h)=>{const p=s==null?void 0:s(l,u,d,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Cy)),Cy}var DA;function _q(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sq();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(jy)),jy}var Ny={},Ty={},MA;function QR(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Ty)),Ty}var Ay={},RA;function Eq(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KR();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Ay)),Ay}var IA;function jq(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR(),n=QR(),r=Eq(),i=m1();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let h=l;for(let p=0;p<d.length;p++){const g=d[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(Ny)),Ny}var LA;function Cq(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YR(),n=h1(),r=_q(),i=p1(),s=jq();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(h){const p=i.get(h,u);return p===void 0?s.has(h,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(Ey)),Ey}var BA;function Nq(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HR(),n=gq(),r=wq(),i=Cq();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=s})(uy)),uy}var zA;function Tq(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fq(),n=HR(),r=pq(),i=Nq();function s(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=s})(ry)),ry}var Oy,UA;function Aq(){return UA||(UA=1,Oy=Tq().uniqBy),Oy}var Oq=Aq();const FA=Ei(Oq);function kq(e,t,n){return t===!0?FA(e,n):typeof t=="function"?FA(e,t):e}var ky={exports:{}},Py={},Dy={exports:{}},My={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function Pq(){if(VA)return My;VA=1;var e=zl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),w=r({inst:{value:x,getSnapshot:v}}),_=w[0].inst,E=w[1];return s(function(){_.value=x,_.getSnapshot=v,d(_)&&E({inst:_})},[g,x,v]),i(function(){return d(_)&&E({inst:_}),g(function(){d(_)&&E({inst:_})})},[g]),l(x),x}function d(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return My.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,My}var HA;function Dq(){return HA||(HA=1,Dy.exports=Pq()),Dy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A;function Mq(){if($A)return Py;$A=1;var e=zl(),t=Dq();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Py.useSyncExternalStoreWithSelector=function(h,p,g,v,x){var w=s(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=u(function(){function j(P){if(!A){if(A=!0,N=P,P=v(P),x!==void 0&&_.hasValue){var I=_.value;if(x(I,P))return D=I}return D=P}if(I=D,r(N,P))return I;var B=v(P);return x!==void 0&&x(I,B)?(N=P,I):(N=P,D=B)}var A=!1,N,D,T=g===void 0?null:g;return[function(){return j(p())},T===null?void 0:function(){return j(T())}]},[p,g,v,x]);var E=i(h,w[0],w[1]);return l(function(){_.hasValue=!0,_.value=E},[E]),d(E),E},Py}var qA;function Rq(){return qA||(qA=1,ky.exports=Mq()),ky.exports}var Iq=Rq(),y1=S.createContext(null),Lq=e=>e,cn=()=>{var e=S.useContext(y1);return e?e.store.dispatch:Lq},Oh=()=>{},Bq=()=>Oh,zq=(e,t)=>e===t;function Se(e){var t=S.useContext(y1);return Iq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Bq,t?t.store.getState:Oh,t?t.store.getState:Oh,t?e:Oh,zq)}function Uq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Fq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Vq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var GA=e=>Array.isArray(e)?e:[e];function Hq(e){const t=Array.isArray(e[0])?e[0]:e;return Vq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $q(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var qq=class{constructor(e){this.value=e}deref(){return this.value}},Gq=typeof WeakRef<"u"?WeakRef:qq,Yq=0,YA=1;function uh(){return{s:Yq,v:void 0,o:null,p:null}}function ZR(e,t={}){let n=uh();const{resultEqualityCheck:r}=t;let i,s=0;function l(){var g;let u=n;const{length:d}=arguments;for(let v=0,x=d;v<x;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const E=_.get(w);E===void 0?(u=uh(),_.set(w,u)):u=E}else{let _=u.p;_===null&&(u.p=_=new Map);const E=_.get(w);E===void 0?(u=uh(),_.set(w,u)):u=E}}const h=u;let p;if(u.s===YA)p=u.v;else if(p=e.apply(null,arguments),s++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Gq(p):p}return h.s=YA,h.v=p,p}return l.clearCache=()=>{n=uh(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Kq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,l=0,u,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),Uq(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:x=ZR,argsMemoizeOptions:w=[]}=p,_=GA(v),E=GA(w),j=Hq(i),A=g(function(){return s++,h.apply(null,arguments)},..._),N=x(function(){l++;const T=$q(j,arguments);return u=A.apply(null,T),u},...E);return Object.assign(N,{resultFunc:h,memoizedResultFunc:A,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Q=Kq(ZR),Wq=Object.assign((e,t=Q)=>{Fq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>Wq}),Ry={},Iy={},Ly={},KA;function Xq(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=n})(Ly)),Ly}var By={},zy={},WA;function JR(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(zy)),zy}var XA;function Qq(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i})(By)),By}var QA;function Zq(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xq(),n=Qq(),r=m1();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,w)=>{let _=x;for(let E=0;E<w.length&&_!=null;++E)_=_[w[E]];return _},p=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:h(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?h(w,x):typeof w=="object"?w[x]:w,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(w=>p(w,x))})).slice().sort((x,w)=>{for(let _=0;_<g.length;_++){const E=t.compareValues(x.criteria[_],w.criteria[_],u[_]);if(E!==0)return E}return 0}).map(x=>x.original)}e.orderBy=i})(Iy)),Iy}var Uy={},ZA;function Jq(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Uy)),Uy}var Fy={},JA;function eI(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QR(),n=v1(),r=$R(),i=GR();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=s})(Fy)),Fy}var eO;function eG(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zq(),n=Jq(),r=eI();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,n.flatten(l),["asc"])}e.sortBy=i})(Ry)),Ry}var Vy,tO;function tG(){return tO||(tO=1,Vy=eG().sortBy),Vy}var nG=tG();const hp=Ei(nG);var tI=e=>e.legend.settings,rG=e=>e.legend.size,iG=e=>e.legend.payload;Q([iG,tI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hp(r,n):r});var dh=1;function aG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>dh||Math.abs(l.left-t.left)>dh||Math.abs(l.top-t.top)>dh||Math.abs(l.width-t.width)>dh)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function xn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sG=typeof Symbol=="function"&&Symbol.observable||"@@observable",nO=sG,Hy=()=>Math.random().toString(36).substring(7).split("").join("."),oG={INIT:`@@redux/INIT${Hy()}`,REPLACE:`@@redux/REPLACE${Hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hy()}`},Qh=oG;function x1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function nI(e,t,n){if(typeof e!="function")throw new Error(xn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xn(1));return n(nI)(e,t)}let r=e,i=t,s=new Map,l=s,u=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((E,j)=>{l.set(j,E)}))}function p(){if(d)throw new Error(xn(3));return i}function g(E){if(typeof E!="function")throw new Error(xn(4));if(d)throw new Error(xn(5));let j=!0;h();const A=u++;return l.set(A,E),function(){if(j){if(d)throw new Error(xn(6));j=!1,h(),l.delete(A),s=null}}}function v(E){if(!x1(E))throw new Error(xn(7));if(typeof E.type>"u")throw new Error(xn(8));if(typeof E.type!="string")throw new Error(xn(17));if(d)throw new Error(xn(9));try{d=!0,i=r(i,E)}finally{d=!1}return(s=l).forEach(A=>{A()}),E}function x(E){if(typeof E!="function")throw new Error(xn(10));r=E,v({type:Qh.REPLACE})}function w(){const E=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(xn(11));function A(){const D=j;D.next&&D.next(p())}return A(),{unsubscribe:E(A)}},[nO](){return this}}}return v({type:Qh.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:x,[nO]:w}}function lG(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Qh.INIT})>"u")throw new Error(xn(12));if(typeof n(void 0,{type:Qh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xn(13))})}function rI(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{lG(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],x=l[g],w=v(x,u);if(typeof w>"u")throw u&&u.type,new Error(xn(14));h[g]=w,d=d||w!==x}return d=d||r.length!==Object.keys(l).length,d?h:l}}function Zh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function cG(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(xn(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},u=e.map(d=>d(l));return s=Zh(...u)(i.dispatch),{...i,dispatch:s}}}function iI(e){return x1(e)&&"type"in e&&typeof e.type=="string"}var aI=Symbol.for("immer-nothing"),rO=Symbol.for("immer-draftable"),_r=Symbol.for("immer-state");function Qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function to(e){return!!e&&!!e[_r]}function aa(e){var t;return e?sI(e)||Array.isArray(e)||!!e[rO]||!!((t=e.constructor)!=null&&t[rO])||vd(e)||pp(e):!1}var uG=Object.prototype.constructor.toString(),iO=new WeakMap;function sI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iO.get(n);return r===void 0&&(r=Function.toString.call(n),iO.set(n,r)),r===uG}function Jh(e,t,n=!0){mp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function mp(e){const t=e[_r];return t?t.type_:Array.isArray(e)?1:vd(e)?2:pp(e)?3:0}function db(e,t){return mp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function oI(e,t,n){const r=mp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function dG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vd(e){return e instanceof Map}function pp(e){return e instanceof Set}function zs(e){return e.copy_||e.base_}function fb(e,t){if(vd(e))return new Map(e);if(pp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=sI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[_r];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function b1(e,t=!1){return gp(e)||to(e)||!aa(e)||(mp(e)>1&&Object.defineProperties(e,{set:fh,add:fh,clear:fh,delete:fh}),Object.freeze(e),t&&Object.values(e).forEach(n=>b1(n,!0))),e}function fG(){Qr(2)}var fh={value:fG};function gp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hG={};function no(e){const t=hG[e];return t||Qr(0,e),t}var Vu;function lI(){return Vu}function mG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aO(e,t){t&&(no("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){mb(e),e.drafts_.forEach(pG),e.drafts_=null}function mb(e){e===Vu&&(Vu=e.parent_)}function sO(e){return Vu=mG(Vu,e)}function pG(e){const t=e[_r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[_r].modified_&&(hb(t),Qr(4)),aa(e)&&(e=em(t,e),t.parent_||tm(t,e)),t.patches_&&no("Patches").generateReplacementPatches_(n[_r].base_,e,t.patches_,t.inversePatches_)):e=em(t,n,[]),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aI?e:void 0}function em(e,t,n){if(gp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[_r];if(!i)return Jh(t,(s,l)=>lO(e,i,t,s,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return tm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Jh(l,(d,h)=>lO(e,i,s,d,h,n,u),r),tm(e,s,!1),n&&e.patches_&&no("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function lO(e,t,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=gp(i);if(!(u&&!l)){if(to(i)){const d=s&&t&&t.type_!==3&&!db(t.assigned_,r)?s.concat(r):void 0,h=em(e,i,d);if(oI(n,r,h),to(h))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(aa(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;em(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(vd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&tm(e,i)}}}function tm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&b1(t,n)}function gG(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:lI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=w1;n&&(i=[r],s=Hu);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var w1={get(e,t){if(t===_r)return e;const n=zs(e);if(!db(n,t))return vG(e,n,t);const r=n[t];return e.finalized_||!aa(r)?r:r===$y(e.base_,t)?(qy(e),e.copy_[t]=gb(r,e)):r},has(e,t){return t in zs(e)},ownKeys(e){return Reflect.ownKeys(zs(e))},set(e,t,n){const r=cI(zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=$y(zs(e),t),s=i==null?void 0:i[_r];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(dG(n,i)&&(n!==void 0||db(e.base_,t)))return!0;qy(e),pb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $y(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,qy(e),pb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Qr(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){Qr(12)}},Hu={};Jh(w1,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,n){return w1.set.call(this,e[0],t,n,e[0])};function $y(e,t){const n=e[_r];return(n?zs(n):e)[t]}function vG(e,t,n){var i;const r=cI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function cI(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function qy(e){e.copy_||(e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const l=this;return function(d=s,...h){return l.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&Qr(6),r!==void 0&&typeof r!="function"&&Qr(7);let i;if(aa(t)){const s=sO(this),l=gb(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?hb(s):mb(s)}return aO(s,r),oO(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===aI&&(i=void 0),this.autoFreeze_&&b1(i,!0),r){const s=[],l=[];no("Patches").generateReplacementPatches_(t,i,s,l),r(s,l)}return i}else Qr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){aa(e)||Qr(8),to(e)&&(e=Ji(e));const t=sO(this),n=gb(e,void 0);return n[_r].isManual_=!0,mb(t),n}finishDraft(e,t){const n=e&&e[_r];(!n||!n.isManual_)&&Qr(9);const{scope_:r}=n;return aO(r,t),oO(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=no("Patches").applyPatches_;return to(e)?r(e,t):this.produce(e,i=>r(i,t))}};function gb(e,t){const n=vd(e)?no("MapSet").proxyMap_(e,t):pp(e)?no("MapSet").proxySet_(e,t):gG(e,t);return(t?t.scope_:lI()).drafts_.push(n),n}function Ji(e){return to(e)||Qr(10,e),uI(e)}function uI(e){if(!aa(e)||gp(e))return e;const t=e[_r];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=fb(e,!0);return Jh(n,(i,s)=>{oI(n,i,uI(s))},r),t&&(t.finalized_=!1),n}var vb=new yG,dI=vb.produce,xG=vb.setUseStrictIteration.bind(vb);function fI(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var bG=fI(),wG=fI,SG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zh:Zh.apply(null,arguments)};function Fr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(br(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>iI(r)&&r.type===e,n}var hI=class xu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xu.prototype)}static get[Symbol.species](){return xu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xu(...t[0].concat(this)):new xu(...t.concat(this))}};function cO(e){return aa(e)?dI(e,()=>{}):e}function hh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function _G(e){return typeof e=="boolean"}var EG=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new hI;return n&&(_G(n)?l.push(bG):l.push(wG(n.extraArgument))),l},mI="RTK_autoBatch",Ht=()=>e=>({payload:e,meta:{[mI]:!0}}),uO=e=>t=>{setTimeout(t,e)},pI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uO(10):e.type==="callback"?e.queueNotification:uO(e.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),v=r.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var g;try{return i=!((g=p==null?void 0:p.meta)!=null&&g[mI]),s=!i,s&&(l||(l=!0,d(h))),r.dispatch(p)}finally{i=!0}}})},jG=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new hI(e);return r&&i.push(pI(typeof r=="object"?r:void 0)),i};function CG(e){const t=EG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(x1(n))u=rI(n);else throw new Error(br(1));let d;typeof r=="function"?d=r(t):d=t();let h=Zh;i&&(h=SG({trace:!1,...typeof i=="object"&&i}));const p=cG(...d),g=jG(p);let v=typeof l=="function"?l(g):g();const x=h(...v);return nI(u,s,x)}function gI(e){const t={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(br(28));if(u in t)throw new Error(br(29));return t[u]=l,i},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}xG(!1);function NG(e){return typeof e=="function"}function TG(e,t){let[n,r,i]=gI(t),s;if(NG(e))s=()=>cO(e());else{const u=cO(e);s=()=>u}function l(u=s(),d){let h=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,g)=>{if(g)if(to(p)){const x=g(p,d);return x===void 0?p:x}else{if(aa(p))return dI(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=s,l}var AG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OG=(e=21)=>{let t="",n=e;for(;n--;)t+=AG[Math.random()*64|0];return t},kG=Symbol.for("rtk-slice-createasyncthunk");function PG(e,t){return`${e}/${t}`}function DG({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[kG];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(br(11));const u=(typeof i.reducers=="function"?i.reducers(RG()):i.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(D,T){const P=typeof D=="string"?D:D.type;if(!P)throw new Error(br(12));if(P in h.sliceCaseReducersByType)throw new Error(br(13));return h.sliceCaseReducersByType[P]=T,p},addMatcher(D,T){return h.sliceMatchers.push({matcher:D,reducer:T}),p},exposeAction(D,T){return h.actionCreators[D]=T,p},exposeCaseReducer(D,T){return h.sliceCaseReducersByName[D]=T,p}};d.forEach(D=>{const T=u[D],P={reducerName:D,type:PG(s,D),createNotation:typeof i.reducers=="function"};LG(T)?zG(P,T,p,t):IG(P,T,p)});function g(){const[D={},T=[],P=void 0]=typeof i.extraReducers=="function"?gI(i.extraReducers):[i.extraReducers],I={...D,...h.sliceCaseReducersByType};return TG(i.initialState,B=>{for(let H in I)B.addCase(H,I[H]);for(let H of h.sliceMatchers)B.addMatcher(H.matcher,H.reducer);for(let H of T)B.addMatcher(H.matcher,H.reducer);P&&B.addDefaultCase(P)})}const v=D=>D,x=new Map,w=new WeakMap;let _;function E(D,T){return _||(_=g()),_(D,T)}function j(){return _||(_=g()),_.getInitialState()}function A(D,T=!1){function P(B){let H=B[D];return typeof H>"u"&&T&&(H=hh(w,P,j)),H}function I(B=v){const H=hh(x,T,()=>new WeakMap);return hh(H,B,()=>{const Z={};for(const[U,J]of Object.entries(i.selectors??{}))Z[U]=MG(J,B,()=>hh(w,B,j),T);return Z})}return{reducerPath:D,getSelectors:I,get selectors(){return I(P)},selectSlice:P}}const N={name:s,reducer:E,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:j,...A(l),injectInto(D,{reducerPath:T,...P}={}){const I=T??l;return D.inject({reducerPath:I,reducer:E},P),{...N,...A(I,!0)}}};return N}}function MG(e,t,n,r){function i(s,...l){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var tr=DG();function RG(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IG({type:e,reducerName:t,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!BG(r))throw new Error(br(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Fr(e,l):Fr(e))}function LG(e){return e._reducerDefinitionType==="asyncThunk"}function BG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zG({type:e,reducerName:t},n,r,i){if(!i)throw new Error(br(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:h,options:p}=n,g=i(e,s,p);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(t,{fulfilled:l||mh,pending:u||mh,rejected:d||mh,settled:h||mh})}function mh(){}var UG="task",vI="listener",yI="completed",S1="cancelled",FG=`task-${S1}`,VG=`task-${yI}`,yb=`${vI}-${S1}`,HG=`${vI}-${yI}`,vp=class{constructor(e){w0(this,"name","TaskAbortError");w0(this,"message");this.code=e,this.message=`${UG} ${S1} (reason: ${e})`}},_1=(e,t)=>{if(typeof e!="function")throw new TypeError(br(32))},nm=()=>{},xI=(e,t=nm)=>(e.catch(t),e),bI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Qs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Zs=e=>{if(e.aborted){const{reason:t}=e;throw new vp(t)}};function wI(e,t){let n=nm;return new Promise((r,i)=>{const s=()=>i(new vp(e.reason));if(e.aborted){s();return}n=bI(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=nm})}var $G=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof vp?"cancelled":"rejected",error:n}}finally{t==null||t()}},rm=e=>t=>xI(wI(e,t).then(n=>(Zs(e),n))),SI=e=>{const t=rm(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:bl}=Object,dO={},yp="listenerMiddleware",qG=(e,t)=>{const n=r=>bI(e,()=>Qs(r,e.reason));return(r,i)=>{_1(r);const s=new AbortController;n(s);const l=$G(async()=>{Zs(e),Zs(s.signal);const u=await r({pause:rm(s.signal),delay:SI(s.signal),signal:s.signal});return Zs(s.signal),u},()=>Qs(s,VG));return i!=null&&i.autoJoin&&t.push(l.catch(nm)),{result:rm(e)(l),cancel(){Qs(s,FG)}}}},GG=(e,t)=>{const n=async(r,i)=>{Zs(t);let s=()=>{};const u=[new Promise((d,h)=>{let p=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await wI(t,Promise.race(u));return Zs(t),d}finally{s()}};return(r,i)=>xI(n(r,i))},_I=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Fr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(br(21));return _1(s),{predicate:i,type:t,effect:s}},EI=bl(e=>{const{type:t,predicate:n,effect:r}=_I(e);return{id:OG(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(br(22))}}},{withTypes:()=>EI}),fO=(e,t)=>{const{type:n,effect:r,predicate:i}=_I(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},xb=e=>{e.pending.forEach(t=>{Qs(t,yb)})},YG=(e,t)=>()=>{for(const n of t.keys())xb(n);e.clear()},hO=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},jI=bl(Fr(`${yp}/add`),{withTypes:()=>jI}),KG=Fr(`${yp}/removeAll`),CI=bl(Fr(`${yp}/remove`),{withTypes:()=>CI}),WG=(...e)=>{console.error(`${yp}/error`,...e)},yd=(e={})=>{const t=new Map,n=new Map,r=x=>{const w=n.get(x)??0;n.set(x,w+1)},i=x=>{const w=n.get(x)??1;w===1?n.delete(x):n.set(x,w-1)},{extra:s,onError:l=WG}=e;_1(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w!=null&&w.cancelActive&&xb(x)}),d=x=>{const w=fO(t,x)??EI(x);return u(w)};bl(d,{withTypes:()=>d});const h=x=>{const w=fO(t,x);return w&&(w.unsubscribe(),x.cancelActive&&xb(w)),!!w};bl(h,{withTypes:()=>h});const p=async(x,w,_,E)=>{const j=new AbortController,A=GG(d,j.signal),N=[];try{x.pending.add(j),r(x),await Promise.resolve(x.effect(w,bl({},_,{getOriginalState:E,condition:(D,T)=>A(D,T).then(Boolean),take:A,delay:SI(j.signal),pause:rm(j.signal),extra:s,signal:j.signal,fork:qG(j.signal,N),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,T,P)=>{D!==j&&(Qs(D,yb),P.delete(D))})},cancel:()=>{Qs(j,yb),x.pending.delete(j)},throwIfCancelled:()=>{Zs(j.signal)}})))}catch(D){D instanceof vp||hO(l,D,{raisedBy:"effect"})}finally{await Promise.all(N),Qs(j,HG),i(x),x.pending.delete(j)}},g=YG(t,n);return{middleware:x=>w=>_=>{if(!iI(_))return w(_);if(jI.match(_))return d(_.payload);if(KG.match(_)){g();return}if(CI.match(_))return h(_.payload);let E=x.getState();const j=()=>{if(E===dO)throw new Error(br(23));return E};let A;try{if(A=w(_),t.size>0){const N=x.getState(),D=Array.from(t.values());for(const T of D){let P=!1;try{P=T.predicate(_,N,E)}catch(I){P=!1,hO(l,I,{raisedBy:"predicate"})}P&&p(T,_,x,j)}}}finally{E=dO}return A},startListening:d,stopListening:h,clearListeners:g}};function br(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NI=tr({name:"chartLayout",initialState:XG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:QG,setLayout:ZG,setChartSize:JG,setScale:eY}=NI.actions,tY=NI.reducer;function TI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){nY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(e,t,n){return sn(e)||sn(t)?n:bi(t)?fp(e,t,n):typeof t=="function"?t(e):n}var aY=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&we(e[s]))return vl(vl({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&we(e[l]))return vl(vl({},e),{},{[l]:e[l]+(i||0)})}return e},ds=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",AI=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,s,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(t),s||l.push(n),l},OI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(_=x==="angleAxis"&&s&&s.length>=2?zr(s[0]-s[1])*2*_:_,g||v){var E=(g||v||[]).map((j,A)=>{var N=r?r.indexOf(j):j;return{coordinate:l(N)+_,value:j,offset:_,index:A}});return E.filter(j=>!xi(j.coordinate))}return d&&h?h.map((j,A)=>({coordinate:l(j)+_,value:j,index:A,offset:_})):l.ticks&&p!=null?l.ticks(p).map((j,A)=>({coordinate:l(j)+_,value:j,offset:_,index:A})):l.domain().map((j,A)=>({coordinate:l(j)+_,value:r?r[j]:j,index:A,offset:_}))},pO=1e-4,sY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-pO,s=Math.max(r[0],r[1])+pO,l=e(t[0]),u=e(t[n-1]);(l<i||l>s||u<i||u>s)&&e.domain([t[0],t[n-1]])}},oY=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,l=0;l<t;++l){var u=xi(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+u,s=e[l][n][1])}},lY=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var l=xi(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},cY={sign:oY,expand:F9,none:Al,silhouette:V9,wiggle:H9,positive:lY},uY=(e,t,n)=>{var r=cY[n],i=U9().keys(t).value((s,l)=>Number(In(s,l,0))).order(cb).offset(r);return i(e)};function gO(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!sn(i[t.dataKey])){var u=zR(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=In(i,sn(l)?t.dataKey:l);return sn(d)?null:t.scale(d)}var dY=e=>{var t=e.flat(2).filter(we);return[Math.min(...t),Math.max(...t)]},fY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hY=(e,t,n)=>{if(e!=null)return fY(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:l}=s,u=l.reduce((d,h)=>{var p=TI(h,t,n),g=dY(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},vO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,im=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=hp(t,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],h=i[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function xO(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return vl(vl({},t),{},{dataKey:n,payload:r,value:i,name:s})}function kI(e,t){if(e)return String(e);if(typeof t=="string")return t}var mY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pY=(e,t)=>t==="centric"?e.angle:e.radius,ma=e=>e.layout.width,pa=e=>e.layout.height,gY=e=>e.layout.scale,PI=e=>e.layout.margin,xp=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),bp=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vY="data-recharts-item-index",yY="data-recharts-item-data-key",xd=60;function bO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return(t=bY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SY=e=>e.brush.height;function _Y(e){var t=bp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xd;return n+i}return n},0)}function EY(e){var t=bp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xd;return n+i}return n},0)}function jY(e){var t=xp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function CY(e){var t=xp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sn=Q([ma,pa,PI,SY,_Y,EY,jY,CY,tI,rG],(e,t,n,r,i,s,l,u,d,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=ph(ph({},g),p),x=v.bottom;v.bottom+=r,v=aY(v,d,h);var w=e-v.left-v.right,_=t-v.top-v.bottom;return ph(ph({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(_,0)})}),NY=Q(Sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),DI=Q(ma,pa,(e,t)=>({x:0,y:0,width:e,height:t})),TY=S.createContext(null),nr=()=>S.useContext(TY)!=null,wp=e=>e.brush,Sp=Q([wp,Sn,PI],(e,t,n)=>({height:e.height,x:we(e.x)?e.x:t.left,y:we(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:we(e.width)?e.width:t.width})),Gy={},Yy={},Ky={},wO;function AY(){return wO||(wO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),_()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{w(),l=void 0,u=null},E=()=>{p()},j=function(...A){if(i!=null&&i.aborted)return;l=this,u=A;const N=v==null;x(),d&&N&&p()};return j.schedule=x,j.cancel=_,j.flush=E,i==null||i.addEventListener("abort",_,{once:!0}),j}e.debounce=t})(Ky)),Ky}var SO;function OY(){return SO||(SO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AY();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const v=t.debounce(function(..._){p=r.apply(this,_),g=null},i,{edges:h}),x=function(..._){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,_),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,_),p)},w=()=>(v.flush(),p);return x.cancel=v.cancel,x.flush=w,x}e.debounce=n})(Yy)),Yy}var _O;function kY(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Gy)),Gy}var Wy,EO;function PY(){return EO||(EO=1,Wy=kY().throttle),Wy}var DY=PY();const MY=Ei(DY);var am=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},MI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=ia(r)?e:Number(r),d=ia(i)?t:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},RY={width:0,height:0,overflow:"visible"},IY={width:0,overflowX:"visible"},LY={height:0,overflowY:"visible"},BY={},zY=e=>{var{width:t,height:n}=e,r=ia(t),i=ia(n);return r&&i?RY:r?IY:i?LY:BY};function UY(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function ln(e){return Number.isFinite(e)}function wi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function jO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RI=S.createContext({width:-1,height:-1});function $Y(e){return wi(e.width)&&wi(e.height)}function II(e){var{children:t,width:n,height:r}=e,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return $Y(i)?S.createElement(RI.Provider,{value:i},t):null}var E1=()=>S.useContext(RI),qY=S.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:h,debounce:p=0,id:g,className:v,onResize:x,style:w={}}=e,_=S.useRef(null),E=S.useRef();E.current=x,S.useImperativeHandle(t,()=>_.current);var[j,A]=S.useState({containerWidth:r.width,containerHeight:r.height}),N=S.useCallback((B,H)=>{A(Z=>{var U=Math.round(B),J=Math.round(H);return Z.containerWidth===U&&Z.containerHeight===J?Z:{containerWidth:U,containerHeight:J}})},[]);S.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return ql;var B=J=>{var oe,{width:de,height:ae}=J[0].contentRect;N(de,ae),(oe=E.current)===null||oe===void 0||oe.call(E,de,ae)};p>0&&(B=MY(B,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(B),{width:Z,height:U}=_.current.getBoundingClientRect();return N(Z,U),H.observe(_.current),()=>{H.disconnect()}},[N,p]);var{containerWidth:D,containerHeight:T}=j;am(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:I}=MI(D,T,{width:i,height:s,aspect:n,maxHeight:d});return am(P!=null&&P>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,I,i,s,l,u,n),S.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",v),style:CO(CO({},w),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:_},S.createElement("div",{style:zY({width:i,height:s})},S.createElement(II,{width:P,height:I},h)))}),GY=S.forwardRef((e,t)=>{var n=E1();if(wi(n.width)&&wi(n.height))return e.children;var{width:r,height:i}=UY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=MI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return we(s)&&we(l)?S.createElement(II,{width:s,height:l},e.children):S.createElement(qY,bb({},e,{width:r,height:i,ref:t}))});function LI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var _p=()=>{var e,t=nr(),n=Se(NY),r=Se(Sp),i=(e=Se(wp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},YY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BI=()=>{var e;return(e=Se(Sn))!==null&&e!==void 0?e:YY},zI=()=>Se(ma),UI=()=>Se(pa),yt=e=>e.layout.layoutType,Ep=()=>Se(yt),KY=()=>{var e=Ep();return e!==void 0},jp=e=>{var t=cn(),n=nr(),{width:r,height:i}=e,s=E1(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),S.useEffect(()=>{!n&&wi(l)&&wi(u)&&t(JG({width:l,height:u}))},[t,n,l,u]),null},WY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FI=tr({name:"legend",initialState:WY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ht()},removeLegendPayload:{reducer(e,t){var n=Ji(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ht()}}}),{setLegendSize:Efe,setLegendSettings:jfe,addLegendPayload:XY,removeLegendPayload:QY}=FI.actions,ZY=FI.reducer;function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){JY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JY(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nK(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var rK=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(u?hp(s,u):s).map((I,B)=>{if(I.type==="none")return null;var H=I.formatter||l||nK,{value:Z,name:U}=I,J=Z,oe=U;if(H){var de=H(Z,U,I,B,s);if(Array.isArray(de))[J,oe]=de;else if(de!=null)J=de;else return null}var ae=Xy({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ae},bi(oe)?S.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,bi(oe)?S.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,S.createElement("span",{className:"recharts-tooltip-item-value"},J),S.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=Xy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Xy({margin:0},i),E=!sn(p),j=E?p:"",A=ot("recharts-default-tooltip",d),N=ot("recharts-tooltip-label",h);E&&g&&s!==void 0&&s!==null&&(j=g(p,s));var D=v?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",wb({className:A,style:w},D),S.createElement("p",{className:N,style:_},S.isValidElement(j)?j:"".concat(j)),x())},iu="recharts-tooltip-wrapper",iK={visibility:"hidden"};function aK(e){var{coordinate:t,translateX:n,translateY:r}=e;return ot(iu,{["".concat(iu,"-right")]:we(n)&&t&&we(t.x)&&n>=t.x,["".concat(iu,"-left")]:we(n)&&t&&we(t.x)&&n<t.x,["".concat(iu,"-bottom")]:we(r)&&t&&we(t.y)&&r>=t.y,["".concat(iu,"-top")]:we(r)&&t&&we(t.y)&&r<t.y})}function TO(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:h}=e;if(s&&we(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?p:g;var v=d[r];if(v==null)return 0;if(l[r]){var x=p,w=v;return x<w?Math.max(g,v):Math.max(p,v)}if(h==null)return 0;var _=g+u,E=v+h;return _>E?Math.max(p,v):Math.max(g,v)}function sK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function oK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,h,p,g;return l.height>0&&l.width>0&&n?(p=TO({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=TO({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=sK({translateX:p,translateY:g,useTranslate3d:u})):h=iK,{cssProperties:h,cssClasses:aK({translateX:p,translateY:g,coordinate:n})}}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uK extends S.PureComponent{constructor(){super(...arguments),Sb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:h,position:p,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:w,lastBoundingBox:_,innerRef:E,hasPortalFromProps:j}=this.props,{cssClasses:A,cssProperties:N}=oK({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:x}),D=j?{}:gh(gh({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=gh(gh({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:T,ref:E},s)}}var dK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Gl={devToolsEnabled:!1,isSsr:dK()},VI=()=>{var e;return(e=Se(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=hK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PO={curveBasisClosed:A9,curveBasisOpen:O9,curveBasis:T9,curveBumpX:m9,curveBumpY:p9,curveLinearClosed:k9,curveLinear:up,curveMonotoneX:P9,curveMonotoneY:D9,curveNatural:M9,curveStep:R9,curveStepAfter:L9,curveStepBefore:I9},sm=e=>ln(e.x)&&ln(e.y),DO=e=>e.base!=null&&sm(e.base)&&sm(e),au=e=>e.x,su=e=>e.y,pK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(gd(e));return(n==="curveMonotone"||n==="curveBump")&&t?PO["".concat(n).concat(t==="vertical"?"Y":"X")]:PO[n]||up},gK=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,l=pK(t,i),u=s?n.filter(sm):n,d;if(Array.isArray(r)){var h=n.map((x,w)=>kO(kO({},x),{},{base:r[w]}));i==="vertical"?d=ch().y(su).x1(au).x0(x=>x.base.x):d=ch().x(au).y1(su).y0(x=>x.base.y);var p=d.defined(DO).curve(l),g=s?h.filter(DO):h;return p(g)}i==="vertical"&&we(r)?d=ch().y(su).x1(au).x0(r):we(r)?d=ch().x(au).y1(su).y0(r):d=CR().x(au).y(su);var v=d.defined(sm).curve(l);return v(u)},HI=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?gK(e):r;return S.createElement("path",_b({},yi(e),g1(e),{className:ot("recharts-curve",t),d:s===null?void 0:s,ref:i}))},vK=["x","y","top","left","width","height","className"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e,t,n){return(t=bK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t){if(e==null)return{};var n,r,i=_K(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _K(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EK=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),jK=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=e,d=SK(e,vK),h=yK({x:t,y:n,top:r,left:i,width:s,height:l},d);return!we(t)||!we(n)||!we(s)||!we(l)||!we(r)||!we(i)?null:S.createElement("path",Eb({},Ln(h),{className:ot("recharts-cross",u),d:EK(t,n,s,l,r,i)}))};function CK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(r){NK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NK(e,t,n){return(t=TK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$I=(e,t,n)=>e.map(r=>"".concat(OK(r)," ").concat(t,"ms ").concat(n)).join(","),kK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$u=(e,t)=>Object.keys(t).reduce((n,r)=>IO(IO({},n),{},{[r]:e(r,t[r])}),{});function LO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(n),!0).forEach(function(r){PK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PK(e,t,n){return(t=DK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var om=(e,t,n)=>e+(t-e)*n,jb=e=>{var{from:t,to:n}=e;return t!==n},qI=(e,t,n)=>{var r=$u((i,s)=>{if(jb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Vt(Vt({},s),{},{from:l,velocity:u})}return s},t);return n<1?$u((i,s)=>jb(s)?Vt(Vt({},s),{},{velocity:om(s.velocity,r[i].velocity,n),from:om(s.from,r[i].from,n)}):s,t):qI(e,r,n-1)};function RK(e,t,n,r,i,s){var l,u=r.reduce((v,x)=>Vt(Vt({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>$u((v,x)=>x.from,u),h=()=>!Object.values(u).filter(jb).length,p=null,g=v=>{l||(l=v);var x=v-l,w=x/n.dt;u=qI(n,u,w),i(Vt(Vt(Vt({},e),t),d())),l=v,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function IK(e,t,n,r,i,s,l){var u=null,d=i.reduce((g,v)=>Vt(Vt({},g),{},{[v]:[e[v],t[v]]}),{}),h,p=g=>{h||(h=g);var v=(g-h)/r,x=$u((_,E)=>om(...E,n(v)),d);if(s(Vt(Vt(Vt({},e),t),x)),v<1)u=l.setTimeout(p);else{var w=$u((_,E)=>om(...E,n(1)),d);s(Vt(Vt(Vt({},e),t),w))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const LK=(e,t,n,r,i,s)=>{var l=kK(e,t);return n==null?()=>(i(Vt(Vt({},e),t)),()=>{}):n.isStepper===!0?RK(e,t,n,l,i,s):IK(e,t,n,r,l,i,s)};var lm=1e-4,GI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),BO=(e,t)=>n=>{var r=GI(e,t);return YI(r,n)},BK=(e,t)=>n=>{var r=GI(e,t),i=[...r.map((s,l)=>s*l).slice(1),0];return YI(i,n)},zK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},UK=(e,t,n,r)=>{var i=BO(e,n),s=BO(t,r),l=BK(e,n),u=h=>h>1?1:h<0?0:h,d=h=>{for(var p=h>1?1:h,g=p,v=0;v<8;++v){var x=i(g)-p,w=l(g);if(Math.abs(x-p)<lm||w<lm)return s(g);g=u(g-x/w)}return s(g)};return d.isStepper=!1,d},zO=function(){return UK(...zK(...arguments))},FK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(l,u,d)=>{var h=-(l-u)*n,p=d*r,g=d+(h-p)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<lm&&Math.abs(g)<lm?[u,0]:[v,g]};return s.isStepper=!0,s.dt=i,s},VK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zO(e);case"spring":return FK();default:if(e.split("(")[0]==="cubic-bezier")return zO(e)}return typeof e=="function"?e:null};function HK(e){var t,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...h]=u;if(typeof d=="number"){i=e.setTimeout(s.bind(null,h),d);return}s(d),i=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class $K{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function qK(){return HK(new $K)}var GK=S.createContext(qK);function YK(e,t){var n=S.useContext(GK);return S.useMemo(()=>t??n(e),[e,t,n])}var KK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UO={t:0},Qy={t:1};function j1(e){var t=er(e,KK),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:h}=t,p=YK(t.animationId,t.animationManager),[g,v]=S.useState(n?UO:Qy),x=S.useRef(null);return S.useEffect(()=>{n||v(Qy)},[n]),S.useEffect(()=>{if(!n||!r)return ql;var w=LK(UO,Qy,VK(s),i,v,p.getTimeoutController()),_=()=>{x.current=w()};return p.start([d,l,_,i,u]),()=>{p.stop(),x.current&&x.current(),u()}},[n,r,i,s,l,d,u,p]),h(g.t)}function C1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Uu(t)),r=S.useRef(e);return r.current!==e&&(n.current=Uu(t),r.current=e),n.current}var WK=["radius"],XK=["radius"];function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(r){QK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(e,t,n){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cm.apply(null,arguments)}function HO(e,t){if(e==null)return{};var n,r,i=eW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $O=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=i[g]>s?s:i[g];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),h+="L ".concat(e+n-u*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+n-u*p[2],",").concat(t+r)),h+="L ".concat(e+u*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);h="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n,",").concat(t+l*x,`
            L `).concat(e+n,",").concat(t+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+r-l*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},qO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KI=e=>{var t=er(e,qO),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&i(k)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:h,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:_}=t,E=S.useRef(u),j=S.useRef(d),A=S.useRef(s),N=S.useRef(l),D=S.useMemo(()=>({x:s,y:l,width:u,height:d,radius:h}),[s,l,u,d,h]),T=C1(D,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var P=ot("recharts-rectangle",p);if(!_){var I=Ln(t),{radius:B}=I,H=HO(I,WK);return S.createElement("path",cm({},H,{radius:typeof h=="number"?h:void 0,className:P,d:$O(s,l,u,d,h)}))}var Z=E.current,U=j.current,J=A.current,oe=N.current,de="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),M=$I(["strokeDasharray"],v,typeof g=="string"?g:qO.animationEasing);return S.createElement(j1,{animationId:T,key:T,canBegin:r>0,duration:v,easing:g,isActive:_,begin:x},k=>{var Y=Kn(Z,u,k),V=Kn(U,d,k),se=Kn(J,s,k),R=Kn(oe,l,k);n.current&&(E.current=Y,j.current=V,A.current=se,N.current=R);var G;w?k>0?G={transition:M,strokeDasharray:ae}:G={strokeDasharray:de}:G={strokeDasharray:ae};var ie=Ln(t),{radius:ue}=ie,ve=HO(ie,XK);return S.createElement("path",cm({},ve,{radius:typeof h=="number"?h:void 0,className:P,d:$O(se,R,Y,V,h),ref:n,style:VO(VO({},G),t.style)}))})};function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){tW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tW(e,t,n){return(t=nW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var um=Math.PI/180,iW=e=>e*180/Math.PI,wn=(e,t,n,r)=>({x:e+Math.cos(-um*r)*n,y:t+Math.sin(-um*r)*n}),aW=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sW=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},oW=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,l=sW({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:iW(d),angleInRadian:d}},lW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},cW=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return e+l*360},uW=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=oW({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:h}=lW(t),p=s,g;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=d}return g?YO(YO({},t),{},{radius:i,angle:cW(p,t)}):null};function WI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,l=wn(t,n,r,i),u=wn(t,n,r,s);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cb.apply(null,arguments)}var dW=(e,t)=>{var n=zr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},vh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,h=u*(l?1:-1)+r,p=Math.asin(u/h)/um,g=d?i:i+s*p,v=wn(t,n,h,g),x=wn(t,n,r,g),w=d?i-s*p:i,_=wn(t,n,h*Math.cos(p*um),w);return{center:v,circleTangency:x,lineTangency:_,theta:p}},XI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=e,u=dW(s,l),d=s+u,h=wn(t,n,i,s),p=wn(t,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=wn(t,n,r,s),x=wn(t,n,r,d);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},fW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}=e,p=zr(h-d),{circleTangency:g,lineTangency:v,theta:x}=vh({cx:t,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:w,lineTangency:_,theta:E}=vh({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-h):Math.abs(d-h)-x-E;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):XI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:D,theta:T}=vh({cx:t,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:P,lineTangency:I,theta:B}=vh({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),H=u?Math.abs(d-h):Math.abs(d-h)-T-B;if(H<0&&s===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},hW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QI=e=>{var t=er(e,hW),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p,className:g}=t;if(s<i||h===p)return null;var v=ot("recharts-sector",g),x=s-i,w=ss(l,x,0,!0),_;return w>0&&Math.abs(h-p)<360?_=fW({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:p}):_=XI({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),S.createElement("path",Cb({},Ln(t),{className:v,d:_}))};function mW(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(VR(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=t,d=wn(r,i,s,u),h=wn(r,i,l,u);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return WI(t)}}var Zy={},Jy={},ex={},KO;function pW(){return KO||(KO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JR();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ex)),ex}var WO;function gW(){return WO||(WO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pW();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Jy)),Jy}var XO;function vW(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eI(),n=gW();function r(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let h=0;h<u;h++)d[h]=i,i+=l;return d}e.range=r})(Zy)),Zy}var tx,QO;function yW(){return QO||(QO=1,tx=vW().range),tx}var xW=yW();const ZI=Ei(xW);function Qa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function N1(e){let t,n,r;e.length!==2?(t=Qa,n=(u,d)=>Qa(e(u),d),r=(u,d)=>e(u)-d):(t=e===Qa||e===bW?e:wW,n=e,r=e);function i(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<0?h=g+1:p=g}while(h<p)}return h}function s(u,d,h=0,p=u.length){if(h<p){if(t(d,d)!==0)return p;do{const g=h+p>>>1;n(u[g],d)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,d,h=0,p=u.length){const g=i(u,d,h,p-1);return g>h&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function wW(){return 0}function JI(e){return e===null?NaN:+e}function*SW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _W=N1(Qa),bd=_W.right;N1(JI).center;class ZO extends Map{constructor(t,n=CW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(JO(this,t))}has(t){return super.has(JO(this,t))}set(t,n){return super.set(EW(this,t),n)}delete(t){return super.delete(jW(this,t))}}function JO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function EW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function CW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NW(e=Qa){if(e===Qa)return eL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function eL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TW=Math.sqrt(50),AW=Math.sqrt(10),OW=Math.sqrt(2);function dm(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=TW?10:s>=AW?5:s>=OW?2:1;let u,d,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),d=Math.round(t*h),u/h<e&&++u,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),d=Math.round(t/h),u*h<e&&++u,d*h>t&&--d),d<u&&.5<=n&&n<2?dm(e,t,n*2):[u,d,h]}function Nb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?dm(t,e,n):dm(e,t,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)d[h]=(s-h)/-l;else for(let h=0;h<u;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)d[h]=(i+h)/-l;else for(let h=0;h<u;++h)d[h]=(i+h)*l;return d}function Tb(e,t,n){return t=+t,e=+e,n=+n,dm(e,t,n)[2]}function Ab(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Tb(t,e,n):Tb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function e2(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t2(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tL(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?eL:NW(i);r>n;){if(r-n>600){const d=r-n+1,h=t-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(h-d/2<0?-1:1),x=Math.max(n,Math.floor(t-h*g/d+v)),w=Math.min(r,Math.floor(t+(d-h)*g/d+v));tL(e,t,x,w,i)}const s=e[t];let l=n,u=r;for(ou(e,n,t),i(e[r],s)>0&&ou(e,n,r);l<u;){for(ou(e,l,u),++l,--u;i(e[l],s)<0;)++l;for(;i(e[u],s)>0;)--u}i(e[n],s)===0?ou(e,n,u):(++u,ou(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function ou(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kW(e,t,n){if(e=Float64Array.from(SW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return t2(e);if(t>=1)return e2(e);var r,i=(r-1)*t,s=Math.floor(i),l=e2(tL(e,s).subarray(0,s+1)),u=t2(e.subarray(s+1));return l+(u-l)*(i-s)}}function PW(e,t,n=JI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return l+(u-l)*(i-s)}}function DW(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ga(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ob=Symbol("implicit");function T1(){var e=new ZO,t=[],n=[],r=Ob;function i(s){let l=e.get(s);if(l===void 0){if(r!==Ob)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ZO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return T1(t,n).unknown(r)},Gr.apply(i,arguments),i}function A1(){var e=T1().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,u=!1,d=0,h=0,p=.5;delete e.unknown;function g(){var v=t().length,x=i<r,w=x?i:r,_=x?r:i;s=(_-w)/Math.max(1,v-d+h*2),u&&(s=Math.floor(s)),w+=(_-w-s*(v-d))*p,l=s*(1-d),u&&(w=Math.round(w),l=Math.round(l));var E=DW(v).map(function(j){return w+s*j});return n(x?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return A1(t(),[r,i]).round(u).paddingInner(d).paddingOuter(h).align(p)},Gr.apply(g(),arguments)}function nL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nL(t())},e}function MW(){return nL(A1.apply(null,arguments).paddingInner(1))}function O1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rL(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function wd(){}var qu=.7,fm=1/qu,wl="\\s*([+-]?\\d+)\\s*",Gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RW=/^#([0-9a-f]{3,8})$/,IW=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),LW=new RegExp(`^rgb\\(${gi},${gi},${gi}\\)$`),BW=new RegExp(`^rgba\\(${wl},${wl},${wl},${Gu}\\)$`),zW=new RegExp(`^rgba\\(${gi},${gi},${gi},${Gu}\\)$`),UW=new RegExp(`^hsl\\(${Gu},${gi},${gi}\\)$`),FW=new RegExp(`^hsla\\(${Gu},${gi},${gi},${Gu}\\)$`),n2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O1(wd,Yu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:r2,formatHex:r2,formatHex8:VW,formatHsl:HW,formatRgb:i2,toString:i2});function r2(){return this.rgb().formatHex()}function VW(){return this.rgb().formatHex8()}function HW(){return iL(this).formatHsl()}function i2(){return this.rgb().formatRgb()}function Yu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?a2(t):n===3?new Wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IW.exec(e))?new Wn(t[1],t[2],t[3],1):(t=LW.exec(e))?new Wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BW.exec(e))?yh(t[1],t[2],t[3],t[4]):(t=zW.exec(e))?yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UW.exec(e))?l2(t[1],t[2]/100,t[3]/100,1):(t=FW.exec(e))?l2(t[1],t[2]/100,t[3]/100,t[4]):n2.hasOwnProperty(e)?a2(n2[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function a2(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function yh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wn(e,t,n,r)}function $W(e){return e instanceof wd||(e=Yu(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function kb(e,t,n,r){return arguments.length===1?$W(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}O1(Wn,kb,rL(wd,{brighter(e){return e=e==null?fm:Math.pow(fm,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wn(Js(this.r),Js(this.g),Js(this.b),hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s2,formatHex:s2,formatHex8:qW,formatRgb:o2,toString:o2}));function s2(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function qW(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function o2(){const e=hm(this.opacity);return`${e===1?"rgb(":"rgba("}${Js(this.r)}, ${Js(this.g)}, ${Js(this.b)}${e===1?")":`, ${e})`}`}function hm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Js(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $s(e){return e=Js(e),(e<16?"0":"")+e.toString(16)}function l2(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zr(e,t,n,r)}function iL(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);if(e instanceof wd||(e=Yu(e)),!e)return new Zr;if(e instanceof Zr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(t===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Zr(l,u,d,e.opacity)}function GW(e,t,n,r){return arguments.length===1?iL(e):new Zr(e,t,n,r??1)}function Zr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}O1(Zr,GW,rL(wd,{brighter(e){return e=e==null?fm:Math.pow(fm,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Wn(nx(e>=240?e-240:e+120,i,r),nx(e,i,r),nx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zr(c2(this.h),xh(this.s),xh(this.l),hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hm(this.opacity);return`${e===1?"hsl(":"hsla("}${c2(this.h)}, ${xh(this.s)*100}%, ${xh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c2(e){return e=(e||0)%360,e<0?e+360:e}function xh(e){return Math.max(0,Math.min(1,e||0))}function nx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k1=e=>()=>e;function YW(e,t){return function(n){return e+n*t}}function KW(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function WW(e){return(e=+e)==1?aL:function(t,n){return n-t?KW(t,n,e):k1(isNaN(t)?n:t)}}function aL(e,t){var n=t-e;return n?YW(e,n):k1(isNaN(e)?t:e)}const u2=(function e(t){var n=WW(t);function r(i,s){var l=n((i=kb(i)).r,(s=kb(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),h=aL(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function XW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function QW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZW(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Yl(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function JW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Yl(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rx=new RegExp(Pb.source,"g");function tX(e){return function(){return e}}function nX(e){return function(t){return e(t)+""}}function rX(e,t){var n=Pb.lastIndex=rx.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=Pb.exec(e))&&(i=rx.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:mm(r,i)})),n=rx.lastIndex;return n<t.length&&(s=t.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?nX(d[0].x):tX(t):(t=d.length,function(h){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(h);return u.join("")})}function Yl(e,t){var n=typeof t,r;return t==null||n==="boolean"?k1(t):(n==="number"?mm:n==="string"?(r=Yu(t))?(t=r,u2):rX:t instanceof Yu?u2:t instanceof Date?JW:QW(t)?XW:Array.isArray(t)?ZW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eX:mm)(e,t)}function P1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iX(e,t){t===void 0&&(t=e,e=Yl);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function aX(e){return function(){return e}}function pm(e){return+e}var d2=[0,1];function Pn(e){return e}function Db(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aX(isNaN(t)?NaN:.5)}function sX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function oX(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=Db(i,r),s=n(l,s)):(r=Db(r,i),s=n(s,l)),function(u){return s(r(u))}}function lX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Db(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(u){var d=bd(e,u,1,r)-1;return s[d](i[d](u))}}function Sd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cp(){var e=d2,t=d2,n=Yl,r,i,s,l=Pn,u,d,h;function p(){var v=Math.min(e.length,t.length);return l!==Pn&&(l=sX(e[0],e[v-1])),u=v>2?lX:oX,d=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((h||(h=u(t,e.map(r),mm)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,pm),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=P1,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Pn,p()):l!==Pn},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,x){return r=v,i=x,p()}}function D1(){return Cp()(Pn,Pn)}function cX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gm(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ol(e){return e=gm(Math.abs(e)),e?e[1]:NaN}function uX(e,t){return function(n,r){for(var i=n.length,s=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function dX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ku(e){if(!(t=fX.exec(e)))throw new Error("invalid format: "+e);var t;return new M1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ku.prototype=M1.prototype;function M1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}M1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var sL;function mX(e,t){var n=gm(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(sL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+gm(e,Math.max(0,t+s-1))[0]}function f2(e,t){var n=gm(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const h2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>f2(e*100,t),r:f2,s:mX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function m2(e){return e}var p2=Array.prototype.map,g2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pX(e){var t=e.grouping===void 0||e.thousands===void 0?m2:uX(p2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?m2:dX(p2.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(g){g=Ku(g);var v=g.fill,x=g.align,w=g.sign,_=g.symbol,E=g.zero,j=g.width,A=g.comma,N=g.precision,D=g.trim,T=g.type;T==="n"?(A=!0,T="g"):h2[T]||(N===void 0&&(N=12),D=!0,T="g"),(E||v==="0"&&x==="=")&&(E=!0,v="0",x="=");var P=_==="$"?n:_==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=_==="$"?r:/[%p]/.test(T)?l:"",B=h2[T],H=/[defgprs%]/.test(T);N=N===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function Z(U){var J=P,oe=I,de,ae,M;if(T==="c")oe=B(U)+oe,U="";else{U=+U;var k=U<0||1/U<0;if(U=isNaN(U)?d:B(Math.abs(U),N),D&&(U=hX(U)),k&&+U==0&&w!=="+"&&(k=!1),J=(k?w==="("?w:u:w==="-"||w==="("?"":w)+J,oe=(T==="s"?g2[8+sL/3]:"")+oe+(k&&w==="("?")":""),H){for(de=-1,ae=U.length;++de<ae;)if(M=U.charCodeAt(de),48>M||M>57){oe=(M===46?i+U.slice(de+1):U.slice(de))+oe,U=U.slice(0,de);break}}}A&&!E&&(U=t(U,1/0));var Y=J.length+U.length+oe.length,V=Y<j?new Array(j-Y+1).join(v):"";switch(A&&E&&(U=t(V+U,V.length?j-oe.length:1/0),V=""),x){case"<":U=J+U+oe+V;break;case"=":U=J+V+U+oe;break;case"^":U=V.slice(0,Y=V.length>>1)+J+U+oe+V.slice(Y);break;default:U=V+J+U+oe;break}return s(U)}return Z.toString=function(){return g+""},Z}function p(g,v){var x=h((g=Ku(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(Ol(v)/3)))*3,_=Math.pow(10,-w),E=g2[8+w/3];return function(j){return x(_*j)+E}}return{format:h,formatPrefix:p}}var bh,R1,oL;gX({thousands:",",grouping:[3],currency:["$",""]});function gX(e){return bh=pX(e),R1=bh.format,oL=bh.formatPrefix,bh}function vX(e){return Math.max(0,-Ol(Math.abs(e)))}function yX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ol(t)/3)))*3-Ol(Math.abs(e)))}function xX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ol(t)-Ol(e))+1}function lL(e,t,n,r){var i=Ab(e,t,n),s;switch(r=Ku(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=yX(i,l))&&(r.precision=s),oL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vX(i))&&(r.precision=s-(r.type==="%")*2);break}}return R1(r)}function fs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Nb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return lL(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],u=r[s],d,h,p=10;for(u<l&&(h=l,l=u,u=h,h=i,i=s,s=h);p-- >0;){if(h=Tb(l,u,n),h===d)return r[i]=l,r[s]=u,t(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;d=h}return e},e}function cL(){var e=D1();return e.copy=function(){return Sd(e,cL())},Gr.apply(e,arguments),fs(e)}function uL(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,pm),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return uL(e).unknown(t)},e=arguments.length?Array.from(e,pm):[0,1],fs(n)}function dL(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function v2(e){return Math.log(e)}function y2(e){return Math.exp(e)}function bX(e){return-Math.log(-e)}function wX(e){return-Math.exp(-e)}function SX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _X(e){return e===10?SX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function EX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x2(e){return(t,n)=>-e(-t,n)}function I1(e){const t=e(v2,y2),n=t.domain;let r=10,i,s;function l(){return i=EX(r),s=_X(r),n()[0]<0?(i=x2(i),s=x2(s),e(bX,wX)):e(v2,y2),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let h=d[0],p=d[d.length-1];const g=p<h;g&&([h,p]=[p,h]);let v=i(h),x=i(p),w,_;const E=u==null?10:+u;let j=[];if(!(r%1)&&x-v<E){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(w=1;w<r;++w)if(_=v<0?w/s(-v):w*s(v),!(_<h)){if(_>p)break;j.push(_)}}else for(;v<=x;++v)for(w=r-1;w>=1;--w)if(_=v>0?w/s(-v):w*s(v),!(_<h)){if(_>p)break;j.push(_)}j.length*2<E&&(j=Nb(h,p,E))}else j=Nb(v,x,Math.min(x-v,E)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Ku(d)).precision==null&&(d.trim=!0),d=R1(d)),u===1/0)return d;const h=Math.max(1,r*u/t.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=h?d(p):""}},t.nice=()=>n(dL(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function fL(){const e=I1(Cp()).domain([1,10]);return e.copy=()=>Sd(e,fL()).base(e.base()),Gr.apply(e,arguments),e}function b2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function w2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function L1(e){var t=1,n=e(b2(t),w2(t));return n.constant=function(r){return arguments.length?e(b2(t=+r),w2(t)):t},fs(n)}function hL(){var e=L1(Cp());return e.copy=function(){return Sd(e,hL()).constant(e.constant())},Gr.apply(e,arguments)}function S2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CX(e){return e<0?-e*e:e*e}function B1(e){var t=e(Pn,Pn),n=1;function r(){return n===1?e(Pn,Pn):n===.5?e(jX,CX):e(S2(n),S2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},fs(t)}function z1(){var e=B1(Cp());return e.copy=function(){return Sd(e,z1()).exponent(e.exponent())},Gr.apply(e,arguments),e}function NX(){return z1.apply(null,arguments).exponent(.5)}function _2(e){return Math.sign(e)*e*e}function TX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function mL(){var e=D1(),t=[0,1],n=!1,r;function i(s){var l=TX(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert(_2(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,pm)).map(_2)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return mL(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Gr.apply(i,arguments),fs(i)}function pL(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=PW(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:t[bd(n,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Qa),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return pL().domain(e).range(t).unknown(r)},Gr.apply(s,arguments)}function gL(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[bd(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return gL().domain([e,t]).range(i).unknown(s)},Gr.apply(fs(l),arguments)}function vL(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[bd(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vL().domain(e).range(t).unknown(n)},Gr.apply(i,arguments)}const ix=new Date,ax=new Date;function Yt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let h;do d.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<l);return d},i.filter=s=>Yt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(ix.setTime(+s),ax.setTime(+l),e(ix),e(ax),Math.floor(n(ix,ax))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const vm=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vm);vm.range;const Yi=1e3,Ur=Yi*60,Ki=Ur*60,sa=Ki*24,U1=sa*7,E2=sa*30,sx=sa*365,qs=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds());qs.range;const F1=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getMinutes());F1.range;const V1=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCMinutes());V1.range;const H1=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*Ur)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());H1.range;const $1=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());$1.range;const _d=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/sa,e=>e.getDate()-1);_d.range;const Np=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>e.getUTCDate()-1);Np.range;const yL=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sa,e=>Math.floor(e/sa));yL.range;function vo(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/U1)}const Tp=vo(0),ym=vo(1),AX=vo(2),OX=vo(3),kl=vo(4),kX=vo(5),PX=vo(6);Tp.range;ym.range;AX.range;OX.range;kl.range;kX.range;PX.range;function yo(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/U1)}const Ap=yo(0),xm=yo(1),DX=yo(2),MX=yo(3),Pl=yo(4),RX=yo(5),IX=yo(6);Ap.range;xm.range;DX.range;MX.range;Pl.range;RX.range;IX.range;const q1=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q1.range;const G1=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());G1.range;const oa=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oa.range;const la=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());la.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});la.range;function xL(e,t,n,r,i,s){const l=[[qs,1,Yi],[qs,5,5*Yi],[qs,15,15*Yi],[qs,30,30*Yi],[s,1,Ur],[s,5,5*Ur],[s,15,15*Ur],[s,30,30*Ur],[i,1,Ki],[i,3,3*Ki],[i,6,6*Ki],[i,12,12*Ki],[r,1,sa],[r,2,2*sa],[n,1,U1],[t,1,E2],[t,3,3*E2],[e,1,sx]];function u(h,p,g){const v=p<h;v&&([h,p]=[p,h]);const x=g&&typeof g.range=="function"?g:d(h,p,g),w=x?x.range(h,+p+1):[];return v?w.reverse():w}function d(h,p,g){const v=Math.abs(p-h)/g,x=N1(([,,E])=>E).right(l,v);if(x===l.length)return e.every(Ab(h/sx,p/sx,g));if(x===0)return vm.every(Math.max(Ab(h,p,g),1));const[w,_]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return w.every(_)}return[u,d]}const[LX,BX]=xL(la,G1,Ap,yL,$1,V1),[zX,UX]=xL(oa,q1,Tp,_d,H1,F1);function ox(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function FX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,h=cu(i),p=uu(i),g=cu(s),v=uu(s),x=cu(l),w=uu(l),_=cu(u),E=uu(u),j=cu(d),A=uu(d),N={a:k,A:Y,b:V,B:se,c:null,d:O2,e:O2,f:uQ,g:bQ,G:SQ,H:oQ,I:lQ,j:cQ,L:bL,m:dQ,M:fQ,p:R,q:G,Q:D2,s:M2,S:hQ,u:mQ,U:pQ,V:gQ,w:vQ,W:yQ,x:null,X:null,y:xQ,Y:wQ,Z:_Q,"%":P2},D={a:ie,A:ue,b:ve,B:Ne,c:null,d:k2,e:k2,f:NQ,g:LQ,G:zQ,H:EQ,I:jQ,j:CQ,L:SL,m:TQ,M:AQ,p:te,q:ye,Q:D2,s:M2,S:OQ,u:kQ,U:PQ,V:DQ,w:MQ,W:RQ,x:null,X:null,y:IQ,Y:BQ,Z:UQ,"%":P2},T={a:Z,A:U,b:J,B:oe,c:de,d:T2,e:T2,f:rQ,g:N2,G:C2,H:A2,I:A2,j:JX,L:nQ,m:ZX,M:eQ,p:H,q:QX,Q:aQ,s:sQ,S:tQ,u:GX,U:YX,V:KX,w:qX,W:WX,x:ae,X:M,y:N2,Y:C2,Z:XX,"%":iQ};N.x=P(n,N),N.X=P(r,N),N.c=P(t,N),D.x=P(n,D),D.X=P(r,D),D.c=P(t,D);function P(W,je){return function(De){var le=[],dn=-1,$e=0,fn=W.length,hn,Ci,oc;for(De instanceof Date||(De=new Date(+De));++dn<fn;)W.charCodeAt(dn)===37&&(le.push(W.slice($e,dn)),(Ci=j2[hn=W.charAt(++dn)])!=null?hn=W.charAt(++dn):Ci=hn==="e"?" ":"0",(oc=je[hn])&&(hn=oc(De,Ci)),le.push(hn),$e=dn+1);return le.push(W.slice($e,dn)),le.join("")}}function I(W,je){return function(De){var le=lu(1900,void 0,1),dn=B(le,W,De+="",0),$e,fn;if(dn!=De.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(je&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?($e=lx(lu(le.y,0,1)),fn=$e.getUTCDay(),$e=fn>4||fn===0?xm.ceil($e):xm($e),$e=Np.offset($e,(le.V-1)*7),le.y=$e.getUTCFullYear(),le.m=$e.getUTCMonth(),le.d=$e.getUTCDate()+(le.w+6)%7):($e=ox(lu(le.y,0,1)),fn=$e.getDay(),$e=fn>4||fn===0?ym.ceil($e):ym($e),$e=_d.offset($e,(le.V-1)*7),le.y=$e.getFullYear(),le.m=$e.getMonth(),le.d=$e.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),fn="Z"in le?lx(lu(le.y,0,1)).getUTCDay():ox(lu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(fn+5)%7:le.w+le.U*7-(fn+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,lx(le)):ox(le)}}function B(W,je,De,le){for(var dn=0,$e=je.length,fn=De.length,hn,Ci;dn<$e;){if(le>=fn)return-1;if(hn=je.charCodeAt(dn++),hn===37){if(hn=je.charAt(dn++),Ci=T[hn in j2?je.charAt(dn++):hn],!Ci||(le=Ci(W,De,le))<0)return-1}else if(hn!=De.charCodeAt(le++))return-1}return le}function H(W,je,De){var le=h.exec(je.slice(De));return le?(W.p=p.get(le[0].toLowerCase()),De+le[0].length):-1}function Z(W,je,De){var le=x.exec(je.slice(De));return le?(W.w=w.get(le[0].toLowerCase()),De+le[0].length):-1}function U(W,je,De){var le=g.exec(je.slice(De));return le?(W.w=v.get(le[0].toLowerCase()),De+le[0].length):-1}function J(W,je,De){var le=j.exec(je.slice(De));return le?(W.m=A.get(le[0].toLowerCase()),De+le[0].length):-1}function oe(W,je,De){var le=_.exec(je.slice(De));return le?(W.m=E.get(le[0].toLowerCase()),De+le[0].length):-1}function de(W,je,De){return B(W,t,je,De)}function ae(W,je,De){return B(W,n,je,De)}function M(W,je,De){return B(W,r,je,De)}function k(W){return l[W.getDay()]}function Y(W){return s[W.getDay()]}function V(W){return d[W.getMonth()]}function se(W){return u[W.getMonth()]}function R(W){return i[+(W.getHours()>=12)]}function G(W){return 1+~~(W.getMonth()/3)}function ie(W){return l[W.getUTCDay()]}function ue(W){return s[W.getUTCDay()]}function ve(W){return d[W.getUTCMonth()]}function Ne(W){return u[W.getUTCMonth()]}function te(W){return i[+(W.getUTCHours()>=12)]}function ye(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var je=P(W+="",N);return je.toString=function(){return W},je},parse:function(W){var je=I(W+="",!1);return je.toString=function(){return W},je},utcFormat:function(W){var je=P(W+="",D);return je.toString=function(){return W},je},utcParse:function(W){var je=I(W+="",!0);return je.toString=function(){return W},je}}}var j2={"-":"",_:" ",0:"0"},un=/^\s*\d+/,VX=/^%/,HX=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function $X(e){return e.replace(HX,"\\$&")}function cu(e){return new RegExp("^(?:"+e.map($X).join("|")+")","i")}function uu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function qX(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function GX(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function YX(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function KX(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function WX(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function C2(e,t,n){var r=un.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function N2(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QX(e,t,n){var r=un.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ZX(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function T2(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function JX(e,t,n){var r=un.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function A2(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=un.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nQ(e,t,n){var r=un.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rQ(e,t,n){var r=un.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iQ(e,t,n){var r=VX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aQ(e,t,n){var r=un.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=un.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function O2(e,t){return Xe(e.getDate(),t,2)}function oQ(e,t){return Xe(e.getHours(),t,2)}function lQ(e,t){return Xe(e.getHours()%12||12,t,2)}function cQ(e,t){return Xe(1+_d.count(oa(e),e),t,3)}function bL(e,t){return Xe(e.getMilliseconds(),t,3)}function uQ(e,t){return bL(e,t)+"000"}function dQ(e,t){return Xe(e.getMonth()+1,t,2)}function fQ(e,t){return Xe(e.getMinutes(),t,2)}function hQ(e,t){return Xe(e.getSeconds(),t,2)}function mQ(e){var t=e.getDay();return t===0?7:t}function pQ(e,t){return Xe(Tp.count(oa(e)-1,e),t,2)}function wL(e){var t=e.getDay();return t>=4||t===0?kl(e):kl.ceil(e)}function gQ(e,t){return e=wL(e),Xe(kl.count(oa(e),e)+(oa(e).getDay()===4),t,2)}function vQ(e){return e.getDay()}function yQ(e,t){return Xe(ym.count(oa(e)-1,e),t,2)}function xQ(e,t){return Xe(e.getFullYear()%100,t,2)}function bQ(e,t){return e=wL(e),Xe(e.getFullYear()%100,t,2)}function wQ(e,t){return Xe(e.getFullYear()%1e4,t,4)}function SQ(e,t){var n=e.getDay();return e=n>=4||n===0?kl(e):kl.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function _Q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function k2(e,t){return Xe(e.getUTCDate(),t,2)}function EQ(e,t){return Xe(e.getUTCHours(),t,2)}function jQ(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function CQ(e,t){return Xe(1+Np.count(la(e),e),t,3)}function SL(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function NQ(e,t){return SL(e,t)+"000"}function TQ(e,t){return Xe(e.getUTCMonth()+1,t,2)}function AQ(e,t){return Xe(e.getUTCMinutes(),t,2)}function OQ(e,t){return Xe(e.getUTCSeconds(),t,2)}function kQ(e){var t=e.getUTCDay();return t===0?7:t}function PQ(e,t){return Xe(Ap.count(la(e)-1,e),t,2)}function _L(e){var t=e.getUTCDay();return t>=4||t===0?Pl(e):Pl.ceil(e)}function DQ(e,t){return e=_L(e),Xe(Pl.count(la(e),e)+(la(e).getUTCDay()===4),t,2)}function MQ(e){return e.getUTCDay()}function RQ(e,t){return Xe(xm.count(la(e)-1,e),t,2)}function IQ(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function LQ(e,t){return e=_L(e),Xe(e.getUTCFullYear()%100,t,2)}function BQ(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function zQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pl(e):Pl.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function UQ(){return"+0000"}function P2(){return"%"}function D2(e){return+e}function M2(e){return Math.floor(+e/1e3)}var ol,EL,jL;FQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FQ(e){return ol=FX(e),EL=ol.format,ol.parse,jL=ol.utcFormat,ol.utcParse,ol}function VQ(e){return new Date(e)}function HQ(e){return e instanceof Date?+e:+new Date(+e)}function Y1(e,t,n,r,i,s,l,u,d,h){var p=D1(),g=p.invert,v=p.domain,x=h(".%L"),w=h(":%S"),_=h("%I:%M"),E=h("%I %p"),j=h("%a %d"),A=h("%b %d"),N=h("%B"),D=h("%Y");function T(P){return(d(P)<P?x:u(P)<P?w:l(P)<P?_:s(P)<P?E:r(P)<P?i(P)<P?j:A:n(P)<P?N:D)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?v(Array.from(P,HQ)):v().map(VQ)},p.ticks=function(P){var I=v();return e(I[0],I[I.length-1],P??10)},p.tickFormat=function(P,I){return I==null?T:h(I)},p.nice=function(P){var I=v();return(!P||typeof P.range!="function")&&(P=t(I[0],I[I.length-1],P??10)),P?v(dL(I,P)):p},p.copy=function(){return Sd(p,Y1(e,t,n,r,i,s,l,u,d,h))},p}function $Q(){return Gr.apply(Y1(zX,UX,oa,q1,Tp,_d,H1,F1,qs,EL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qQ(){return Gr.apply(Y1(LX,BX,la,G1,Ap,Np,$1,V1,qs,jL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Op(){var e=0,t=1,n,r,i,s,l=Pn,u=!1,d;function h(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(v){var x,w;return arguments.length?([x,w]=v,l=g(x,w),h):[l(0),l(1)]}}return h.range=p(Yl),h.rangeRound=p(P1),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return s=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),h}}function hs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CL(){var e=fs(Op()(Pn));return e.copy=function(){return hs(e,CL())},ga.apply(e,arguments)}function NL(){var e=I1(Op()).domain([1,10]);return e.copy=function(){return hs(e,NL()).base(e.base())},ga.apply(e,arguments)}function TL(){var e=L1(Op());return e.copy=function(){return hs(e,TL()).constant(e.constant())},ga.apply(e,arguments)}function K1(){var e=B1(Op());return e.copy=function(){return hs(e,K1()).exponent(e.exponent())},ga.apply(e,arguments)}function GQ(){return K1.apply(null,arguments).exponent(.5)}function AL(){var e=[],t=Pn;function n(r){if(r!=null&&!isNaN(r=+r))return t((bd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>kW(e,s/r))},n.copy=function(){return AL(t).domain(e)},ga.apply(n,arguments)}function kp(){var e=0,t=.5,n=1,r=1,i,s,l,u,d,h=Pn,p,g=!1,v;function x(_){return isNaN(_=+_)?v:(_=.5+((_=+p(_))-s)*(r*_<r*s?u:d),h(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([e,t,n]=_,i=p(e=+e),s=p(t=+t),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x):[e,t,n]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(h=_,x):h};function w(_){return function(E){var j,A,N;return arguments.length?([j,A,N]=E,h=iX(_,[j,A,N]),x):[h(0),h(.5),h(1)]}}return x.range=w(Yl),x.rangeRound=w(P1),x.unknown=function(_){return arguments.length?(v=_,x):v},function(_){return p=_,i=_(e),s=_(t),l=_(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,x}}function OL(){var e=fs(kp()(Pn));return e.copy=function(){return hs(e,OL())},ga.apply(e,arguments)}function kL(){var e=I1(kp()).domain([.1,1,10]);return e.copy=function(){return hs(e,kL()).base(e.base())},ga.apply(e,arguments)}function PL(){var e=L1(kp());return e.copy=function(){return hs(e,PL()).constant(e.constant())},ga.apply(e,arguments)}function W1(){var e=B1(kp());return e.copy=function(){return hs(e,W1()).exponent(e.exponent())},ga.apply(e,arguments)}function YQ(){return W1.apply(null,arguments).exponent(.5)}const bu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:A1,scaleDiverging:OL,scaleDivergingLog:kL,scaleDivergingPow:W1,scaleDivergingSqrt:YQ,scaleDivergingSymlog:PL,scaleIdentity:uL,scaleImplicit:Ob,scaleLinear:cL,scaleLog:fL,scaleOrdinal:T1,scalePoint:MW,scalePow:z1,scaleQuantile:pL,scaleQuantize:gL,scaleRadial:mL,scaleSequential:CL,scaleSequentialLog:NL,scaleSequentialPow:K1,scaleSequentialQuantile:AL,scaleSequentialSqrt:GQ,scaleSequentialSymlog:TL,scaleSqrt:NX,scaleSymlog:hL,scaleThreshold:vL,scaleTime:$Q,scaleUtc:qQ,tickFormat:lL},Symbol.toStringTag,{value:"Module"}));var ms=e=>e.chartData,KQ=Q([ms],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),X1=(e,t,n,r)=>r?KQ(e):ms(e);function ro(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ln(t)&&ln(n))return!0}return!1}function R2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DL(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(ln(n))i=n;else if(typeof n=="function")return;if(ln(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(ro(l))return l}}function WQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ro(r))return R2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(we(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&vO.test(i)){var d=vO.exec(i);if(d==null||t==null)l=void 0;else{var h=+d[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(we(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&yO.test(s)){var p=yO.exec(s);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(ro(v))return t==null?v:R2(v,t,n)}}}var Kl=1e9,XQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Z1,bt=!0,Vr="[DecimalError] ",eo=Vr+"Invalid argument: ",Q1=Vr+"Exponent out of range: ",Wl=Math.floor,Us=Math.pow,QQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,tn=1e7,gt=7,ML=9007199254740991,bm=Wl(ML/gt),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return ea(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return st(ea(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return zt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(vr))throw Error(Vr+"NaN");if(n.s<1)throw Error(Vr+(n.s?"NaN":"-Infinity"));return n.eq(vr)?new r(0):(bt=!1,t=ea(Wu(n,s),Wu(e,s),s),bt=!0,st(t,i))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LL(t,e):RL(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Vr+"NaN");return n.s?(bt=!1,t=ea(n,e,0,1).times(e),bt=!0,n.minus(t)):st(new r(n),i)};fe.naturalExponential=fe.exp=function(){return IL(this)};fe.naturalLogarithm=fe.ln=function(){return Wu(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RL(t,e):LL(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eo+e);if(t=zt(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Vr+"NaN")}for(e=zt(u),bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=hi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(ea(u,s,l+2)).times(.5),hi(s.d).slice(0,l)===(t=hi(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(st(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;l+=4}return bt=!0,st(r,n)};fe.times=fe.mul=function(e){var t,n,r,i,s,l,u,d,h,p=this,g=p.constructor,v=p.d,x=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,n=p.e+e.e,d=v.length,h=x.length,d<h&&(s=v,v=x,x=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=d+r;i>r;)u=s[i]+x[r]*v[i-r-1]+t,s[i--]=u%tn|0,t=u/tn|0;s[i]=(s[i]+t)%tn|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,bt?st(e,g.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Si(e,0,Kl),t===void 0?t=r.rounding:Si(t,0,8),st(n,e+zt(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=io(r,!0):(Si(e,0,Kl),t===void 0?t=i.rounding:Si(t,0,8),r=st(new i(r),e+1,t),n=io(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?io(i):(Si(e,0,Kl),t===void 0?t=s.rounding:Si(t,0,8),r=st(new s(i),e+zt(i)+1,t),n=io(r.abs(),!1,e+zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return st(new t(e),zt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,i,s,l,u=this,d=u.constructor,h=12,p=+(e=new d(e));if(!e.s)return new d(vr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Vr+"Infinity");return u}if(u.eq(vr))return u;if(r=d.precision,e.eq(vr))return st(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=u.s,l){if((n=p<0?-p:p)<=ML){for(i=new d(vr),t=Math.ceil(r/gt+4),bt=!1;n%2&&(i=i.times(u),L2(i.d,t)),n=Wl(n/2),n!==0;)u=u.times(u),L2(u.d,t);return bt=!0,e.s<0?new d(vr).div(i):st(i,r)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,bt=!1,i=e.times(Wu(u,r+h)),bt=!0,i=IL(i),i.s=s,i};fe.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=zt(i),r=io(i,n<=s.toExpNeg||n>=s.toExpPos)):(Si(e,1,Kl),t===void 0?t=s.rounding:Si(t,0,8),i=st(new s(i),e,t),n=zt(i),r=io(i,e<=n||n<=s.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Si(e,1,Kl),t===void 0?t=r.rounding:Si(t,0,8)),st(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),n=e.constructor;return io(e,t<=n.toExpNeg||t>=n.toExpPos)};function RL(e,t){var n,r,i,s,l,u,d,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),bt?st(t,g):t;if(d=e.d,h=t.d,l=e.e,i=t.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=h.length):(r=h,i=l,u=d.length),l=Math.ceil(g/gt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=h.length,u-s<0&&(s=u,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/tn|0,d[s]%=tn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,bt?st(t,g):t}function Si(e,t,n){if(e!==~~e||e<t||e>n)throw Error(eo+e)}function hi(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=gt-r.length,n&&(s+=Ka(n)),s+=r;l=e[t],r=l+"",n=gt-r.length,n&&(s+=Ka(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var ea=(function(){function e(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%tn|0,l=s/tn|0;return l&&r.unshift(l),r}function t(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,h,p,g,v,x,w,_,E,j,A,N,D,T,P,I,B,H=r.constructor,Z=r.s==i.s?1:-1,U=r.d,J=i.d;if(!r.s)return new H(r);if(!i.s)throw Error(Vr+"Division by zero");for(d=r.e-i.e,I=J.length,T=U.length,x=new H(Z),w=x.d=[],h=0;J[h]==(U[h]||0);)++h;if(J[h]>(U[h]||0)&&--d,s==null?A=s=H.precision:l?A=s+(zt(r)-zt(i))+1:A=s,A<0)return new H(0);if(A=A/gt+2|0,h=0,I==1)for(p=0,J=J[0],A++;(h<T||p)&&A--;h++)N=p*tn+(U[h]||0),w[h]=N/J|0,p=N%J|0;else{for(p=tn/(J[0]+1)|0,p>1&&(J=e(J,p),U=e(U,p),I=J.length,T=U.length),D=I,_=U.slice(0,I),E=_.length;E<I;)_[E++]=0;B=J.slice(),B.unshift(0),P=J[0],J[1]>=tn/2&&++P;do p=0,u=t(J,_,I,E),u<0?(j=_[0],I!=E&&(j=j*tn+(_[1]||0)),p=j/P|0,p>1?(p>=tn&&(p=tn-1),g=e(J,p),v=g.length,E=_.length,u=t(g,_,v,E),u==1&&(p--,n(g,I<v?B:J,v))):(p==0&&(u=p=1),g=J.slice()),v=g.length,v<E&&g.unshift(0),n(_,g,E),u==-1&&(E=_.length,u=t(J,_,I,E),u<1&&(p++,n(_,I<E?B:J,E))),E=_.length):u===0&&(p++,_=[0]),w[h++]=p,u&&_[0]?_[E++]=U[D]||0:(_=[U[D]],E=1);while((D++<T||_[0]!==void 0)&&A--)}return w[0]||w.shift(),x.e=d,st(x,l?s+zt(x)+1:s)}})();function IL(e,t){var n,r,i,s,l,u,d=0,h=0,p=e.constructor,g=p.precision;if(zt(e)>16)throw Error(Q1+zt(e));if(!e.s)return new p(vr);for(bt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(Us(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new p(vr),p.precision=u;;){if(i=st(i.times(e),u),n=n.times(++d),l=s.plus(ea(i,n,u)),hi(l.d).slice(0,u)===hi(s.d).slice(0,u)){for(;h--;)s=st(s.times(s),u);return p.precision=g,t==null?(bt=!0,st(s,g)):s}s=l}}function zt(e){for(var t=e.e*gt,n=e.d[0];n>=10;n/=10)t++;return t}function cx(e,t,n){if(t>e.LN10.sd())throw bt=!0,n&&(e.precision=n),Error(Vr+"LN10 precision limit exceeded");return st(new e(e.LN10),t)}function Ka(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var n,r,i,s,l,u,d,h,p,g=1,v=10,x=e,w=x.d,_=x.constructor,E=_.precision;if(x.s<1)throw Error(Vr+(x.s?"NaN":"-Infinity"));if(x.eq(vr))return new _(0);if(t==null?(bt=!1,h=E):h=t,x.eq(10))return t==null&&(bt=!0),cx(_,h);if(h+=v,_.precision=h,n=hi(w),r=n.charAt(0),s=zt(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=hi(x.d),r=n.charAt(0),g++;s=zt(x),r>1?(x=new _("0."+n),s++):x=new _(r+"."+n.slice(1))}else return d=cx(_,h+2,E).times(s+""),x=Wu(new _(r+"."+n.slice(1)),h-v).plus(d),_.precision=E,t==null?(bt=!0,st(x,E)):x;for(u=l=x=ea(x.minus(vr),x.plus(vr),h),p=st(x.times(x),h),i=3;;){if(l=st(l.times(p),h),d=u.plus(ea(l,new _(i),h)),hi(d.d).slice(0,h)===hi(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(cx(_,h+2,E).times(s+""))),u=ea(u,new _(g),h),_.precision=E,t==null?(bt=!0,st(u,E)):u;u=d,i+=2}}function I2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Wl(n/gt),e.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=gt;r<i;)e.d.push(+t.slice(r,r+=gt));t=t.slice(r),r=gt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bt&&(e.e>bm||e.e<-bm))throw Error(Q1+n)}else e.s=0,e.e=0,e.d=[0];return e}function st(e,t,n){var r,i,s,l,u,d,h,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=gt,i=t,h=g[p=0];else{if(p=Math.ceil((r+1)/gt),s=g.length,p>=s)return e;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=gt,i=r-gt+l}if(n!==void 0&&(s=Us(10,l-i-1),u=h/s%10|0,d=t<0||g[p+1]!==void 0||h%s,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?h/Us(10,l-i):0:g[p-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return d?(s=zt(e),g.length=1,t=t-s-1,g[0]=Us(10,(gt-t%gt)%gt),e.e=Wl(-t/gt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Us(10,gt-r),g[p]=i>0?(h/Us(10,l-i)%Us(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==tn&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=tn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(bt&&(e.e>bm||e.e<-bm))throw Error(Q1+zt(e));return e}function LL(e,t){var n,r,i,s,l,u,d,h,p,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),bt?st(t,x):t;if(d=e.d,g=t.d,r=t.e,h=e.e,d=d.slice(),l=h-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=h,u=d.length),i=Math.max(Math.ceil(x/gt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,t.s=-t.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=tn-1;--d[s],d[i]+=tn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,bt?st(t,x):t):new v(0)}function io(e,t,n){var r,i=zt(e),s=hi(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ka(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ka(-i-1)+s,n&&(r=n-l)>0&&(s+=Ka(r))):i>=l?(s+=Ka(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ka(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ka(r))),e.s<0?"-"+s:s}function L2(e,t){if(e.length>t)return e.length=t,!0}function BL(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(eo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return I2(l,s.toString())}else if(typeof s!="string")throw Error(eo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,QQ.test(s))I2(l,s);else throw Error(eo+s)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BL,i.config=i.set=ZQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function ZQ(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,n,r,i=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Wl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(eo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(eo+n+": "+r);return this}var Z1=BL(XQ);vr=new Z1(1);const et=Z1;var JQ=e=>e,zL={},UL=e=>e===zL,B2=e=>function t(){return arguments.length===0||arguments.length===1&&UL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},FL=(e,t)=>e===1?t:B2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==zL).length;return s>=e?t(...r):FL(e-s,B2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=r.map(p=>UL(p)?u.shift():p);return t(...h,...u)}))}),Pp=e=>FL(e.length,e),Mb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},eZ=Pp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),tZ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return JQ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Rb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),VL=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((l,u)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[u])})||(t=i,n=e(...i)),n}};function HL(e){var t;return e===0?t=1:t=Math.floor(new et(e).abs().log(10).toNumber())+1,t}function $L(e,t,n){for(var r=new et(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Pp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Pp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var qL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},GL=(e,t,n)=>{if(e.lte(0))return new et(0);var r=HL(e.toNumber()),i=new et(10).pow(r),s=e.div(i),l=r!==1?.05:.1,u=new et(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new et(d.toNumber()):new et(Math.ceil(d.toNumber()))},nZ=(e,t,n)=>{var r=new et(1),i=new et(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new et(10).pow(HL(e)-1),i=new et(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new et(Math.floor(e)))}else e===0?i=new et(Math.floor((t-1)/2)):n||(i=new et(Math.floor(e)));var l=Math.floor((t-1)/2),u=tZ(eZ(d=>i.add(new et(d-l).mul(r)).toNumber()),Mb);return u(0,t)},YL=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new et(0),tickMin:new et(0),tickMax:new et(0)};var l=GL(new et(n).sub(t).div(r-1),i,s),u;t<=0&&n>=0?u=new et(0):(u=new et(t).add(n).div(2),u=u.sub(new et(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new et(n).sub(u).div(l).toNumber()),p=d+h+1;return p>r?YL(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new et(d).mul(l)),tickMax:u.add(new et(h).mul(l))})};function rZ(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,u]=qL([t,n]);if(l===-1/0||u===1/0){var d=u===1/0?[l,...Mb(0,r-1).map(()=>1/0)]:[...Mb(0,r-1).map(()=>-1/0),u];return t>n?Rb(d):d}if(l===u)return nZ(l,r,i);var{step:h,tickMin:p,tickMax:g}=YL(l,u,s,i,0),v=$L(p,g.add(new et(.1).mul(h)),h);return t>n?Rb(v):v}function iZ(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=qL([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var u=Math.max(t,2),d=GL(new et(l).sub(s).div(u-1),i,0),h=[...$L(new et(s),new et(l),d),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?Rb(h):h}var aZ=VL(rZ),sZ=VL(iZ),oZ=e=>e.rootProps.barCategoryGap,Dp=e=>e.rootProps.stackOffset,J1=e=>e.options.chartName,eS=e=>e.rootProps.syncId,KL=e=>e.rootProps.syncMethod,tS=e=>e.options.eventEmitter,Dn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Mp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qi.angleAxisId,includeHidden:!1,name:void 0,reversed:qi.reversed,scale:qi.scale,tick:qi.tick,tickCount:void 0,ticks:void 0,type:qi.type,unit:void 0},cZ={allowDataOverflow:gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,ticks:void 0,type:gr.type,unit:void 0},uZ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:qi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qi.scale,tick:qi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dZ={allowDataOverflow:gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,ticks:void 0,type:"category",unit:void 0},nS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uZ:lZ,rS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dZ:cZ,Rp=e=>e.polarOptions,iS=Q([ma,pa,Sn],aW),WL=Q([Rp,iS],(e,t)=>{if(e!=null)return ss(e.innerRadius,t,0)}),XL=Q([Rp,iS],(e,t)=>{if(e!=null)return ss(e.outerRadius,t,t*.8)}),fZ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},QL=Q([Rp],fZ);Q([nS,QL],Mp);var ZL=Q([iS,WL,XL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([rS,ZL],Mp);var JL=Q([yt,Rp,WL,XL,ma,pa],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:h}=t;return{cx:ss(l,i,i/2),cy:ss(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Kt=(e,t)=>t,Ip=(e,t,n)=>n;function e3(e){return e==null?void 0:e.id}function t3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return e.forEach(u=>{var d,h=(d=u.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var p=e3(u);h.forEach((g,v)=>{var x=s==null||i?v:String(In(g,s,null)),w=In(g,u.dataKey,0),_;l.has(x)?_=l.get(x):_={},Object.assign(_,{[p]:w}),l.set(x,_)})}}),Array.from(l.values())}function aS(e){return e.stackId!=null&&e.dataKey!=null}var Lp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Bp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hZ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Wt=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xl=e=>e.tooltip.settings.axisId;function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ib=[0,"auto"],mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},n3=(e,t)=>e.cartesianAxis.xAxis[t],va=(e,t)=>{var n=n3(e,t);return n??mr},pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ib,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xd},r3=(e,t)=>e.cartesianAxis.yAxis[t],ya=(e,t)=>{var n=r3(e,t);return n??pr},vZ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??vZ},Bn=(e,t,n)=>{switch(t){case"xAxis":return va(e,n);case"yAxis":return ya(e,n);case"zAxis":return sS(e,n);case"angleAxis":return nS(e,n);case"radiusAxis":return rS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},yZ=(e,t,n)=>{switch(t){case"xAxis":return va(e,n);case"yAxis":return ya(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ed=(e,t,n)=>{switch(t){case"xAxis":return va(e,n);case"yAxis":return ya(e,n);case"angleAxis":return nS(e,n);case"radiusAxis":return rS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},i3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function a3(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var s3=e=>e.graphicalItems.cartesianItems,xZ=Q([Kt,Ip],a3),o3=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),jd=Q([s3,Bn,xZ],o3,{memoizeOptions:{resultEqualityCheck:Bp}}),l3=Q([jd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aS)),c3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bZ=Q([jd],c3),u3=e=>e.map(t=>t.data).filter(Boolean).flat(1),wZ=Q([jd],u3,{memoizeOptions:{resultEqualityCheck:Bp}}),d3=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},oS=Q([wZ,X1],d3),f3=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:In(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:In(i,r)}))):e.map(r=>({value:r})),zp=Q([oS,Bn,jd],f3);function h3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kh(e){if(bi(e)||e instanceof Date){var t=Number(e);if(ln(t))return t}}function U2(e){if(Array.isArray(e)){var t=[kh(e[0]),kh(e[1])];return ro(t)?t:void 0}var n=kh(e);if(n!=null)return[n,n]}function ca(e){return e.map(kh).filter(W9)}function SZ(e,t,n){return!n||typeof t!="number"||xi(t)?[]:n.length?ca(n.flatMap(r=>{var i=In(e,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!ln(s)||!ln(l)))return[t-s,t+l]})):[]}var Xt=e=>{var t=Wt(e),n=Xl(e);return Ed(e,t,n)},m3=Q([Xt],e=>e==null?void 0:e.dataKey),_Z=Q([l3,X1,Xt],t3),p3=(e,t,n)=>{var r={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,u]=s,d=u.map(e3);return[l,{stackedData:uY(e,d,n),graphicalItems:u}]}))},EZ=Q([_Z,l3,Dp],p3),g3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var l=hY(e,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},jZ=Q([Bn],e=>e.allowDataOverflow),lS=e=>{var t;if(e==null||!("domain"in e))return Ib;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ca(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ib},v3=Q([Bn],lS),y3=Q([v3,jZ],DL),CZ=Q([EZ,ms,Kt,y3],g3,{memoizeOptions:{resultEqualityCheck:Lp}}),cS=e=>e.errorBars,NZ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>h3(n,r)),Sm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},x3=(e,t,n,r,i)=>{var s,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var h,p,g=(h=r[d.id])===null||h===void 0?void 0:h.filter(j=>h3(i,j)),v=In(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),x=SZ(u,v,g);if(x.length>=2){var w=Math.min(...x),_=Math.max(...x);(s==null||w<s)&&(s=w),(l==null||_>l)&&(l=_)}var E=U2(v);E!=null&&(s=s==null?E[0]:Math.min(s,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=U2(In(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ln(s)&&ln(l))return[s,l]},TZ=Q([oS,Bn,bZ,cS,Kt],x3,{memoizeOptions:{resultEqualityCheck:Lp}});function AZ(e){var{value:t}=e;if(bi(t)||t instanceof Date)return t}var OZ=(e,t,n)=>{var r=e.map(AZ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&BR(r))?ZI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},b3=e=>e.referenceElements.dots,Ql=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),kZ=Q([b3,Kt,Ip],Ql),w3=e=>e.referenceElements.areas,PZ=Q([w3,Kt,Ip],Ql),S3=e=>e.referenceElements.lines,DZ=Q([S3,Kt,Ip],Ql),_3=(e,t)=>{var n=ca(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},MZ=Q(kZ,Kt,_3),E3=(e,t)=>{var n=ca(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RZ=Q([PZ,Kt],E3);function IZ(e){var t;if(e.x!=null)return ca([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ca(n)}function LZ(e){var t;if(e.y!=null)return ca([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ca(n)}var j3=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?IZ(r):LZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},BZ=Q([DZ,Kt],j3),zZ=Q(MZ,BZ,RZ,(e,t,n)=>Sm(e,n,t)),C3=(e,t,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=d?Sm(r,s,i):Sm(s,i);return WQ(t,h,e.allowDataOverflow)},UZ=Q([Bn,v3,y3,CZ,TZ,zZ,yt,Kt],C3,{memoizeOptions:{resultEqualityCheck:Lp}}),FZ=[0,1],N3=(e,t,n,r,i,s,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,h=ds(t,s);if(h&&u==null){var p;return ZI(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return d==="category"?OZ(r,e,h):i==="expand"?FZ:l}},uS=Q([Bn,yt,oS,zp,Dp,Kt,UZ],N3),T3=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(gd(s));return u in bu?u:"point"}}},Cd=Q([Bn,yt,i3,J1,Kt],T3);function VZ(e){if(e!=null){if(e in bu)return bu[e]();var t="scale".concat(gd(e));if(t in bu)return bu[t]()}}function dS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=VZ(t);if(i!=null){var s=i.domain(n).range(r);return sY(s),s}}}var A3=(e,t,n)=>{var r=lS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ro(e))return aZ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ro(e))return sZ(e,t.tickCount,t.allowDecimals)}},fS=Q([uS,Ed,Cd],A3),O3=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ro(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return t},HZ=Q([Bn,uS,fS,Kt],O3),$Z=Q(zp,Bn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ca(e.map(u=>u.value))).sort((u,d)=>u-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),k3=Q($Z,yt,oZ,Sn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!ln(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=ss(n,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),qZ=(e,t)=>{var n=va(e,t);return n==null||typeof n.padding!="string"?0:k3(e,"xAxis",t,n.padding)},GZ=(e,t)=>{var n=ya(e,t);return n==null||typeof n.padding!="string"?0:k3(e,"yAxis",t,n.padding)},YZ=Q(va,qZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),KZ=Q(ya,GZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),WZ=Q([Sn,YZ,Sp,wp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),XZ=Q([Sn,yt,KZ,Sp,wp,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Nd=(e,t,n,r)=>{var i;switch(t){case"xAxis":return WZ(e,n,r);case"yAxis":return XZ(e,n,r);case"zAxis":return(i=sS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return QL(e);case"radiusAxis":return ZL(e,n);default:return}},P3=Q([Bn,Nd],Mp),Zl=Q([Bn,Cd,HZ,P3],dS);Q([jd,cS,Kt],NZ);function D3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Up=(e,t)=>t,Fp=(e,t,n)=>n,QZ=Q(xp,Up,Fp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(D3)),ZZ=Q(bp,Up,Fp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(D3)),M3=(e,t)=>({width:e.width,height:t.height}),JZ=(e,t)=>{var n=typeof t.width=="number"?t.width:xd;return{width:n,height:e.height}},eJ=Q(Sn,va,M3),tJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},nJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},rJ=Q(pa,Sn,QZ,Up,Fp,(e,t,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=M3(t,u);l==null&&(l=tJ(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),iJ=Q(ma,Sn,ZZ,Up,Fp,(e,t,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=JZ(t,u);l==null&&(l=nJ(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),aJ=(e,t)=>{var n=va(e,t);if(n!=null)return rJ(e,n.orientation,n.mirror)},sJ=Q([Sn,va,aJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),oJ=(e,t)=>{var n=ya(e,t);if(n!=null)return iJ(e,n.orientation,n.mirror)},lJ=Q([Sn,ya,oJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),cJ=Q(Sn,ya,(e,t)=>{var n=typeof t.width=="number"?t.width:xd;return{width:n,height:e.height}}),R3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=ds(e,r),d=t.map(h=>h.value);if(l&&u&&s==="category"&&i&&BR(d))return d}},hS=Q([yt,zp,Bn,Kt],R3),I3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=ds(e,r);if(l&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},mS=Q([yt,zp,Ed,Kt],I3),F2=Q([yt,yZ,Cd,Zl,hS,mS,Nd,fS,Kt],(e,t,n,r,i,s,l,u,d)=>{if(t!=null){var h=ds(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}}),uJ=(e,t,n,r,i,s,l,u,d)=>{if(!(t==null||r==null)){var h=ds(e,d),{type:p,ticks:g,tickCount:v}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/x:0;w=d==="angleAxis"&&s!=null&&s.length>=2?zr(s[0]-s[1])*2*w:w;var _=g||i;if(_){var E=_.map((j,A)=>{var N=l?l.indexOf(j):j;return{index:A,coordinate:r(N)+w,value:j,offset:w}});return E.filter(j=>ln(j.coordinate))}return h&&u?u.map((j,A)=>({coordinate:r(j)+w,value:j,index:A,offset:w})).filter(j=>ln(j.coordinate)):r.ticks?r.ticks(v).map(j=>({coordinate:r(j)+w,value:j,offset:w})):r.domain().map((j,A)=>({coordinate:r(j)+w,value:l?l[j]:j,index:A,offset:w}))}},L3=Q([yt,Ed,Cd,Zl,fS,Nd,hS,mS,Kt],uJ),dJ=(e,t,n,r,i,s,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ds(e,l),{tickCount:d}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?zr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:i?i[p]:p,index:g,offset:h}))}},B3=Q([yt,Ed,Zl,Nd,hS,mS,Kt],dJ),z3=Q(Bn,Zl,(e,t)=>{if(!(e==null||t==null))return wm(wm({},e),{},{scale:t})}),fJ=Q([Bn,Cd,uS,P3],dS);Q((e,t,n)=>sS(e,n),fJ,(e,t)=>{if(!(e==null||t==null))return wm(wm({},e),{},{scale:t})});var hJ=Q([yt,xp,bp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U3=e=>e.options.defaultTooltipEventType,F3=e=>e.options.validateTooltipEventTypes;function V3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function pS(e,t){var n=U3(e),r=F3(e);return V3(t,n,r)}function mJ(e){return Se(t=>pS(t,e))}var H3=(e,t)=>{var n,r=Number(t);if(!(xi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},pJ=e=>e.tooltip.settings,Xa={active:!1,index:null,dataKey:void 0,coordinate:void 0},gJ={itemInteraction:{click:Xa,hover:Xa},axisInteraction:{click:Xa,hover:Xa},keyboardInteraction:Xa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$3=tr({name:"tooltip",initialState:gJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ht()},removeTooltipEntrySettings:{reducer(e,t){var n=Ji(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ht()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:vJ,removeTooltipEntrySettings:yJ,setTooltipSettingsState:xJ,setActiveMouseOverItemIndex:bJ,mouseLeaveItem:Cfe,mouseLeaveChart:q3,setActiveClickItemIndex:Nfe,setMouseOverAxisIndex:G3,setMouseClickAxisIndex:wJ,setSyncInteraction:Lb,setKeyboardInteraction:Bb}=$3.actions,SJ=$3.reducer;function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function NJ(e){return e.index!=null}var Y3=(e,t,n,r)=>{if(t==null)return Xa;var i=CJ(e,t,n);if(i==null)return Xa;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(NJ(i)){if(s)return wh(wh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return wh(wh({},Xa),{},{coordinate:i.coordinate})},gS=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!ln(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},K3=(e,t,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],h=d==null?void 0:u(d.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},W3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Td=e=>e.options.tooltipPayloadSearcher,Jl=e=>e.tooltip;function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(r){TJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TJ(e,t,n){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kJ(e,t){return e??t}var X3=(e,t,n,r,i,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,g=[];return e.reduce((v,x)=>{var w,{dataDefinedOnItem:_,settings:E}=x,j=kJ(_,u),A=Array.isArray(j)?TI(j,h,p):j,N=(w=E==null?void 0:E.dataKey)!==null&&w!==void 0?w:r,D=E==null?void 0:E.nameKey,T;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?T=zR(A,r,i):T=s(A,t,d,D),Array.isArray(T))T.forEach(I=>{var B=$2($2({},E),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});v.push(xO({tooltipEntrySettings:B,dataKey:I.dataKey,payload:I.payload,value:In(I.payload,I.dataKey),name:I.name}))});else{var P;v.push(xO({tooltipEntrySettings:E,dataKey:N,payload:T,value:In(T,N),name:(P=In(T,D))!==null&&P!==void 0?P:E==null?void 0:E.name}))}return v},g)}},vS=Q([Xt,yt,i3,J1,Wt],T3),PJ=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DJ=Q([Wt,Xl],a3),Ad=Q([PJ,Xt,DJ],o3,{memoizeOptions:{resultEqualityCheck:Bp}}),MJ=Q([Ad],e=>e.filter(aS)),RJ=Q([Ad],u3,{memoizeOptions:{resultEqualityCheck:Bp}}),ec=Q([RJ,ms],d3),IJ=Q([MJ,ms,Xt],t3),yS=Q([ec,Xt,Ad],f3),Q3=Q([Xt],lS),LJ=Q([Xt],e=>e.allowDataOverflow),Z3=Q([Q3,LJ],DL),BJ=Q([Ad],e=>e.filter(aS)),zJ=Q([IJ,BJ,Dp],p3),UJ=Q([zJ,ms,Wt,Z3],g3),FJ=Q([Ad],c3),VJ=Q([ec,Xt,FJ,cS,Wt],x3,{memoizeOptions:{resultEqualityCheck:Lp}}),HJ=Q([b3,Wt,Xl],Ql),$J=Q([HJ,Wt],_3),qJ=Q([w3,Wt,Xl],Ql),GJ=Q([qJ,Wt],E3),YJ=Q([S3,Wt,Xl],Ql),KJ=Q([YJ,Wt],j3),WJ=Q([$J,KJ,GJ],Sm),XJ=Q([Xt,Q3,Z3,UJ,VJ,WJ,yt,Wt],C3),J3=Q([Xt,yt,ec,yS,Dp,Wt,XJ],N3),QJ=Q([J3,Xt,vS],A3),ZJ=Q([Xt,J3,QJ,Wt],O3),e5=e=>{var t=Wt(e),n=Xl(e),r=!1;return Nd(e,t,n,r)},t5=Q([Xt,e5],Mp),n5=Q([Xt,vS,ZJ,t5],dS),JJ=Q([yt,yS,Xt,Wt],R3),eee=Q([yt,yS,Xt,Wt],I3),tee=(e,t,n,r,i,s,l,u)=>{if(t){var{type:d}=t,h=ds(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?zr(i[0]-i[1])*2*g:g,h&&l?l.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:s?s[v]:v,index:x,offset:g}))}}},xa=Q([yt,Xt,vS,n5,e5,JJ,eee,Wt],tee),xS=Q([U3,F3,pJ],(e,t,n)=>V3(n.shared,e,t)),r5=e=>e.tooltip.settings.trigger,bS=e=>e.tooltip.settings.defaultIndex,Vp=Q([Jl,xS,r5,bS],Y3),Xu=Q([Vp,ec],gS),i5=Q([xa,Xu],H3),nee=Q([Vp],e=>{if(e)return e.dataKey}),a5=Q([Jl,xS,r5,bS],W3),ree=Q([ma,pa,yt,Sn,xa,bS,a5,Td],K3),iee=Q([Vp,ree],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),aee=Q([Vp],e=>e.active),see=Q([a5,Xu,ms,m3,i5,Td,xS],X3),oee=Q([see],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function q2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(n),!0).forEach(function(r){lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lee(e,t,n){return(t=cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dee=()=>Se(Xt),fee=()=>{var e=dee(),t=Se(xa),n=Se(n5);return im(!e||!n?void 0:G2(G2({},e),{},{scale:n}),t)};function Y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(n),!0).forEach(function(r){hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hee(e,t,n){return(t=mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gee=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},vee=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:l}=r;return ll(ll(ll({},r),wn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return ll(ll(ll({},r),wn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var s5=(e,t,n,r,i)=>{var s,l=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<u;d++){var h=d>0?n[d-1].coordinate:n[u-1].coordinate,p=n[d].coordinate,g=d>=u-1?n[0].coordinate:n[d+1].coordinate,v=void 0;if(zr(p-h)!==zr(g-p)){var x=[];if(zr(g-p)===zr(i[1]-i[0])){v=g;var w=p+i[1]-i[0];x[0]=Math.min(w,(w+h)/2),x[1]=Math.max(w,(w+h)/2)}else{v=h;var _=g+i[1]-i[0];x[0]=Math.min(p,(_+p)/2),x[1]=Math.max(p,(_+p)/2)}var E=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){({index:l}=n[d]);break}}else{var j=Math.min(h,g),A=Math.max(h,g);if(e>(j+p)/2&&e<=(A+p)/2){({index:l}=n[d]);break}}}else if(t){for(var N=0;N<u;N++)if(N===0&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N>0&&N<u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2&&e<=(t[N].coordinate+t[N+1].coordinate)/2||N===u-1&&e>(t[N].coordinate+t[N-1].coordinate)/2){({index:l}=t[N]);break}}return l},xee=()=>Se(J1),wS=(e,t)=>t,o5=(e,t,n)=>n,SS=(e,t,n,r)=>r,bee=Q(xa,e=>hp(e,t=>t.coordinate)),_S=Q([Jl,wS,o5,SS],Y3),l5=Q([_S,ec],gS),wee=(e,t,n)=>{if(t!=null){var r=Jl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},c5=Q([Jl,wS,o5,SS],W3),_m=Q([ma,pa,yt,Sn,xa,SS,c5,Td],K3),See=Q([_S,_m],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),u5=Q([xa,l5],H3),_ee=Q([c5,l5,ms,m3,u5,Td,wS],X3),Eee=Q([_S],e=>({isActive:e.active,activeIndex:e.index})),jee=(e,t,n,r,i,s,l)=>{if(!(!e||!n||!r||!i)&&yee(e,l)){var u=mY(e,t),d=s5(u,s,i,n,r),h=gee(t,i,d,e);return{activeIndex:String(d),activeCoordinate:h}}},Cee=(e,t,n,r,i,s,l)=>{if(!(!e||!r||!i||!s||!n)){var u=uW(e,n);if(u){var d=pY(u,t),h=s5(d,l,s,r,i),p=vee(t,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Nee=(e,t,n,r,i,s,l,u)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?jee(e,t,r,i,s,l,u):Cee(e,t,n,r,i,s,l)},Tee=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Aee=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Dn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hZ}});function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function W2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dee={},Mee={zIndexMap:Object.values(Dn).reduce((e,t)=>W2(W2({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Dee)},Ree=new Set(Object.values(Dn));function Iee(e){return Ree.has(e)}var d5=tr({name:"zIndex",initialState:Mee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ht()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Iee(n)&&delete e.zIndexMap[n])},prepare:Ht()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ht()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ht()}}}),{registerZIndexPortal:Lee,unregisterZIndexPortal:Bee,registerZIndexPortalId:zee,unregisterZIndexPortalId:Uee}=d5.actions,Fee=d5.reducer;function ba(e){var{zIndex:t,children:n}=e,r=KY(),i=r&&t!==void 0&&t!==0,s=nr(),l=cn();S.useLayoutEffect(()=>i?(l(Lee({zIndex:t})),()=>{l(Bee({zIndex:t}))}):ql,[l,t,i]);var u=Se(h=>Tee(h,t,s));if(!i)return n;if(!u)return null;var d=document.getElementById(u);return d?aD.createPortal(n,d):null}function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zb.apply(null,arguments)}function X2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return S.isValidElement(t)?S.cloneElement(t,r):S.createElement(n,r)}function Gee(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:h,chartName:p}=e,g=n,v=r,x=i;if(!d||!g||p!=="ScatterChart"&&h!=="axis")return null;var w,_,E;if(p==="ScatterChart")w=g,_=jK,E=Dn.cursorLine;else if(p==="BarChart")w=CK(u,g,s,l),_=KI,E=Dn.cursorRectangle;else if(u==="radial"&&VR(g)){var{cx:j,cy:A,radius:N,startAngle:D,endAngle:T}=WI(g);w={cx:j,cy:A,startAngle:D,endAngle:T,innerRadius:N,outerRadius:N},_=QI,E=Dn.cursorLine}else w={points:mW(u,g,s)},_=HI,E=Dn.cursorLine;var P=typeof d=="object"&&"className"in d?d.className:void 0,I=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},s),w),lp(d)),{},{payload:v,payloadIndex:x,className:ot("recharts-tooltip-cursor",P)});return S.createElement(ba,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},S.createElement(qee,{cursor:d,cursorComp:_,cursorProps:I}))}function Yee(e){var t=fee(),n=BI(),r=Ep(),i=xee();return t==null||n==null||r==null||i==null?null:S.createElement(Gee,zb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var f5=S.createContext(null),Kee=()=>S.useContext(f5),ux={exports:{}},Q2;function Wee(){return Q2||(Q2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,v),w=n?n+h:h;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,w=new Array(x);v<x;v++)w[v]=g[v].fn;return w},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,v,x,w){var _=n?n+h:h;if(!this._events[_])return!1;var E=this._events[_],j=arguments.length,A,N;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),j){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,v),!0;case 5:return E.fn.call(E.context,p,g,v,x),!0;case 6:return E.fn.call(E.context,p,g,v,x,w),!0}for(N=1,A=new Array(j-1);N<j;N++)A[N-1]=arguments[N];E.fn.apply(E.context,A)}else{var D=E.length,T;for(N=0;N<D;N++)switch(E[N].once&&this.removeListener(h,E[N].fn,void 0,!0),j){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,p);break;case 3:E[N].fn.call(E[N].context,p,g);break;case 4:E[N].fn.call(E[N].context,p,g,v);break;default:if(!A)for(T=1,A=new Array(j-1);T<j;T++)A[T-1]=arguments[T];E[N].fn.apply(E[N].context,A)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,v){var x=n?n+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&l(this,x);else{for(var _=0,E=[],j=w.length;_<j;_++)(w[_].fn!==p||v&&!w[_].once||g&&w[_].context!==g)&&E.push(w[_]);E.length?this._events[x]=E.length===1?E[0]:E:l(this,x)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(ux)),ux.exports}var Xee=Wee();const Qee=Ei(Xee);var Qu=new Qee,Ub="recharts.syncEvent.tooltip",Z2="recharts.syncEvent.brush";function Zee(e,t){if(t){var n=Number.parseInt(t,10);if(!xi(n))return e==null?void 0:e[n]}}var Jee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},h5=tr({name:"options",initialState:Jee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ete=h5.reducer,{createEventEmitter:tte}=h5.actions;function nte(e){return e.tooltip.syncInteraction}var rte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},m5=tr({name:"chartData",initialState:rte,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:J2,setDataStartEndIndexes:ite,setComputedData:Tfe}=m5.actions,ate=m5.reducer,ste=["x","y"];function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lte(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ute(e,t){if(e==null)return{};var n,r,i=dte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fte(){var e=Se(eS),t=Se(tS),n=cn(),r=Se(KL),i=Se(xa),s=Ep(),l=_p(),u=Se(d=>d.rootProps.className);S.useEffect(()=>{if(e==null)return ql;var d=(h,p,g)=>{if(t!==g&&e===h){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var x=p.payload.coordinate,{x:w,y:_}=x,E=ute(x,ste),{x:j,y:A,width:N,height:D}=p.payload.sourceViewBox,T=cl(cl({},E),{},{x:l.x+(N?(w-j)/N:0)*l.width,y:l.y+(D?(_-A)/D:0)*l.height});n(cl(cl({},p),{},{payload:cl(cl({},p.payload),{},{coordinate:T})}))}else n(p);return}if(i!=null){var P;if(typeof r=="function"){var I={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},B=r(i,I);P=i[B]}else r==="value"&&(P=i.find(M=>String(M.value)===p.payload.label));var{coordinate:H}=p.payload;if(P==null||p.payload.active===!1||H==null||l==null){n(Lb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:Z,y:U}=H,J=Math.min(Z,l.x+l.width),oe=Math.min(U,l.y+l.height),de={x:s==="horizontal"?P.coordinate:J,y:s==="horizontal"?oe:P.coordinate},ae=Lb({active:p.payload.active,coordinate:de,dataKey:p.payload.dataKey,index:String(P.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ae)}}};return Qu.on(Ub,d),()=>{Qu.off(Ub,d)}},[u,n,t,e,r,i,s,l])}function hte(){var e=Se(eS),t=Se(tS),n=cn();S.useEffect(()=>{if(e==null)return ql;var r=(i,s,l)=>{t!==l&&e===i&&n(ite(s))};return Qu.on(Z2,r),()=>{Qu.off(Z2,r)}},[n,t,e])}function mte(){var e=cn();S.useEffect(()=>{e(tte())},[e]),fte(),hte()}function pte(e,t,n,r,i,s){var l=Se(x=>wee(x,e,t)),u=Se(tS),d=Se(eS),h=Se(KL),p=Se(nte),g=p==null?void 0:p.active,v=_p();S.useEffect(()=>{if(!g&&d!=null&&u!=null){var x=Lb({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});Qu.emit(Ub,d,x,u)}},[g,n,l,i,r,u,d,h,s,v])}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e){return e.dataKey}function bte(e,t){return S.isValidElement(e)?S.cloneElement(e,t):typeof e=="function"?S.createElement(e,t):S.createElement(rK,t)}var rk=[],wte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Gl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ste(e){var t,n,r=er(e,wte),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:v,position:x,reverseDirection:w,useTranslate3d:_,wrapperStyle:E,cursor:j,shared:A,trigger:N,defaultIndex:D,portal:T,axisId:P}=r,I=cn(),B=typeof D=="number"?String(D):D;S.useEffect(()=>{I(xJ({shared:A,trigger:N,axisId:P,active:i,defaultIndex:B}))},[I,A,N,P,i,B]);var H=_p(),Z=VI(),U=mJ(A),{activeIndex:J,isActive:oe}=(t=Se(te=>Eee(te,U,N,B)))!==null&&t!==void 0?t:{},de=Se(te=>_ee(te,U,N,B)),ae=Se(te=>u5(te,U,N,B)),M=Se(te=>See(te,U,N,B)),k=de,Y=Kee(),V=(n=i??oe)!==null&&n!==void 0?n:!1,[se,R]=aG([k,V]),G=U==="axis"?ae:void 0;pte(U,N,M,G,J,V);var ie=T??Y;if(ie==null||H==null||U==null)return null;var ue=k??rk;V||(ue=rk),h&&ue.length&&(ue=kq(ue.filter(te=>te.value!=null&&(te.hide!==!0||r.includeHidden)),v,xte));var ve=ue.length>0,Ne=S.createElement(uK,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:V,coordinate:M,hasPayload:ve,offset:g,position:x,reverseDirection:w,useTranslate3d:_,viewBox:H,wrapperStyle:E,lastBoundingBox:se,innerRef:R,hasPortalFromProps:!!T},bte(d,nk(nk({},r),{},{payload:ue,label:G,active:V,activeIndex:J,coordinate:M,accessibilityLayer:Z})));return S.createElement(S.Fragment,null,aD.createPortal(Ne,ie),V&&S.createElement(Yee,{cursor:j,tooltipEventType:U,coordinate:M,payload:ue,index:J}))}function _te(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cte{constructor(t){_te(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kte={cacheSize:2e3,enableCache:!0},p5=Nte({},kte),ak=new Cte(p5.cacheSize),Pte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sk="recharts_measurement_span";function Dte(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var ok=(e,t)=>{try{var n=document.getElementById(sk);n||(n=document.createElement("span"),n.setAttribute("id",sk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Pte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Cu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gl.isSsr)return{width:0,height:0};if(!p5.enableCache)return ok(t,n);var r=Dte(t,n),i=ak.get(r);if(i)return i;var s=ok(t,n);return ak.set(r,s),s},lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,g5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ite=Object.keys(g5),yl="NaN";function Lte(e,t){return e*g5[t]}class Yn{static parse(t){var n,[,r,i]=(n=Rte.exec(t))!==null&&n!==void 0?n:[];return new Yn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,xi(t)&&(this.unit=""),n!==""&&!Mte.test(n)&&(this.num=NaN,this.unit=""),Ite.includes(n)&&(this.num=Lte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yn(NaN,""):new Yn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xi(this.num)}}function v5(e){if(e.includes(yl))return yl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=lk.exec(t))!==null&&n!==void 0?n:[],l=Yn.parse(r??""),u=Yn.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return yl;t=t.replace(lk,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,g,v]=(h=ck.exec(t))!==null&&h!==void 0?h:[],x=Yn.parse(p??""),w=Yn.parse(v??""),_=g==="+"?x.add(w):x.subtract(w);if(_.isNaN())return yl;t=t.replace(ck,_.toString())}return t}var uk=/\(([^()]*)\)/;function Bte(e){for(var t=e,n;(n=uk.exec(t))!=null;){var[,r]=n;t=t.replace(uk,v5(r))}return t}function zte(e){var t=e.replace(/\s+/g,"");return t=Bte(t),t=v5(t),t}function Ute(e){try{return zte(e)}catch{return yl}}function dx(e){var t=Ute(e.slice(5,-1));return t===yl?"":t}var Fte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Vte=["dx","dy","angle","className","breakAll"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(null,arguments)}function dk(e,t){if(e==null)return{};var n,r,i=Hte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var y5=/[ \f\n\r\t\v\u2028\u2029]+/,x5=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];sn(t)||(n?i=t.toString().split(""):i=t.toString().split(y5));var s=i.map(u=>({word:u,width:Cu(u,r).width})),l=n?0:Cu("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function $te(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var b5=(e,t,n,r)=>e.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var h={words:[l],width:u};i.push(h)}return i},[]),w5=e=>e.reduce((t,n)=>t.width>n.width?t:n),qte="",fk=(e,t,n,r,i,s,l,u)=>{var d=e.slice(0,t),h=x5({breakAll:n,style:r,children:d+qte});if(!h)return[!1,[]];var p=b5(h.wordsWithComputedWidth,s,l,u),g=p.length>i||w5(p).width>Number(s);return[g,p]},Gte=(e,t,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,h=we(s),p=String(l),g=b5(t,r,n,i);if(!h||i)return g;var v=g.length>s||w5(g).width>Number(r);if(!v)return g;for(var x=0,w=p.length-1,_=0,E;x<=w&&_<=p.length-1;){var j=Math.floor((x+w)/2),A=j-1,[N,D]=fk(p,A,d,u,s,r,n,i),[T]=fk(p,j,d,u,s,r,n,i);if(!N&&!T&&(x=j+1),N&&T&&(w=j-1),!N&&T){E=D;break}_++}return E||g},hk=e=>{var t=sn(e)?[]:e.toString().split(y5);return[{words:t,width:void 0}]},Yte=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=e;if((t||n)&&!Gl.isSsr){var u,d,h=x5({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,d=g}else return hk(r);return Gte({breakAll:s,children:r,maxLines:l,style:i},u,d,t,!!n)}return hk(r)},S5="#808080",Kte={breakAll:!1,capHeight:"0.71em",fill:S5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ES=S.forwardRef((e,t)=>{var n=er(e,Kte),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:h,verticalAnchor:p}=n,g=dk(n,Fte),v=S.useMemo(()=>Yte({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:x,dy:w,angle:_,className:E,breakAll:j}=g,A=dk(g,Vte);if(!bi(r)||!bi(i)||v.length===0)return null;var N=Number(r)+(we(x)?x:0),D=Number(i)+(we(w)?w:0);if(!ln(N)||!ln(D))return null;var T;switch(p){case"start":T=dx("calc(".concat(l,")"));break;case"middle":T=dx("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=dx("calc(".concat(v.length-1," * -").concat(s,")"));break}var P=[];if(d){var I=v[0].width,{width:B}=g;P.push("scale(".concat(we(B)&&we(I)?B/I:1,")"))}return _&&P.push("rotate(".concat(_,", ").concat(N,", ").concat(D,")")),P.length&&(A.transform=P.join(" ")),S.createElement("text",Fb({},Ln(A),{ref:t,x:N,y:D,className:ot("recharts-text",E),textAnchor:h,fill:u.includes("url")?S5:u}),v.map((H,Z)=>{var U=H.words.join(j?"":" ");return S.createElement("tspan",{x:N,dy:Z===0?T:s,key:"".concat(U,"-").concat(Z)},U)}))});ES.displayName="Text";var Wte=["labelRef"];function Xte(e,t){if(e==null)return{};var n,r,i=Qte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){Zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zte(e,t,n){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jte(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gi.apply(null,arguments)}var _5=S.createContext(null),tne=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=e,d=S.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[t,n,r,i,s,l]);return S.createElement(_5.Provider,{value:d},u)},E5=()=>{var e=S.useContext(_5),t=_p();return e||LI(t)},nne=S.createContext(null),rne=()=>{var e=S.useContext(nne),t=Se(JL);return e||t},ine=e=>{var{value:t,formatter:n}=e,r=sn(e.children)?t:e.children;return typeof n=="function"?n(r):r},jS=e=>e!=null&&typeof e=="function",ane=(e,t)=>{var n=zr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},sne=(e,t,n,r,i)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:g,endAngle:v,clockWise:x}=i,w=(h+p)/2,_=ane(g,v),E=_>=0?1:-1,j,A;switch(t){case"insideStart":j=g+E*s,A=x;break;case"insideEnd":j=v-E*s,A=!x;break;case"end":j=v+E*s,A=x;break;default:throw new Error("Unsupported position ".concat(t))}A=_<=0?A:!A;var N=wn(u,d,w,j),D=wn(u,d,w,j+(A?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(D.x,",").concat(D.y),P=sn(e.id)?Uu("recharts-radial-line-"):e.id;return S.createElement("text",Gi({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),S.createElement("defs",null,S.createElement("path",{id:P,d:T})),S.createElement("textPath",{xlinkHref:"#".concat(P)},n))},one=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,h=(u+d)/2;if(n==="outside"){var{x:p,y:g}=wn(r,i,l+t,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x,y:w}=wn(r,i,v,h);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Vb=e=>"cx"in e&&we(e.cx),lne=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!Vb(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:h,height:p}=t,g=l,v=l+(d-h)/2,x=(g+v)/2,w=(d+h)/2,_=g+d/2,E=p>=0?1:-1,j=E*r,A=E>0?"end":"start",N=E>0?"start":"end",D=d>=0?1:-1,T=D*r,P=D>0?"end":"start",I=D>0?"start":"end";if(i==="top"){var B={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:A};return Ot(Ot({},B),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var H={x:v+h/2,y:u+p+j,textAnchor:"middle",verticalAnchor:N};return Ot(Ot({},H),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(i==="left"){var Z={x:x-T,y:u+p/2,textAnchor:P,verticalAnchor:"middle"};return Ot(Ot({},Z),s?{width:Math.max(Z.x-s.x,0),height:p}:{})}if(i==="right"){var U={x:x+w+T,y:u+p/2,textAnchor:I,verticalAnchor:"middle"};return Ot(Ot({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:p}:{})}var J=s?{width:w,height:p}:{};return i==="insideLeft"?Ot({x:x+T,y:u+p/2,textAnchor:I,verticalAnchor:"middle"},J):i==="insideRight"?Ot({x:x+w-T,y:u+p/2,textAnchor:P,verticalAnchor:"middle"},J):i==="insideTop"?Ot({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:N},J):i==="insideBottom"?Ot({x:v+h/2,y:u+p-j,textAnchor:"middle",verticalAnchor:A},J):i==="insideTopLeft"?Ot({x:g+T,y:u+j,textAnchor:I,verticalAnchor:N},J):i==="insideTopRight"?Ot({x:g+d-T,y:u+j,textAnchor:P,verticalAnchor:N},J):i==="insideBottomLeft"?Ot({x:v+T,y:u+p-j,textAnchor:I,verticalAnchor:A},J):i==="insideBottomRight"?Ot({x:v+h-T,y:u+p-j,textAnchor:P,verticalAnchor:A},J):i&&typeof i=="object"&&(we(i.x)||ia(i.x))&&(we(i.y)||ia(i.y))?Ot({x:l+ss(i.x,w),y:u+ss(i.y,p),textAnchor:"end",verticalAnchor:"end"},J):Ot({x:_,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},J)},cne={offset:5,zIndex:Dn.label};function Wa(e){var t=er(e,cne),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:h}=t,p=rne(),g=E5(),v=r==="center"?g:p??g,x,w,_;if(n==null?x=v:Vb(n)?x=n:x=LI(n),!x||sn(i)&&sn(s)&&!S.isValidElement(l)&&typeof l!="function")return null;var E=Ot(Ot({},t),{},{viewBox:x});if(S.isValidElement(l)){var{labelRef:j}=E,A=Xte(E,Wte);return S.cloneElement(l,A)}if(typeof l=="function"){if(w=S.createElement(l,E),S.isValidElement(w))return w}else w=ine(t);var N=Ln(t);if(Vb(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sne(t,r,w,N,x);_=one(x,t.offset,t.position)}else _=lne(t,x);return S.createElement(ba,{zIndex:t.zIndex},S.createElement(ES,Gi({ref:h,className:ot("recharts-label",u)},N,_,{textAnchor:$te(N.textAnchor)?N.textAnchor:_.textAnchor,breakAll:d}),w))}Wa.displayName="Label";var une=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?S.createElement(Wa,Gi({key:"label-implicit"},r)):bi(e)?S.createElement(Wa,Gi({key:"label-implicit",value:e},r)):S.isValidElement(e)?e.type===Wa?S.cloneElement(e,Ot({key:"label-implicit"},r)):S.createElement(Wa,Gi({key:"label-implicit",content:e},r)):jS(e)?S.createElement(Wa,Gi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?S.createElement(Wa,Gi({},e,{key:"label-implicit"},r)):null};function dne(e){var{label:t,labelRef:n}=e,r=E5();return une(t,r,n)||null}var fx={},hx={},pk;function fne(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(hx)),hx}var mx={},gk;function hne(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mx)),mx}var vk;function mne(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fne(),n=hne(),r=v1();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(fx)),fx}var px,yk;function pne(){return yk||(yk=1,px=mne().last),px}var gne=pne();const vne=Ei(gne);var yne=["valueAccessor"],xne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Em.apply(null,arguments)}function xk(e,t){if(e==null)return{};var n,r,i=bne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wne=e=>Array.isArray(e.value)?vne(e.value):e.value,j5=S.createContext(void 0),Sne=j5.Provider,C5=S.createContext(void 0);C5.Provider;function _ne(){return S.useContext(j5)}function Ene(){return S.useContext(C5)}function Ph(e){var{valueAccessor:t=wne}=e,n=xk(e,yne),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=xk(n,xne),h=_ne(),p=Ene(),g=h||p;return!g||!g.length?null:S.createElement(ba,{zIndex:u??Dn.label},S.createElement(as,{className:"recharts-label-list"},g.map((v,x)=>{var w,_=sn(r)?t(v,x):In(v&&v.payload,r),E=sn(s)?{}:{id:"".concat(s,"-").concat(x)};return S.createElement(Wa,Em({key:"label-".concat(x)},Ln(v),d,E,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:_,textBreakAll:l,viewBox:v.viewBox,index:x,zIndex:0}))})))}Ph.displayName="LabelList";function jne(e){var{label:t}=e;return t?t===!0?S.createElement(Ph,{key:"labelList-implicit"}):S.isValidElement(t)||jS(t)?S.createElement(Ph,{key:"labelList-implicit",content:t}):typeof t=="object"?S.createElement(Ph,Em({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}var N5=e=>{var{cx:t,cy:n,r,className:i}=e,s=ot("recharts-dot",i);return we(t)&&we(n)&&we(r)?S.createElement("circle",Hb({},yi(e),g1(e),{className:s,cx:t,cy:n,r})):null},Cne={radiusAxis:{},angleAxis:{}},T5=tr({name:"polarAxis",initialState:Cne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Afe,removeRadiusAxis:Ofe,addAngleAxis:kfe,removeAngleAxis:Pfe}=T5.actions,Nne=T5.reducer,A5=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,gx={},bk;function Tne(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(gx)),gx}var vx,wk;function Ane(){return wk||(wk=1,vx=Tne().isPlainObject),vx}var One=Ane();const kne=Ei(One);function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){Pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pne(e,t,n){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jm.apply(null,arguments)}var Ek=(e,t,n,r,i)=>{var s=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+i),l+="L ".concat(e+n-s/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},Rne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ine=e=>{var t=er(e,Rne),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=t,v=S.useRef(null),[x,w]=S.useState(-1),_=S.useRef(i),E=S.useRef(s),j=S.useRef(l),A=S.useRef(n),N=S.useRef(r),D=C1(e,"trapezoid-");if(S.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var de=v.current.getTotalLength();de&&w(de)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var T=ot("recharts-trapezoid",u);if(!g)return S.createElement("g",null,S.createElement("path",jm({},Ln(t),{className:T,d:Ek(n,r,i,s,l)})));var P=_.current,I=E.current,B=j.current,H=A.current,Z=N.current,U="0px ".concat(x===-1?1:x,"px"),J="".concat(x,"px 0px"),oe=$I(["strokeDasharray"],h,d);return S.createElement(j1,{animationId:D,key:D,canBegin:x>0,duration:h,easing:d,isActive:g,begin:p},de=>{var ae=Kn(P,i,de),M=Kn(I,s,de),k=Kn(B,l,de),Y=Kn(H,n,de),V=Kn(Z,r,de);v.current&&(_.current=ae,E.current=M,j.current=k,A.current=Y,N.current=V);var se=de>0?{transition:oe,strokeDasharray:J}:{strokeDasharray:U};return S.createElement("path",jm({},Ln(t),{className:T,d:Ek(Y,V,ae,M,k),ref:v,style:_k(_k({},se),t.style)}))})},Lne=["option","shapeType","propTransformer","activeClassName","isActive"];function Bne(e,t){if(e==null)return{};var n,r,i=zne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hne(e,t){return Cm(Cm({},t),e)}function $ne(e,t){return e==="symbols"}function Ck(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return S.createElement(KI,n);case"trapezoid":return S.createElement(Ine,n);case"sector":return S.createElement(QI,n);case"symbols":if($ne(t))return S.createElement(FR,n);break;case"curve":return S.createElement(HI,n);default:return null}}function qne(e){return S.isValidElement(e)?e.props:e}function Gne(e){var{option:t,shapeType:n,propTransformer:r=Hne,activeClassName:i="recharts-active-shape",isActive:s}=e,l=Bne(e,Lne),u;if(S.isValidElement(t))u=S.cloneElement(t,Cm(Cm({},l),qne(t)));else if(typeof t=="function")u=t(l);else if(kne(t)&&typeof t!="boolean"){var d=r(t,l);u=S.createElement(Ck,{shapeType:n,elementProps:d})}else{var h=l;u=S.createElement(Ck,{shapeType:n,elementProps:h})}return s?S.createElement(as,{className:i},u):u}function Yne(e){var{fn:t,args:n}=e,r=cn(),i=nr();return S.useLayoutEffect(()=>{if(!i){var s=t(n);return r(vJ(s)),()=>{r(yJ(s))}}},[t,n,r,i]),null}function Kne(e){var{legendPayload:t}=e,n=cn(),r=nr();return S.useLayoutEffect(()=>r?ql:(n(XY(t)),()=>{n(QY(t))}),[n,r,t]),null}var yx,Wne=()=>{var[e]=S.useState(()=>Uu("uid-"));return e},Xne=(yx=Tz.useId)!==null&&yx!==void 0?yx:Wne;function O5(e,t){var n=Xne();return t||(e?"".concat(e,"-").concat(n):n)}var Qne=S.createContext(void 0),Zne=e=>{var{id:t,type:n,children:r}=e,i=O5("recharts-".concat(n),t);return S.createElement(Qne.Provider,{value:i},r(i))},Jne={cartesianItems:[],polarItems:[]},k5=tr({name:"graphicalItems",initialState:Jne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ht()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ji(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ht()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ji(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ht()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ht()},removePolarGraphicalItem:{reducer(e,t){var n=Ji(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ht()}}}),{addCartesianGraphicalItem:ere,replaceCartesianGraphicalItem:tre,removeCartesianGraphicalItem:nre,addPolarGraphicalItem:Dfe,removePolarGraphicalItem:Mfe}=k5.actions,rre=k5.reducer;function ire(e){var t=cn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?t(ere(e)):n.current!==e&&t(tre({prev:n.current,next:e})),n.current=e},[t,e]),S.useLayoutEffect(()=>()=>{n.current&&(t(nre(n.current)),n.current=null)},[t]),null}var are=["points"];function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sre(e,t,n){return(t=ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(null,arguments)}function cre(e,t){if(e==null)return{};var n,r,i=ure(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dre(e){var{option:t,dotProps:n,className:r}=e;if(S.isValidElement(t))return S.cloneElement(t,n);if(typeof t=="function")return t(n);var i=ot(r,typeof t!="boolean"?t.className:""),s=n??{},{points:l}=s,u=cre(s,are);return S.createElement(N5,Nm({},u,{className:i}))}function fre(e,t){return e==null?!1:t?!0:e.length===1}function hre(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:h=Dn.scatter}=e;if(!fre(t,n))return null;var p=A5(n),g=r9(n),v=t.map((w,_)=>{var E,j,A=xx(xx(xx({r:3},l),g),{},{index:_,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(j=w.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return S.createElement(dre,{key:"dot-".concat(_),option:n,dotProps:A,className:i})}),x={};return u&&d!=null&&(x.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),S.createElement(ba,{zIndex:h},S.createElement(as,Nm({className:r},x),v))}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ak(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t,n){return(t=pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vre={xAxis:{},yAxis:{},zAxis:{}},P5=tr({name:"cartesianAxis",initialState:vre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ht()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ht()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ht()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ht()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ht()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ht()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);e.yAxis[n]=Ak(Ak({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:yre,removeXAxis:xre,addYAxis:bre,removeYAxis:wre,addZAxis:Rfe,removeZAxis:Ife,updateYAxisWidth:Sre}=P5.actions,_re=P5.reducer,Ere=Q([Sn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),jre=Q([Ere,ma,pa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),CS=()=>Se(jre),Cre=()=>Se(oee);function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(r){Nre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ore=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=bx(bx(bx({},l),lp(i)),g1(i)),d;return S.isValidElement(i)?d=S.cloneElement(i,u):typeof i=="function"?d=i(u):d=S.createElement(N5,u),S.createElement(as,{className:"recharts-active-dot"},d)};function kre(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=Dn.activeDot}=e,l=Se(Xu),u=Cre();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return sn(d)?null:S.createElement(ba,{zIndex:s},S.createElement(Ore,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var Pre={},D5=tr({name:"errorBars",initialState:Pre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Lfe,replaceErrorBar:Bfe,removeErrorBar:zfe}=D5.actions,Dre=D5.reducer,Mre=["children"];function Rre(e,t){if(e==null)return{};var n,r,i=Ire(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Bre=S.createContext(Lre);function zre(e){var{children:t}=e,n=Rre(e,Mre);return S.createElement(Bre.Provider,{value:n},t)}function M5(e,t){var n,r,i=Se(h=>va(h,e)),s=Se(h=>ya(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,u=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:pr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Ure(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=CS(),{needClipX:s,needClipY:l,needClip:u}=M5(t,n);if(!u||!i)return null;var{x:d,y:h,width:p,height:g}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:s?d:d-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var Fre=e=>{var{chartData:t}=e,n=cn(),r=nr();return S.useEffect(()=>r?()=>{}:(n(J2(t)),()=>{n(J2(void 0))}),[t,n,r]),null},kk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R5=tr({name:"brush",initialState:kk,reducers:{setBrushSettings(e,t){return t.payload==null?kk:t.payload}}}),{setBrushSettings:Ufe}=R5.actions,Vre=R5.reducer;function Hre(e,t,n){return(t=$re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $re(e){var t=qre(e,"string");return typeof t=="symbol"?t:t+""}function qre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NS{static create(t){return new NS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Hre(NS,"EPS",1e-4);function Gre(e){return(e%180+180)%180}var Yre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Gre(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Kre={dots:[],areas:[],lines:[]},I5=tr({name:"referenceElements",initialState:Kre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ji(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ji(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ji(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Ffe,removeDot:Vfe,addArea:Hfe,removeArea:$fe,addLine:qfe,removeLine:Gfe}=I5.actions,Wre=I5.reducer,Xre=S.createContext(void 0),Qre=e=>{var{children:t}=e,[n]=S.useState("".concat(Uu("recharts"),"-clip")),r=CS();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return S.createElement(Xre.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:s,height:u,width:l}))),t)};function Dl(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function L5(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Zre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Yre(r,n)}function Jre(e,t,n){var r=n==="width",{x:i,y:s,width:l,height:u}=e;return t===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function Tm(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function eie(e,t){return L5(e,t+1)}function tie(e,t,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=t,d=0,h=1,p=l,g=function(){var w=r==null?void 0:r[d];if(w===void 0)return{v:L5(r,h)};var _=d,E,j=()=>(E===void 0&&(E=n(w,_)),E),A=w.coordinate,N=d===0||Tm(e,A,j,p,u);N||(d=0,p=l,h+=1),N&&(p=A+e*(j()/2+i),d+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aie(e,t,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,h=function(v){var x=s[v],w,_=()=>(w===void 0&&(w=n(x,v)),w);if(v===l-1){var E=e*(x.coordinate+e*_()/2-d);s[v]=x=Cn(Cn({},x),{},{tickCoord:E>0?x.coordinate-E*e:x.coordinate})}else s[v]=x=Cn(Cn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=Tm(e,x.tickCoord,_,u,d);j&&(d=x.tickCoord-e*(_()/2+i),s[v]=Cn(Cn({},x),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function sie(e,t,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:h}=t;if(s){var p=r[u-1],g=n(p,u-1),v=e*(p.coordinate+e*g/2-h);if(l[u-1]=p=Cn(Cn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var x=Tm(e,p.tickCoord,()=>g,d,h);x&&(h=p.tickCoord-e*(g/2+i),l[u-1]=Cn(Cn({},p),{},{isShow:!0}))}}for(var w=s?u-1:u,_=function(A){var N=l[A],D,T=()=>(D===void 0&&(D=n(N,A)),D);if(A===0){var P=e*(N.coordinate-e*T()/2-d);l[A]=N=Cn(Cn({},N),{},{tickCoord:P<0?N.coordinate-P*e:N.coordinate})}else l[A]=N=Cn(Cn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var I=Tm(e,N.tickCoord,T,d,h);I&&(d=N.tickCoord+e*(T()/2+i),l[A]=Cn(Cn({},N),{},{isShow:!0}))}},E=0;E<w;E++)_(E);return l}function TS(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:h,unit:p,angle:g}=e;if(!i||!i.length||!r)return[];if(we(d)||Gl.isSsr){var v;return(v=eie(i,we(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],w=u==="top"||u==="bottom"?"width":"height",_=p&&w==="width"?Cu(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(N,D)=>{var T=typeof h=="function"?h(N.value,D):N.value;return w==="width"?Zre(Cu(T,{fontSize:t,letterSpacing:n}),_,g):Cu(T,{fontSize:t,letterSpacing:n})[w]},j=i.length>=2?zr(i[1].coordinate-i[0].coordinate):1,A=Jre(s,j,w);return d==="equidistantPreserveStart"?tie(j,A,E,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=sie(j,A,E,i,l,d==="preserveStartEnd"):x=aie(j,A,E,i,l),x.filter(N=>N.isShow))}var oie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+u+(n?r:0);return Math.round(h)}return 0},lie=["axisLine","width","height","className","hide","ticks","axisType"],cie=["viewBox"],uie=["viewBox"];function $b(e,t){if(e==null)return{};var n,r,i=die(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(null,arguments)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(n),!0).forEach(function(r){fie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fie(e,t,n){return(t=hie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AS={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dn.axis};function pie(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var h=Bt(Bt(Bt({},d),yi(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Bt(Bt({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Bt(Bt({},h),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return S.createElement("line",ao({},h,{className:ot("recharts-cartesian-axis-line",fp(u,"className"))}))}function gie(e,t,n,r,i,s,l,u,d){var h,p,g,v,x,w,_=u?-1:1,E=e.tickSize||l,j=we(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=n+ +!u*i,g=v-_*E,w=g-_*d,x=j;break;case"left":g=v=e.coordinate,p=t+ +!u*r,h=p-_*E,x=h-_*d,w=j;break;case"right":g=v=e.coordinate,p=t+ +u*r,h=p+_*E,x=h+_*d,w=j;break;default:h=p=e.coordinate,v=n+ +u*i,g=v+_*E,w=g+_*d,x=j;break}return{line:{x1:h,y1:g,x2:p,y2:v},tick:{x,y:w}}}function vie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function yie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xie(e){var{option:t,tickProps:n,value:r}=e,i,s=ot(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(t))i=S.cloneElement(t,Bt(Bt({},n),{},{className:s}));else if(typeof t=="function")i=t(Bt(Bt({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ot(l,t==null?void 0:t.className)),i=S.createElement(ES,ao({},n,{className:l}),r)}return i}var bie=S.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:h,orientation:p,mirror:g,x:v,y:x,width:w,height:_,tickSize:E,tickMargin:j,fontSize:A,letterSpacing:N,getTicksConfig:D,events:T,axisType:P}=e,I=TS(Bt(Bt({},D),{},{ticks:n}),A,N),B=vie(p,g),H=yie(p,g),Z=yi(D),U=lp(r),J={};typeof i=="object"&&(J=i);var oe=Bt(Bt({},Z),{},{fill:"none"},J),de=I.map(k=>Bt({entry:k},gie(k,v,x,w,_,p,E,g,j))),ae=de.map(k=>{var{entry:Y,line:V}=k;return S.createElement(as,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&S.createElement("line",ao({},oe,V,{className:ot("recharts-cartesian-axis-tick-line",fp(i,"className"))})))}),M=de.map((k,Y)=>{var{entry:V,tick:se}=k,R=Bt(Bt(Bt(Bt({textAnchor:B,verticalAnchor:H},Z),{},{stroke:"none",fill:s},U),se),{},{index:Y,payload:V,visibleTicksCount:I.length,tickFormatter:l,padding:d},h);return S.createElement(as,ao({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},oq(T,V,Y)),r&&S.createElement(xie,{option:r,tickProps:R,value:"".concat(typeof l=="function"?l(V.value,Y):V.value).concat(u||"")}))});return S.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},M.length>0&&S.createElement(ba,{zIndex:Dn.label},S.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},M)),ae.length>0&&S.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ae))}),wie=S.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=e,h=$b(e,lie),[p,g]=S.useState(""),[v,x]=S.useState(""),w=S.useRef(null);S.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return oie({ticks:w.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=S.useCallback(E=>{if(E){var j=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=j;var A=j[0];if(A){var N=window.getComputedStyle(A),D=N.fontSize,T=N.letterSpacing;(D!==p||T!==v)&&(g(D),x(T))}}},[p,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(ba,{zIndex:e.zIndex},S.createElement(as,{className:ot("recharts-cartesian-axis",s)},S.createElement(pie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:yi(e)}),S.createElement(bie,{ref:_,axisType:d,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),S.createElement(tne,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},S.createElement(dne,{label:e.label,labelRef:e.labelRef}),e.children)))}),Sie=S.memo(wie,(e,t)=>{var{viewBox:n}=e,r=$b(e,cie),{viewBox:i}=t,s=$b(t,uie);return Dl(n,i)&&Dl(r,s)}),OS=S.forwardRef((e,t)=>{var n=er(e,AS);return S.createElement(Sie,ao({},n,{ref:t}))});OS.displayName="CartesianAxis";var _ie=["x1","y1","x2","y2","key"],Eie=["offset"],jie=["xAxisId","yAxisId"],Cie=["xAxisId","yAxisId"];function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){Nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nie(e,t,n){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(null,arguments)}function Am(e,t){if(e==null)return{};var n,r,i=Oie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=e;return S.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B5(e){var{option:t,lineItemProps:n}=e,r;if(S.isValidElement(t))r=S.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:h}=n,p=Am(n,_ie),g=(i=yi(p))!==null&&i!==void 0?i:{},{offset:v}=g,x=Am(g,Eie);r=S.createElement("line",Gs({},x,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:h}))}return r}function Pie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=Am(e,jie),d=i.map((h,p)=>{var g=Nn(Nn({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return S.createElement(B5,{key:"line-".concat(p),option:r,lineItemProps:g})});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Die(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,u=Am(e,Cie),d=i.map((h,p)=>{var g=Nn(Nn({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return S.createElement(B5,{option:r,lineItemProps:g,key:"line-".concat(p)})});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Mie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],w=x?i+l-g:h[v+1]-g;if(w<=0)return null;var _=v%t.length;return S.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:w,width:s,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Rie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var h=d.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==h[0]&&h.unshift(0);var p=h.map((g,v)=>{var x=!h[v+1],w=x?i+l-g:h[v+1]-g;if(w<=0)return null;var _=v%n.length;return S.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:w,height:u,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Iie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return AI(TS(Nn(Nn(Nn({},AS),n),{},{ticks:OI(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Lie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return AI(TS(Nn(Nn(Nn({},AS),n),{},{ticks:OI(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},Bie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dn.grid};function z5(e){var t=zI(),n=UI(),r=BI(),i=Nn(Nn({},er(e,Bie)),{},{x:we(e.x)?e.x:r.left,y:we(e.y)?e.y:r.top,width:we(e.width)?e.width:r.width,height:we(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:h,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,w=nr(),_=Se(H=>F2(H,"xAxis",s,w)),E=Se(H=>F2(H,"yAxis",l,w));if(!wi(h)||!wi(p)||!we(u)||!we(d))return null;var j=i.verticalCoordinatesGenerator||Iie,A=i.horizontalCoordinatesGenerator||Lie,{horizontalPoints:N,verticalPoints:D}=i;if((!N||!N.length)&&typeof A=="function"){var T=v&&v.length,P=A({yAxis:E?Nn(Nn({},E),{},{ticks:T?v:E.ticks}):void 0,width:t??h,height:n??p,offset:r},T?!0:g);am(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(N=P)}if((!D||!D.length)&&typeof j=="function"){var I=x&&x.length,B=j({xAxis:_?Nn(Nn({},_),{},{ticks:I?x:_.ticks}):void 0,width:t??h,height:n??p,offset:r},I?!0:g);am(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}return S.createElement(ba,{zIndex:i.zIndex},S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(kie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(Mie,Gs({},i,{horizontalPoints:N})),S.createElement(Rie,Gs({},i,{verticalPoints:D})),S.createElement(Pie,Gs({},i,{offset:r,horizontalPoints:N,xAxis:_,yAxis:E})),S.createElement(Die,Gs({},i,{offset:r,verticalPoints:D,xAxis:_,yAxis:E}))))}z5.displayName="CartesianGrid";var U5=(e,t,n,r)=>z3(e,"xAxis",t,r),F5=(e,t,n,r)=>B3(e,"xAxis",t,r),V5=(e,t,n,r)=>z3(e,"yAxis",n,r),H5=(e,t,n,r)=>B3(e,"yAxis",n,r),zie=Q([yt,U5,V5,F5,H5],(e,t,n,r,i)=>ds(e,"xAxis")?im(t,r,!1):im(n,i,!1)),Uie=(e,t,n,r,i)=>i;function Fie(e){return e.type==="line"}var Vie=Q([s3,Uie],(e,t)=>e.filter(Fie).find(n=>n.id===t)),Hie=Q([yt,U5,V5,F5,H5,Vie,zie,X1],(e,t,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:v}=s,x;if(v!=null&&v.length>0?x=v:x=d==null?void 0:d.slice(h,p+1),x!=null)return uae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}});function $ie(e){var t=lp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var qie=["id"],Gie=["type","layout","connectNulls","needClip","shape"],Yie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zu.apply(null,arguments)}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){Kie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kie(e,t,n){return(t=Wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wie(e){var t=Xie(e,"string");return typeof t=="symbol"?t:t+""}function Xie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kS(e,t){if(e==null)return{};var n,r,i=Qie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:kI(n,t),payload:e}]};function Jie(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:kI(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:d}}}var $5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function eae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var tae=(e,t,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return $5(t,e);for(var i=Math.floor(e/r),s=e%r,l=t-e,u=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){u=[...n.slice(0,d),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...eae(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function nae(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=kS(r,qie),h=yi(d);return S.createElement(hre,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function rae(e){var{showLabels:t,children:n,points:r}=e,i=S.useMemo(()=>r==null?void 0:r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return fi(fi({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(Sne,{value:t?i:void 0},n)}function Ik(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s}=e,{type:l,layout:u,connectNulls:d,needClip:h,shape:p}=s,g=kS(s,Gie),v=fi(fi({},Ln(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(Gne,Zu({shapeType:"curve",option:p},v,{pathRef:n})),S.createElement(nae,{points:r,clipPathId:t,props:s}))}function iae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function aae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:v,width:x,height:w,onAnimationEnd:_,onAnimationStart:E}=n,j=i.current,A=C1(n,"recharts-line-"),[N,D]=S.useState(!1),T=!N,P=S.useCallback(()=>{typeof _=="function"&&_(),D(!1)},[_]),I=S.useCallback(()=>{typeof E=="function"&&E(),D(!0)},[E]),B=iae(r.current),H=s.current;return S.createElement(rae,{points:l,showLabels:T},n.children,S.createElement(j1,{animationId:A,begin:h,duration:p,isActive:d,easing:g,onAnimationEnd:P,onAnimationStart:I,key:A},Z=>{var U=Kn(H,B+H,Z),J=Math.min(U,B),oe;if(d)if(u){var de="".concat(u).split(/[,\s]+/gim).map(k=>parseFloat(k));oe=tae(J,B,de)}else oe=$5(B,J);else oe=u==null?void 0:String(u);if(j){var ae=j.length/l.length,M=Z===1?l:l.map((k,Y)=>{var V=Math.floor(Y*ae);if(j[V]){var se=j[V];return fi(fi({},k),{},{x:Kn(se.x,k.x,Z),y:Kn(se.y,k.y,Z)})}return v?fi(fi({},k),{},{x:Kn(x*2,k.x,Z),y:Kn(w/2,k.y,Z)}):fi(fi({},k),{},{x:k.x,y:k.y})});return i.current=M,S.createElement(Ik,{props:n,points:M,clipPathId:t,pathRef:r,strokeDasharray:oe})}return Z>0&&B>0&&(i.current=l,s.current=J),S.createElement(Ik,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:oe})}),S.createElement(jne,{label:n.label}))}function sae(e){var{clipPathId:t,props:n}=e,r=S.useRef(null),i=S.useRef(0),s=S.useRef(null);return S.createElement(aae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var oae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:In(e.payload,t)}};class lae extends S.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:h,height:p,id:g,needClip:v,zIndex:x}=this.props;if(t)return null;var w=ot("recharts-line",i),_=g,{r:E,strokeWidth:j}=$ie(n),A=A5(n),N=E*2+j;return S.createElement(ba,{zIndex:x},S.createElement(as,{className:w},v&&S.createElement("defs",null,S.createElement(Ure,{clipPathId:_,xAxisId:s,yAxisId:l}),!A&&S.createElement("clipPath",{id:"clipPath-dots-".concat(_)},S.createElement("rect",{x:d-N/2,y:u-N/2,width:h+N,height:p+N}))),S.createElement(zre,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:oae,errorBarOffset:0},S.createElement(sae,{props:this.props,clipPathId:_}))),S.createElement(kre,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var q5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Gl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Dn.line};function cae(e){var t=er(e,q5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:h,isAnimationActive:p,label:g,legendType:v,xAxisId:x,yAxisId:w,id:_}=t,E=kS(t,Yie),{needClip:j}=M5(x,w),A=CS(),N=Ep(),D=nr(),T=Se(Z=>Hie(Z,x,w,D,_));if(N!=="horizontal"&&N!=="vertical"||T==null||A==null)return null;var{height:P,width:I,x:B,y:H}=A;return S.createElement(lae,Zu({},E,{id:_,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:v,xAxisId:x,yAxisId:w,points:T,layout:N,height:P,width:I,left:B,top:H,needClip:j}))}function uae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((h,p)=>{var g=In(h,l);if(t==="horizontal"){var v=gO({axis:n,ticks:i,bandSize:u,entry:h,index:p}),x=sn(g)?null:r.scale(g);return{x:v,y:x,value:g,payload:h}}var w=sn(g)?null:n.scale(g),_=gO({axis:r,ticks:s,bandSize:u,entry:h,index:p});return w==null||_==null?null:{x:w,y:_,value:g,payload:h}}).filter(Boolean)}function dae(e){var t=er(e,q5),n=nr();return S.createElement(Zne,{id:t.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(Kne,{legendPayload:Zie(t)}),S.createElement(Yne,{fn:Jie,args:t}),S.createElement(ire,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),S.createElement(cae,Zu({},t,{id:r}))))}var G5=S.memo(dae);G5.displayName="Line";var fae=["dangerouslySetInnerHTML","ticks"],hae=["id"],mae=["domain"],pae=["domain"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function Om(e,t){if(e==null)return{};var n,r,i=gae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vae(e){var t=cn();return S.useLayoutEffect(()=>(t(yre(e)),()=>{t(xre(e))}),[e,t]),null}var yae=e=>{var{xAxisId:t,className:n}=e,r=Se(DI),i=nr(),s="xAxis",l=Se(E=>Zl(E,s,t,i)),u=Se(E=>L3(E,s,t,i)),d=Se(E=>eJ(E,t)),h=Se(E=>sJ(E,t)),p=Se(E=>n3(E,t));if(d==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=Om(e,fae),{id:w}=p,_=Om(p,hae);return S.createElement(OS,qb({},x,_,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:ot("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u,axisType:s}))},xae={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,height:mr.height,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,xAxisId:0},bae=e=>{var t,n,r,i,s,l=er(e,xae);return S.createElement(S.Fragment,null,S.createElement(vae,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),S.createElement(yae,l))},wae=(e,t)=>{var{domain:n}=e,r=Om(e,mae),{domain:i}=t,s=Om(t,pae);return Dl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Dl({domain:n},{domain:i}):!1},Y5=S.memo(bae,wae);Y5.displayName="XAxis";var Sae=["dangerouslySetInnerHTML","ticks"],_ae=["id"],Eae=["domain"],jae=["domain"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function km(e,t){if(e==null)return{};var n,r,i=Cae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nae(e){var t=cn();return S.useLayoutEffect(()=>(t(bre(e)),()=>{t(wre(e))}),[e,t]),null}var Tae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=S.useRef(null),l=S.useRef(null),u=Se(DI),d=nr(),h=cn(),p="yAxis",g=Se(T=>Zl(T,p,t,d)),v=Se(T=>cJ(T,t)),x=Se(T=>lJ(T,t)),w=Se(T=>L3(T,p,t,d)),_=Se(T=>r3(T,t));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!v||jS(i)||S.isValidElement(i)||_==null)){var T=s.current;if(T){var P=T.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&h(Sre({id:t,width:P}))}}},[w,v,h,i,t,r,_]),v==null||x==null||_==null)return null;var{dangerouslySetInnerHTML:E,ticks:j}=e,A=km(e,Sae),{id:N}=_,D=km(_,_ae);return S.createElement(OS,Gb({},A,D,{ref:s,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:ot("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w,axisType:p}))},Aae={allowDataOverflow:pr.allowDataOverflow,allowDecimals:pr.allowDecimals,allowDuplicatedCategory:pr.allowDuplicatedCategory,hide:!1,mirror:pr.mirror,orientation:pr.orientation,padding:pr.padding,reversed:pr.reversed,scale:pr.scale,tickCount:pr.tickCount,type:pr.type,width:pr.width,yAxisId:0},Oae=e=>{var t,n,r,i,s,l=er(e,Aae);return S.createElement(S.Fragment,null,S.createElement(Nae,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),S.createElement(Tae,l))},kae=(e,t)=>{var{domain:n}=e,r=km(e,Eae),{domain:i}=t,s=km(t,jae);return Dl(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Dl({domain:n},{domain:i}):!1},K5=S.memo(Oae,kae);K5.displayName="YAxis";var wx={exports:{}},Sx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function Pae(){if(Lk)return Sx;Lk=1;var e=zl();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Sx.useSyncExternalStoreWithSelector=function(d,h,p,g,v){var x=i(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function E(T){if(!j){if(j=!0,A=T,T=g(T),v!==void 0&&w.hasValue){var P=w.value;if(v(P,T))return N=P}return N=T}if(P=N,n(A,T))return P;var I=g(T);return v!==void 0&&v(P,I)?(A=T,P):(A=T,N=I)}var j=!1,A,N,D=p===void 0?null:p;return[function(){return E(h())},D===null?void 0:function(){return E(D())}]},[h,p,g,v]);var _=r(d,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=_},[_]),u(_),_},Sx}var Bk;function Dae(){return Bk||(Bk=1,wx.exports=Pae()),wx.exports}Dae();function Mae(e){e()}function Rae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Mae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var zk={notify(){},get:()=>[]};function Iae(e,t){let n,r=zk,i=0,s=!1;function l(_){p();const E=r.subscribe(_);let j=!1;return()=>{j||(j=!0,E(),g())}}function u(){r.notify()}function d(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(d),r=Rae())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zk)}function v(){s||(s=!0,p())}function x(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return w}var Lae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bae=Lae(),zae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Uae=zae(),Fae=()=>Bae||Uae?S.useLayoutEffect:S.useEffect,Vae=Fae(),_x=Symbol.for("react-redux-context"),Ex=typeof globalThis<"u"?globalThis:{};function Hae(){if(!S.createContext)return{};const e=Ex[_x]??(Ex[_x]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var $ae=Hae();function qae(e){const{children:t,context:n,serverState:r,store:i}=e,s=S.useMemo(()=>{const d=Iae(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=S.useMemo(()=>i.getState(),[i]);Vae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||$ae;return S.createElement(u.Provider,{value:s},t)}var Gae=qae,Yae=(e,t)=>t,PS=Q([Yae,yt,JL,Wt,t5,xa,bee,Sn],Nee),DS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},W5=Fr("mouseClick"),X5=yd();X5.startListening({actionCreator:W5,effect:(e,t)=>{var n=e.payload,r=PS(t.getState(),DS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(wJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yb=Fr("mouseMove"),Q5=yd();Q5.startListening({actionCreator:Yb,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=pS(r,r.tooltip.settings.shared),s=PS(r,DS(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(G3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(q3()))}});var Uk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},Z5=tr({name:"rootProps",initialState:Uk,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:Uk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue}}}),Kae=Z5.reducer,{updateOptions:Wae}=Z5.actions,J5=tr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Yfe}=J5.actions,Xae=J5.reducer,e4=Fr("keyDown"),t4=Fr("focus"),MS=yd();MS.startListening({actionCreator:e4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(gS(i,ec(n))),u=xa(n);if(s==="Enter"){var d=_m(n,"axis","hover",String(i.index));t.dispatch(Bb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=hJ(n),p=h==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=l+g*p;if(!(u==null||v>=u.length||v<0)){var x=_m(n,"axis","hover",String(v));t.dispatch(Bb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});MS.startListening({actionCreator:t4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=_m(n,"axis","hover",String(s));t.dispatch(Bb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Lr=Fr("externalEvent"),n4=yd();n4.startListening({actionCreator:Lr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:iee(n),activeDataKey:nee(n),activeIndex:Xu(n),activeLabel:i5(n),activeTooltipIndex:Xu(n),isTooltipActive:aee(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Qae=Q([Jl],e=>e.tooltipItemPayloads),Zae=Q([Qae,Td,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,n);return l}}}),r4=Fr("touchMove"),i4=yd();i4.startListening({actionCreator:r4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=pS(r,r.tooltip.settings.shared);if(i==="axis"){var s=PS(r,DS({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(G3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(vY),p=(l=d.getAttribute(yY))!==null&&l!==void 0?l:void 0,g=Zae(t.getState(),h,p);t.dispatch(bJ({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Jae=rI({brush:Vre,cartesianAxis:_re,chartData:ate,errorBars:Dre,graphicalItems:rre,layout:tY,legend:ZY,options:ete,polarAxis:Nne,polarOptions:Xae,referenceElements:Wre,rootProps:Kae,tooltip:SJ,zIndex:Fee}),ese=function(t){return CG({reducer:Jae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([X5.middleware,Q5.middleware,MS.middleware,n4.middleware,i4.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(pI({type:"raf"}))},devTools:Gl.devToolsEnabled})};function tse(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=nr(),s=S.useRef(null);if(i)return n;s.current==null&&(s.current=ese(t));var l=y1;return S.createElement(Gae,{context:l,store:s.current},n)}function nse(e){var{layout:t,margin:n}=e,r=cn(),i=nr();return S.useEffect(()=>{i||(r(ZG(t)),r(QG(n)))},[r,i,t,n]),null}function rse(e){var t=cn();return S.useEffect(()=>{t(Wae(e))},[t,e]),null}function Fk(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=O5("".concat(r).concat(t)),s=cn();return S.useLayoutEffect(()=>(s(zee({zIndex:t,elementId:i,isPanorama:n})),()=>{s(Uee({zIndex:t,isPanorama:n}))}),[s,t,i,n]),S.createElement("g",{id:i})}function Vk(e){var{children:t,isPanorama:n}=e,r=Se(Aee);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return S.createElement(S.Fragment,null,i.map(l=>S.createElement(Fk,{key:l,zIndex:l,isPanorama:n})),t,s.map(l=>S.createElement(Fk,{key:l,zIndex:l,isPanorama:n})))}var ise=["children"];function ase(e,t){if(e==null)return{};var n,r,i=sse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pm.apply(null,arguments)}var ose={width:"100%",height:"100%",display:"block"},lse=S.forwardRef((e,t)=>{var n=zI(),r=UI(),i=VI();if(!wi(n)||!wi(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),S.createElement(bR,Pm({},l,{title:u,desc:d,role:p,tabIndex:h,width:n,height:r,style:ose,ref:t}),s)}),cse=e=>{var{children:t}=e,n=Se(Sp);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return S.createElement(bR,{width:r,height:i,x:l,y:s},t)},Hk=S.forwardRef((e,t)=>{var{children:n}=e,r=ase(e,ise),i=nr();return i?S.createElement(cse,null,S.createElement(Vk,{isPanorama:!0},n)):S.createElement(lse,Pm({ref:t},r),S.createElement(Vk,{isPanorama:!1},n))});function use(){var e=cn(),[t,n]=S.useState(null),r=Se(gY);return S.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;ln(s)&&s!==r&&e(eY(s))}},[t,e,r]),n}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(null,arguments)}var pse=()=>(mte(),null);function Dm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var gse=S.forwardRef((e,t)=>{var n,r,i=S.useRef(null),[s,l]=S.useState({containerWidth:Dm((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Dm((r=e.style)===null||r===void 0?void 0:r.height)}),u=S.useCallback((h,p)=>{l(g=>{var v=Math.round(h),x=Math.round(p);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),d=S.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var v=w=>{var{width:_,height:E}=w[0].contentRect;u(_,E)},x=new ResizeObserver(v);x.observe(h),i.current=x}},[t,u]);return S.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[u]),S.createElement(S.Fragment,null,S.createElement(jp,{width:s.containerWidth,height:s.containerHeight}),S.createElement("div",so({ref:d},e)))}),vse=S.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=S.useState({containerWidth:Dm(n),containerHeight:Dm(r)}),l=S.useCallback((d,h)=>{s(p=>{var g=Math.round(d),v=Math.round(h);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=S.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:p}=d.getBoundingClientRect();l(h,p)}},[t,l]);return S.createElement(S.Fragment,null,S.createElement(jp,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",so({ref:u},e)))}),yse=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return S.createElement(S.Fragment,null,S.createElement(jp,{width:n,height:r}),S.createElement("div",so({ref:t},e)))}),xse=S.forwardRef((e,t)=>{var{width:n,height:r}=e;return ia(n)||ia(r)?S.createElement(vse,so({},e,{ref:t})):S.createElement(yse,so({},e,{ref:t}))});function bse(e){return e===!0?gse:xse}var wse=S.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:w,onTouchStart:_,style:E,width:j,responsive:A,dispatchTouchEvents:N=!0}=e,D=S.useRef(null),T=cn(),[P,I]=S.useState(null),[B,H]=S.useState(null),Z=use(),U=E1(),J=(U==null?void 0:U.width)>0?U.width:j,oe=(U==null?void 0:U.height)>0?U.height:i,de=S.useCallback(W=>{Z(W),typeof t=="function"&&t(W),I(W),H(W),W!=null&&(D.current=W)},[Z,t,I,H]),ae=S.useCallback(W=>{T(W5(W)),T(Lr({handler:s,reactEvent:W}))},[T,s]),M=S.useCallback(W=>{T(Yb(W)),T(Lr({handler:h,reactEvent:W}))},[T,h]),k=S.useCallback(W=>{T(q3()),T(Lr({handler:p,reactEvent:W}))},[T,p]),Y=S.useCallback(W=>{T(Yb(W)),T(Lr({handler:g,reactEvent:W}))},[T,g]),V=S.useCallback(()=>{T(t4())},[T]),se=S.useCallback(W=>{T(e4(W.key))},[T]),R=S.useCallback(W=>{T(Lr({handler:l,reactEvent:W}))},[T,l]),G=S.useCallback(W=>{T(Lr({handler:u,reactEvent:W}))},[T,u]),ie=S.useCallback(W=>{T(Lr({handler:d,reactEvent:W}))},[T,d]),ue=S.useCallback(W=>{T(Lr({handler:v,reactEvent:W}))},[T,v]),ve=S.useCallback(W=>{T(Lr({handler:_,reactEvent:W}))},[T,_]),Ne=S.useCallback(W=>{N&&T(r4(W)),T(Lr({handler:w,reactEvent:W}))},[T,N,w]),te=S.useCallback(W=>{T(Lr({handler:x,reactEvent:W}))},[T,x]),ye=bse(A);return S.createElement(f5.Provider,{value:P},S.createElement(u9.Provider,{value:B},S.createElement(ye,{width:J??(E==null?void 0:E.width),height:oe??(E==null?void 0:E.height),className:ot("recharts-wrapper",r),style:dse({position:"relative",cursor:"default",width:J,height:oe},E),onClick:ae,onContextMenu:R,onDoubleClick:G,onFocus:V,onKeyDown:se,onMouseDown:ie,onMouseEnter:M,onMouseLeave:k,onMouseMove:Y,onMouseUp:ue,onTouchEnd:te,onTouchMove:Ne,onTouchStart:ve,ref:de},S.createElement(pse,null),n)))}),Sse=["width","height","responsive","children","className","style","compact","title","desc"];function _se(e,t){if(e==null)return{};var n,r,i=Ese(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ese(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jse=S.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:h,desc:p}=e,g=_se(e,Sse),v=yi(g);return d?S.createElement(S.Fragment,null,S.createElement(jp,{width:n,height:r}),S.createElement(Hk,{otherAttributes:v,title:h,desc:p},s)):S.createElement(wse,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},S.createElement(Hk,{otherAttributes:v,title:h,desc:p,ref:t},S.createElement(Qre,null,s)))});function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}var Cse={top:5,right:5,bottom:5,left:5},Nse={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cse,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Tse=S.forwardRef(function(t,n){var r,i=er(t.categoricalChartProps,Nse),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return S.createElement(tse,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},S.createElement(Fre,{chartData:h.data}),S.createElement(nse,{layout:i.layout,margin:i.margin}),S.createElement(rse,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(jse,Kb({},i,{ref:n})))}),Ase=["axis"],Ose=S.forwardRef((e,t)=>S.createElement(Tse,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ase,tooltipPayloadSearcher:Zee,categoricalChartProps:e,ref:t}));const RS=()=>{const e=S.useContext(sD);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Hp=()=>{const e=S.useContext(gR);if(e===void 0)throw new Error("useModal must be used within a ModalProvider");return e},kse=({active:e,payload:t})=>{if(e&&t&&t.length){const n=t[0].payload;return f.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 text-sm",children:[f.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:n.reason}),f.jsxs("p",{className:`font-semibold ${n.change>=0?"text-green-500":"text-red-500"}`,children:["Change: ",n.change>=0?`+${n.change}`:n.change," pts"]}),f.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["Total Score: ",n.score]}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(n.timestamp).toLocaleString()})]})}return null},Pse=({team:e})=>{const t=Qn(e.id);return f.jsxs("div",{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[f.jsx("i",{className:`${t.icon}`,style:{color:t.gradient.from}}),"Score History for ",e.name]}),f.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2 space-y-3",children:e.detailedProgressHistory&&e.detailedProgressHistory.length>1?e.detailedProgressHistory.slice(1).map((n,r)=>f.jsx("div",{className:"p-3 rounded-lg bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:n.reason}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(n.timestamp).toLocaleString()})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`font-bold text-lg ${n.change>=0?"text-green-500":"text-red-500"}`,children:n.change>=0?`+${n.change}`:n.change}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Total: ",n.score]})]})]})},r)):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No score updates recorded yet."})})]})},Dse=({team:e,color:t})=>{const{theme:n}=RS(),{openModal:r,closeModal:i}=Hp(),s=n==="dark"?"#94a3b8":"#64748b",l=()=>{r(f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex justify-end p-2",children:f.jsx("button",{onClick:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})}),f.jsx(Pse,{team:e})]}))},u=e.detailedProgressHistory||[];if(!(u.length>0))return f.jsxs("div",{className:"h-48 flex flex-col",children:[f.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:t},children:e.name}),f.jsx("div",{className:"flex-grow flex items-center justify-center bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"No score updates yet."})})]});const h=u.map((g,v)=>({score:typeof g.score=="number"?g.score:g.score?Number(g.score):0,timestamp:g.timestamp||g.date||new Date().toISOString(),reason:g.reason||(v===0?"Initial score":"Update"),change:typeof g.change=="number"?g.change:0}));for(let g=h.length-1;g>0;g--)h[g].change||(h[g].change=h[g].score-h[g-1].score);h.length===1&&h[0].change===0&&(h[0].change=0);const p=h.map((g,v)=>v).filter(g=>g%Math.ceil((h.length||1)/5)===0||g===(h.length||0)-1);return f.jsxs("div",{className:"h-48 cursor-pointer",onClick:l,title:"Click to view score log",children:[f.jsx("h4",{className:"font-bold text-sm mb-2",style:{color:t},children:e.name}),f.jsx(GY,{width:"100%",height:"100%",children:f.jsxs(Ose,{data:h,margin:{top:5,right:20,left:-20,bottom:5},children:[f.jsx(z5,{strokeDasharray:"3 3",strokeOpacity:n==="dark"?.1:.3}),f.jsx(Y5,{tick:{fontSize:10,fill:s},tickFormatter:g=>`#${g+1}`,interval:0,angle:-30,textAnchor:"end",height:40,ticks:p}),f.jsx(K5,{tick:{fontSize:10,fill:s},domain:[0,"dataMax + 50"],allowDecimals:!1}),f.jsx(Ste,{content:f.jsx(kse,{})}),f.jsx(G5,{type:"stepAfter",dataKey:"score",stroke:t,strokeWidth:2,activeDot:{r:6},dot:{r:3,strokeWidth:2}})]})})]})},a4=({teams:e})=>!e||e.length===0?f.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 h-80 flex items-center justify-center",children:"No score history available to display."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:e.map(t=>{const n=Qn(t.id);return f.jsx(Dse,{team:t,color:n.gradient.from},t.id)})}),Mse=e=>{if(!e.length)return e;const t=[...e].sort((i,s)=>s.score-i.score);let n=1,r=t[0].score;return t.map((i,s)=>(i.score!==r&&(n=s+1,r=i.score),{...i,rank:n}))},s4=e=>Mse(e),Rse=({trend:e,className:t="w-6 h-6"})=>{switch(e){case"up":return f.jsxs("svg",{className:`${t} text-green-500`,viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M16.5 2.5c0-.83.67-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v6.5c0 .14-.02.27-.06.4l-6.7-6.7C13.23 2.52 13.36 2.5 13.5 2.5h3zM12 6L7.5 10.5V9c-.83 0-1.5.67-1.5 1.5v9c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5v-6.5c0-.83-.67-1.5-1.5-1.5h-1.5l4.5-4.5z"}),f.jsx("path",{d:"M21 19V8h-3V6h4v13z"})]});case"down":return f.jsxs("svg",{className:`${t} text-red-500`,viewBox:"0 0 24 24",fill:"currentColor",children:[f.jsx("path",{d:"M16.5 21.5c0 .83.67 1.5 1.5 1.5.84 0 1.5-.67 1.5-1.5v-6.5c0-.14-.02-.27-.06-.4l-6.7 6.7c.13.04.26.06.4.06h3zM12 18L7.5 13.5V15c-.83 0-1.5-.67-1.5-1.5v-9c0-.83.67-1.5 1.5-1.5h9c.83 0 1.5.67 1.5 1.5v6.5c0 .83-.67 1.5-1.5 1.5h-1.5l4.5 4.5z"}),f.jsx("path",{d:"M21 5v11h-3v2h4V5z"})]});case"none":default:return f.jsx("svg",{className:`${t} text-slate-400`,viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4"})})}},Ise=e=>e>.5?"up":e<-.5?"down":"none",Lse=()=>{go("dashboard");const{selectedEvent:e,setSelectedEvent:t,isDataAvailable:n}=$l(),r=qr(),[i,s]=S.useState(null),[l,u]=S.useState(!0);S.useEffect(()=>{let w=!0;(async()=>{try{const j=await ji();w&&(s(j),u(!1))}catch(j){console.warn("Failed to fetch leaderboard",j),w&&u(!1)}})();const E=mD("teams",j=>{if(w&&j){const A=Object.values(j);s(A)}});return()=>{w=!1,E()}},[]);const d=S.useMemo(()=>{const w=(i||[]).filter(_=>_.id!==Rn);return s4(w)},[i]),h=S.useMemo(()=>(d||[]).reduce((w,_)=>w+(_.score||0),0),[d]),[p,g]=S.useState(!1),v=S.useRef(null);S.useEffect(()=>{const w=_=>{v.current&&!v.current.contains(_.target)&&g(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const x=()=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((w,_)=>f.jsx(dl,{},_))}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsx(Te,{className:"lg:col-span-3 p-6",children:f.jsx(at,{className:"h-80 w-full"})}),f.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[f.jsx(at,{className:"h-8 w-1/3 mb-2"}),f.jsx(e9,{count:3})]})]}),f.jsx(Te,{className:"p-6",children:f.jsx(at,{className:"h-80 w-full"})})]});return f.jsxs(vi,{className:"space-y-6",children:[f.jsx("div",{className:"text-center mb-6",children:f.jsxs("div",{className:"relative inline-block",ref:v,children:[f.jsxs("button",{onClick:()=>g(!p),className:"flex items-center justify-center gap-3 text-4xl md:text-5xl font-bold text-slate-800 dark:text-slate-100 focus:outline-none transition-colors hover:text-indigo-600 dark:hover:text-indigo-400","aria-haspopup":"true","aria-expanded":p,children:[f.jsx("span",{children:e}),f.jsx("i",{className:`bi bi-chevron-down text-2xl transition-transform duration-300 ${p?"rotate-180":""}`})]}),f.jsx(np,{children:p&&f.jsx(ii.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"absolute top-full mt-4 left-1/2 -translate-x-1/2 w-72 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden z-10",children:f.jsx("ul",{className:"p-2",children:bF.map(w=>f.jsx("li",{onClick:()=>{t(w),g(!1)},className:`px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-indigo-100 dark:hover:bg-indigo-900/50 rounded-lg cursor-pointer transition-colors ${e===w?"text-indigo-600":""}`,children:w},w))})})})]})}),n?l?x():f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:d.slice(0,4).map(w=>{var P,I;const _=w.progressHistory||[];let E=0;if(_.length>=2){const B=_[_.length-1].score,H=_[_.length-2].score;H>0?E=(B-H)/H*100:B>0&&(E=100)}const j=E>=0,A=Qn(w.id),N=Ise(E),T=`${(h>0?w.score/h*100:0).toFixed(1)}%`;return f.jsxs(Te,{className:"p-5 transform transition-transform hover:-translate-y-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("small",{className:"text-slate-500 dark:text-slate-400 font-semibold",children:w.name}),f.jsx("i",{className:`${A.icon} text-2xl`,style:{color:A.gradient.from}})]}),f.jsxs("div",{className:"flex items-baseline justify-between mt-3 mb-2",children:[f.jsxs("h4",{className:"font-bold text-2xl text-slate-800 dark:text-slate-100 mb-0",children:[w.score," Pts"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Share of total"}),f.jsx("span",{className:"font-semibold text-sm text-slate-800 dark:text-slate-100",children:T})]}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Change"}),f.jsx("span",{className:`font-semibold text-sm ${j?"text-green-500":"text-red-500"}`,children:E!==0?(j?"+":"")+Math.abs(E).toFixed(1)+"%":"0%"})]}),f.jsx(Rse,{trend:N,className:"w-5 h-5"})]})]}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400 mt-2 block",children:[f.jsx("i",{className:"bi bi-trophy-fill text-yellow-500 mr-1"}),((P=w.placementStats)==null?void 0:P.first)||0," 1st place",(((I=w.placementStats)==null?void 0:I.first)||0)!==1?"s":""]})]},w.id)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsxs(Te,{className:"lg:col-span-3",children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Leaderboard Ranking"})}),f.jsx("div",{className:"px-6 pb-6",children:f.jsx(Q$,{teams:d})})]}),f.jsx("div",{className:"lg:col-span-2 space-y-4",children:f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Top Teams"}),f.jsx("div",{className:"space-y-3 mt-2",children:d.slice(0,5).map(w=>f.jsxs(Te,{className:"p-4 cursor-pointer group",onClick:()=>r(`/teams?teamId=${w.id}`),children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors",children:w.name}),f.jsxs("span",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:["#",w.rank]})]}),f.jsxs("div",{className:"flex justify-between items-end pt-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("i",{className:"bi bi-people-fill mr-1"}),w.playersCount," Members"]}),f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:[w.score," pts"]})]})]},w.id))})]})})]}),f.jsxs(Te,{children:[f.jsx("div",{className:"p-6",children:f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Team Score Progression"})}),f.jsx("div",{className:"px-6 pb-6",children:f.jsx(a4,{teams:d})})]})]}):f.jsx(pd,{})]})},xo=()=>{const e=S.useContext(BD);if(e===void 0)throw new Error("useVisibility must be used within a VisibilityProvider");return e},Bse=({log:e,teams:t,onClose:n,onSave:r})=>{const[i,s]=S.useState(e),l=t.filter(h=>h.id!==Rn),u="w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",d=h=>{const{name:p,value:g}=h.target;s(v=>({...v,[p]:p==="points"?parseInt(g)||0:g}))};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:[e.id?"Edit":"Add"," Merit/Demerit Entry"]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Team"}),f.jsxs("select",{name:"teamId",value:i.teamId,onChange:d,className:u,children:[f.jsx("option",{value:"",children:"Select Team..."}),l.map(h=>f.jsx("option",{value:h.id,children:h.name},h.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Type"}),f.jsxs("select",{name:"type",value:i.type,onChange:d,className:u,children:[f.jsx("option",{value:"merit",children:"Merit (+)"}),f.jsx("option",{value:"demerit",children:"Demerit (-)"})]})]}),f.jsx(St,{id:"reason",name:"reason",label:"Reason",value:i.reason||"",onChange:d}),f.jsx(St,{id:"points",name:"points",label:"Points (Positive Value)",type:"number",value:i.points||"",onChange:d})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{onClick:()=>r(i),children:"Save Entry"})]})]})},zse=()=>{go("leaderboard");const{openModal:e,closeModal:t}=Hp(),[n,r]=S.useState("standings"),{addToast:i}=On(),{user:s}=Gt(),{settings:l,isPrivileged:u}=xo(),{isDataAvailable:d}=$l(),h=qr(),{data:p,loading:g}=an(ji,[xe.TEAMS,xe.EVENTS,xe.USERS]),{data:v,loading:x}=an(ha,[xe.EVENTS]),w=p||[],_=v||[],E=g||x,[j,A]=S.useState(null),N=(s==null?void 0:s.role)===Pe.ADMIN||(s==null?void 0:s.role)===Pe.OFFICER||(s==null?void 0:s.teamId)===Rn,D=(s==null?void 0:s.role)===Pe.ADMIN,T=S.useMemo(()=>_.reduce((M,k)=>((M[k.category]=M[k.category]||[]).push(k),M),{}),[_]),P=Object.values(_e),I=M=>{h(`/teams?teamId=${M.id}`,{replace:!0})},B=M=>{e(f.jsx(Use,{event:M,teams:w,onClose:t}))},H=async M=>{if(!M.teamId||!M.reason||M.points===void 0||M.points<=0){i("Please fill all fields with valid values (points must be > 0).","error");return}try{M.id?(await jD(M.id,M),i("Log entry updated!","success")):(await Nw(M),i("New log entry added!","success")),t()}catch(k){try{const{enqueue:Y,processQueue:V}=await ri(async()=>{const{enqueue:se,processQueue:R}=await Promise.resolve().then(()=>Ml);return{enqueue:se,processQueue:R}},void 0);Y("point:add",M),V(),i("Log entry queued  will sync when online.","info"),t()}catch{i(k.message||"Failed to save log entry.","error")}}},Z=M=>{const k=M||{teamId:"",type:"merit",reason:"",points:0};e(f.jsx(Bse,{log:k,teams:w,onClose:t,onSave:H}))},U=async(M,k,Y)=>{if(window.confirm("Are you sure you want to delete this log entry?"))try{await ED(M),i("Log entry deleted.","success")}catch{i("Failed to delete log entry.","error")}},J=S.useMemo(()=>{const M=w.filter(k=>k.id!==Rn);return s4(M)},[w]),oe=w.flatMap(M=>[...(M.merits||[]).map(k=>({...k,teamName:M.name,teamId:M.id,type:"merit"})),...(M.demerits||[]).map(k=>({...k,teamName:M.name,teamId:M.id,type:"demerit"}))]).sort((M,k)=>new Date(k.timestamp).getTime()-new Date(M.timestamp).getTime()),de=()=>f.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((M,k)=>f.jsx(Te,{className:"p-4",children:f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-4",children:[f.jsx(at,{className:"h-8 w-12"})," ",f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(at,{className:"h-10 w-10 rounded-full"})," ",f.jsxs("div",{className:"space-y-2",children:[f.jsx(at,{className:"h-6 w-32"})," ",f.jsx(at,{className:"h-4 w-48"})," "]})]}),f.jsxs("div",{className:"space-y-2 text-right",children:[f.jsx(at,{className:"h-6 w-20 ml-auto"})," ",f.jsx(at,{className:"h-4 w-16 ml-auto"})," "]})]})},k))}),ae=[{label:"1st Place",bg:"bg-yellow-500",text:"text-white"},{label:"2nd Place",bg:"bg-slate-300",text:"text-slate-800"},{label:"3rd Place",bg:"bg-amber-700",text:"text-white"},{label:"4th Place",bg:"bg-slate-200",text:"text-slate-600"},{label:"Merit",bg:"bg-blue-500",text:"text-white"},{label:"Demerit",bg:"bg-red-500",text:"text-white"}];return d?f.jsxs(vi,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Leaderboard"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[(u||l.leaderboard.tabs.standings)&&(u||l.competitionScores)&&f.jsx("button",{onClick:()=>r("standings"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="standings"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Team Standings"}),(u||l.leaderboard.tabs.records)&&f.jsx("button",{onClick:()=>r("records"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="records"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Competition Records"}),(u||l.leaderboard.tabs.meritsLog)&&f.jsx("button",{onClick:()=>r("merits"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors whitespace-nowrap ${n==="merits"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Merit & Demerit Log"})]}),n==="standings"&&(u||l.leaderboard.tabs.standings)&&(u||l.competitionScores)&&(E?de():f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-wrap gap-4 bg-white dark:bg-slate-800 p-3 rounded-lg shadow-soft dark:shadow-soft-dark text-xs sm:text-sm",children:[f.jsx("span",{className:"font-semibold text-slate-600 dark:text-slate-400",children:"Legend:"}),ae.map((M,k)=>f.jsxs("div",{className:"flex items-center space-x-1.5",children:[f.jsx("span",{className:`inline-block w-4 h-4 rounded-full ${M.bg}`}),f.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:M.label})]},k))]}),f.jsx("div",{className:"space-y-3",children:[...J].sort((M,k)=>M.rank-k.rank).map(M=>{var Y,V,se,R,G,ie;const k=Qn(M.id);return f.jsx(Te,{className:"cursor-pointer group hover:bg-slate-50 dark:hover:bg-slate-800/50",onClick:()=>I(M),children:f.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] items-center p-4 gap-4",children:[(u||l.competitionScores)&&f.jsx("div",{className:"w-12 text-center",children:f.jsxs("span",{className:"text-2xl font-bold text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 transition-colors",children:["#",M.rank]})}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("i",{className:`${k.icon} text-3xl`,style:{color:k.gradient.from}}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors",children:M.name}),f.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5 text-xs",children:[f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-yellow-500 text-white flex items-center gap-1",title:"1st Places",children:[f.jsx("i",{className:"bi bi-trophy-fill"})," ",((Y=M.placementStats)==null?void 0:Y.first)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-300 text-slate-800 flex items-center gap-1",title:"2nd Places",children:[f.jsx("i",{className:"bi bi-award-fill"})," ",((V=M.placementStats)==null?void 0:V.second)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-amber-700 text-white flex items-center gap-1",title:"3rd Places",children:[f.jsx("i",{className:"bi bi-award-fill"})," ",((se=M.placementStats)==null?void 0:se.third)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-slate-200 text-slate-600 flex items-center gap-1",title:"4th Places",children:["4th: ",((R=M.placementStats)==null?void 0:R.fourth)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-blue-500 text-white flex items-center gap-1",title:"Merits",children:["M: ",((G=M.placementStats)==null?void 0:G.merits)||0]}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-red-500 text-white flex items-center gap-1",title:"Demerits",children:["D: ",((ie=M.placementStats)==null?void 0:ie.demerits)||0]})]})]})]}),f.jsxs("div",{className:"text-right",children:[(u||l.competitionScores)&&f.jsxs("p",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:[M.score," pts"]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[M.playersCount," Members"]})]})]})},M.id)})})]})),n==="records"&&(u||l.leaderboard.tabs.records)&&f.jsx("div",{className:"space-y-6",children:E?f.jsx(at,{className:"h-96 w-full"}):_.length===0?f.jsx("p",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No events found."}):P.map(M=>T[M]&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:M}),f.jsx("div",{className:"space-y-4",children:T[M].map(k=>{const Y=!!k.results&&k.results.length>0;return f.jsxs(Te,{className:"p-5",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[k.name,Y&&f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 text-sm"})]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[new Date(k.date).toLocaleDateString()," ",(u||l.competitionScores)&&` Max Points: ${k.competitionPoints}`]})]}),N&&f.jsx(me,{variant:"secondary",className:"text-sm py-1.5 px-3",onClick:()=>B(k),children:Y?"Update Scores":"Input Scores"})]}),Y?f.jsx("div",{className:"mt-4 space-y-3",children:[...J].sort((V,se)=>{var R,G,ie,ue;return(((G=(R=V.eventScores)==null?void 0:R.find(ve=>ve.eventId===k.id))==null?void 0:G.placement)||999)-(((ue=(ie=se.eventScores)==null?void 0:ie.find(ve=>ve.eventId===k.id))==null?void 0:ue.placement)||999)}).map(V=>{var ue,ve,Ne;const se=(ue=V.eventScores)==null?void 0:ue.find(te=>te.eventId===k.id);if(!se)return null;const R=j===V.id,G=(Ne=(ve=V.rosters)==null?void 0:ve.find(te=>te.eventId===k.id))==null?void 0:Ne.participants,ie=Qn(V.id);return f.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-800/50 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",onClick:()=>A(R?null:V.id),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[(u||l.competitionScores)&&f.jsxs("span",{className:"font-bold text-lg w-8 text-center",children:["#",se.placement]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-semibold flex items-center gap-2",style:{color:ie.gradient.from},children:[f.jsx("i",{className:`${ie.icon} text-lg`}),f.jsx("span",{children:V.name})]}),(u||l.competitionScores)&&f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[se.competitionPoints," pts earned"]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[(u||l.competitionScores)&&f.jsxs("div",{className:"text-right",children:[f.jsx("span",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:se.rawScore}),f.jsx("span",{className:"text-xs block text-slate-500 dark:text-slate-400",children:"Total Raw"})]}),f.jsx("i",{className:`bi bi-chevron-${R?"up":"down"} text-slate-400`})]})]}),R&&f.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[(u||l.competitionScores)&&f.jsxs("div",{children:[f.jsx("h5",{className:"text-sm font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Criteria Breakdown"}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:se.scores.map(te=>f.jsxs("div",{className:"p-2 rounded bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600",children:[f.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:te.criteria}),f.jsxs("div",{className:"font-semibold",children:[te.score," / ",te.maxScore]})]},te.criteria))})]}),G&&G.length>0&&f.jsxs("div",{children:[f.jsx("h5",{className:"text-sm font-semibold mb-2 text-slate-700 dark:text-slate-300",children:"Registered Participants"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:G.map((te,ye)=>f.jsx("span",{className:"text-xs font-medium bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 px-2 py-1 rounded-full",children:te},ye))})]})]})]},V.id)})}):f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic py-2",children:"Scores not yet finalized for this event."})]},k.id)})})]},M))}),n==="merits"&&(u||l.leaderboard.tabs.meritsLog)&&f.jsxs(Te,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Merit & Demerit Log"}),D&&f.jsx(me,{onClick:()=>Z(),children:"Add Entry"})]}),E?f.jsx(at,{className:"h-64 w-full"}):oe.length===0?f.jsx("p",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"No merits or demerits have been recorded yet."}):f.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:oe.map(M=>{const k=Qn(M.teamId);return f.jsxs("div",{className:`p-3 rounded-lg flex justify-between items-start gap-4 ${M.type==="merit"?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"}`,children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:M.reason}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("i",{className:`${k.icon}`,style:{color:k.gradient.from}}),f.jsxs("span",{children:["Team: ",M.teamName,"  By ",M.updatedBy," on ",new Date(M.timestamp).toLocaleDateString()]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("span",{className:`font-bold text-lg ${M.type==="merit"?"text-green-500":"text-red-500"}`,children:M.type==="merit"?`+${M.points}`:`-${M.points}`}),D&&f.jsxs("div",{className:"flex gap-1",children:[f.jsx(me,{variant:"secondary",className:"!p-0 h-6 w-6 text-xs",onClick:()=>Z({...M,type:M.type}),children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-0 h-6 w-6 text-xs",onClick:()=>U(M.id,M.teamId,M.type),children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})]},M.id)})})]})]}):f.jsx(vi,{children:f.jsx(pd,{})})},Use=({event:e,teams:t,onClose:n})=>{const{addToast:r}=On(),[i,s]=S.useState([]);S.useEffect(()=>{const d=t.map(h=>{var v;const p=(v=e.results)==null?void 0:v.find(x=>x.teamId===h.id);if(p)return{...p,criteriaScores:{...p.criteriaScores},merits:[...p.merits||[]],demerits:[...p.demerits||[]]};const g={};return e.criteria.forEach(x=>g[x.name]=0),{teamId:h.id,criteriaScores:g,meritAdjustment:0,demeritAdjustment:0,merits:[],demerits:[]}});s(d)},[e,t]);const l=(d,h,p)=>{const g=parseFloat(p)||0,v=[...i];v[d].criteriaScores[h]=g,s(v)},u=async()=>{try{await wD(e.id,i),r("Scores updated and leaderboard synchronized!","success"),n()}catch{r("Failed to save scores.","error")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:["Input Scores: ",e.name]}),f.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"flex-grow min-h-0 overflow-y-auto p-6 space-y-4",children:[f.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg text-sm text-slate-700 dark:text-slate-300 mb-4",children:f.jsxs("p",{children:[f.jsx("strong",{children:"Instructions:"})," Enter raw criteria scores in the table below. The system automatically calculates total raw scores and final placement points."]})}),i.map((d,h)=>{const p=t.find(v=>v.id===d.teamId);if(!p||p.id===Rn)return null;const g=Qn(p.id);return f.jsxs(Te,{className:"p-4",children:[f.jsx("h4",{className:"font-bold text-lg mb-3",style:{color:g.gradient.from},children:p.name}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 dark:border-slate-700",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Criteria"}),f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Description"}),f.jsx("th",{className:"p-3 text-center font-semibold text-slate-600 dark:text-slate-300 w-32",children:"Score"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.criteria.map(v=>f.jsxs("tr",{children:[f.jsx("td",{className:"p-3 font-medium text-slate-700 dark:text-slate-200",children:v.name}),f.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:v.description}),f.jsx("td",{className:"p-3 text-center",children:f.jsx(St,{id:`${p.id}-${v.name}`,label:"",type:"number",min:"0",max:v.points,value:d.criteriaScores[v.name]||"",onChange:x=>l(h,v.name,x.target.value),className:"!mt-0 w-24 text-center mx-auto",placeholder:`Max: ${v.points}`})})]},v.name))})]})})]},p.id)})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end gap-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{onClick:u,children:"Save & Calculate Rankings"})]})]})},Fse=({criteria:e})=>f.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200 dark:border-slate-700",children:f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Criteria"}),f.jsx("th",{className:"p-3 text-left font-semibold text-slate-600 dark:text-slate-300",children:"Description"}),f.jsx("th",{className:"p-3 text-right font-semibold text-slate-600 dark:text-slate-300",children:"Points"})]})}),f.jsx("tbody",{children:e.map((t,n)=>f.jsxs("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:[f.jsx("td",{className:"p-3 font-medium text-slate-700 dark:text-slate-200",children:t.name}),f.jsx("td",{className:"p-3 text-slate-600 dark:text-slate-300",children:t.description}),f.jsxs("td",{className:"p-3 text-right font-semibold text-slate-700 dark:text-slate-200",children:[t.points," pts"]})]},n))})]})}),qk=({event:e,onClose:t})=>{var n;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e.name}),f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsx("div",{className:"flex-grow overflow-y-auto p-6",children:f.jsxs("div",{className:"space-y-4 text-sm",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-slate-600 dark:text-slate-300",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-person-badge-fill mr-2"}),f.jsx("strong",{children:"In-Charge:"})," ",e.officerInCharge]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-people-fill mr-2"}),f.jsx("strong",{children:"Participants:"})," ",e.participantsInfo]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-calendar-week mr-2"}),f.jsx("strong",{children:"Date:"})," ",new Date(e.date).toLocaleDateString()]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-geo-alt-fill mr-2"}),f.jsx("strong",{children:"Venue:"})," ",e.venue]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-trophy-fill mr-2"}),f.jsx("strong",{children:"Points:"})," ",e.competitionPoints]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-gavel mr-2"}),f.jsx("strong",{children:"Judges:"})," ",((n=e.judges)==null?void 0:n.join(", "))||"N/A"]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Description"}),f.jsx("p",{className:"whitespace-pre-wrap text-slate-600 dark:text-slate-300",children:e.description})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Mechanics"}),f.jsx("p",{className:"whitespace-pre-wrap text-slate-600 dark:text-slate-300",children:e.mechanics})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-md text-slate-800 dark:text-slate-100 mb-2",children:"Criteria for Judging"}),f.jsx(Fse,{criteria:e.criteria})]})]})]})})]})},Vse=({event:e,onSelect:t,canManage:n})=>{const i=(u=>{const d=new Date;d.setHours(0,0,0,0);const h=new Date(u.date);return h.setHours(0,0,0,0),h<d?Ft.COMPLETED:h.getTime()===d.getTime()?Ft.OPEN:Ft.UPCOMING})(e),s={[Ft.OPEN]:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800",[Ft.CLOSED]:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",[Ft.UPCOMING]:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",[Ft.COMPLETED]:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-80"},l={[Ft.OPEN]:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",[Ft.CLOSED]:"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100",[Ft.UPCOMING]:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100",[Ft.COMPLETED]:"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-300"};return f.jsxs(Te,{className:`flex flex-col border ${s[i]} dark:shadow-soft-dark overflow-hidden`,children:[f.jsxs("div",{className:"p-5 flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-50 leading-tight",children:e.name}),f.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full uppercase tracking-wide ${l[i]}`,children:i})]}),f.jsxs("div",{className:"space-y-2.5 mb-4 text-sm text-slate-600 dark:text-slate-300",children:[f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-person-badge-fill text-slate-500 dark:text-slate-400"}),f.jsx("span",{className:"truncate",children:e.officerInCharge})]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-calendar-week text-slate-500 dark:text-slate-400"}),f.jsx("span",{children:new Date(e.date).toLocaleDateString()})]}),f.jsxs("p",{className:"flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-geo-alt-fill text-slate-500 dark:text-slate-400"}),f.jsx("span",{children:e.venue})]})]}),f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 line-clamp-2 leading-relaxed",children:e.description})]}),f.jsxs("div",{className:"px-4 py-3 bg-white/50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 flex gap-2",children:[f.jsx(me,{variant:"secondary",className:"flex-1 text-xs py-1.5",onClick:()=>t("view",e),children:"View Details"}),n&&f.jsxs(f.Fragment,{children:[f.jsx(me,{variant:"secondary",className:"!p-0 h-8 w-8 text-xs flex items-center justify-center",onClick:()=>t("edit",e),title:"Edit Event",children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-0 h-8 w-8 text-xs flex items-center justify-center",onClick:()=>t("delete",e),title:"Delete Event",children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})]})},Gk=({event:e,onSave:t,onClose:n})=>{var N,D;const[r,i]=S.useState(e||{name:"",date:new Date().toISOString().split("T")[0],venue:"TBD",description:"",mechanics:"",criteria:[],status:Ft.UPCOMING,category:_e.JOKER_FLAG,officerInCharge:"",participantsInfo:"",judges:[],competitionPoints:1e3}),[s,l]=S.useState(""),[u,d]=S.useState({name:"",description:"",points:""}),{addToast:h}=On();S.useEffect(()=>{e&&i({...e,date:new Date(e.date||Date.now()).toISOString().split("T")[0]})},[e]);const p=T=>{const{name:P,value:I,type:B}=T.target,H=B==="number";i(Z=>({...Z,[P]:H?Number(I):I}))},g=()=>{s.trim()&&(i(T=>({...T,judges:[...T.judges||[],s.trim()]})),l(""))},v=T=>{i(P=>{var I;return{...P,judges:(I=P.judges)==null?void 0:I.filter((B,H)=>H!==T)}})},x=()=>{const{name:T,description:P,points:I}=u,B=parseInt(I);T.trim()&&P.trim()&&!isNaN(B)&&B>0?(i(H=>({...H,criteria:[...H.criteria||[],{name:T,description:P,points:B}]})),d({name:"",description:"",points:""})):h("Please enter a valid name, description, and point value.","error")},w=T=>{i(P=>{var I;return{...P,criteria:(I=P.criteria)==null?void 0:I.filter((B,H)=>H!==T)}})},_=(T,P,I)=>{const B=[...r.criteria||[]],H={...B[T]};P==="points"?H[P]=parseInt(I,10)||0:H[P]=I,B[T]=H,i(Z=>({...Z,criteria:B}))},E=T=>{T.preventDefault(),t(r)},j="mt-1 block w-full text-sm px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",A="block text-sm font-medium text-slate-700 dark:text-slate-300";return f.jsxs("form",{onSubmit:E,className:"flex flex-col flex-grow overflow-hidden",children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:e!=null&&e.id?`Edit: ${e.name}`:"Add New Event"}),f.jsx("button",{type:"button",onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-4 text-sm",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:A,children:"Event Name"}),f.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:p,className:j,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"category",className:A,children:"Category"}),f.jsx("select",{name:"category",id:"category",value:r.category,onChange:p,className:j,children:Object.values(_e).map(T=>f.jsx("option",{value:T,children:T},T))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"officerInCharge",className:A,children:"Officer-in-Charge"}),f.jsx("input",{type:"text",name:"officerInCharge",id:"officerInCharge",value:r.officerInCharge,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"participantsInfo",className:A,children:"Participants Info"}),f.jsx("input",{type:"text",name:"participantsInfo",id:"participantsInfo",placeholder:"e.g., 10-15 per team",value:r.participantsInfo,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"competitionPoints",className:A,children:"Competition Points"}),f.jsx("input",{type:"number",name:"competitionPoints",id:"competitionPoints",value:r.competitionPoints,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"date",className:A,children:"Event Date"}),f.jsx("input",{type:"date",name:"date",id:"date",value:r.date,onChange:p,className:j})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{htmlFor:"venue",className:A,children:"Venue"}),f.jsx("input",{type:"text",name:"venue",id:"venue",value:r.venue,onChange:p,className:j})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:A,children:"General Description"}),f.jsx("textarea",{name:"description",id:"description",rows:3,value:r.description,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"mechanics",className:A,children:"Mechanics / Rules"}),f.jsx("textarea",{name:"mechanics",id:"mechanics",rows:5,value:r.mechanics,onChange:p,className:j})]}),f.jsxs("div",{children:[f.jsx("label",{className:A,children:"Criteria for Judging"}),f.jsx("div",{className:"space-y-2 mt-1",children:(N=r.criteria)==null?void 0:N.map((T,P)=>f.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto_auto] items-end gap-2 p-2 bg-slate-100 dark:bg-slate-800/50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Name"}),f.jsx("input",{type:"text",value:T.name,onChange:I=>_(P,"name",I.target.value),className:`${j} !p-1.5`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Description"}),f.jsx("input",{type:"text",value:T.description,onChange:I=>_(P,"description",I.target.value),className:`${j} !p-1.5`})]}),f.jsxs("div",{className:"w-20",children:[f.jsx("label",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Points"}),f.jsx("input",{type:"number",value:T.points,onChange:I=>_(P,"points",I.target.value),className:`${j} !p-1.5`})]}),f.jsx("button",{type:"button",onClick:()=>w(P),className:"h-9 w-9 flex-shrink-0 bg-red-100 text-red-600 dark:bg-red-900/50 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-800 rounded-md font-bold",children:""})]},P))}),f.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto_auto] items-end gap-2 mt-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"New Criterion Name"}),f.jsx("input",{type:"text",value:u.name,onChange:T=>d({...u,name:T.target.value}),placeholder:"e.g., Creativity",className:j})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Description"}),f.jsx("input",{type:"text",value:u.description,onChange:T=>d({...u,description:T.target.value}),placeholder:"e.g., Originality of concept",className:j})]}),f.jsxs("div",{className:"w-20",children:[f.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Points"}),f.jsx("input",{type:"number",value:u.points,onChange:T=>d({...u,points:T.target.value}),placeholder:"e.g., 30",className:j})]}),f.jsx(me,{type:"button",variant:"secondary",onClick:x,children:"Add"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:A,children:"Judges"}),f.jsx("div",{className:"flex flex-wrap gap-2 my-2",children:(D=r.judges)==null?void 0:D.map((T,P)=>f.jsxs("span",{className:"flex items-center bg-slate-200 dark:bg-slate-600 rounded-full px-3 py-1 text-sm",children:[T,f.jsx("button",{type:"button",onClick:()=>v(P),className:"ml-2 text-red-500 hover:text-red-700",children:""})]},P))}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"text",value:s,onChange:T=>l(T.target.value),placeholder:"Add judge name...",className:j}),f.jsx(me,{type:"button",variant:"secondary",onClick:g,children:"Add"})]})]})]}),f.jsxs("div",{className:"flex-shrink-0 flex justify-end space-x-3 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{type:"button",variant:"secondary",onClick:n,children:"Cancel"}),f.jsx(me,{type:"submit",children:"Save Event"})]})]})},Hse=({event:e,onClose:t,onConfirm:n})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Confirm Deletion"}),f.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:f.jsx("i",{className:"bi bi-x-lg"})})]}),f.jsxs("div",{className:"p-6 text-center",children:[f.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete the event: ",f.jsx("br",{}),f.jsx("strong",{className:"text-lg",children:e.name}),"?"]}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsx(me,{variant:"secondary",onClick:t,children:"Cancel"}),f.jsx(me,{variant:"danger",onClick:n,children:"Delete"})]})]})]}),$se=()=>{go("events");const{data:e,loading:t}=an(ha,[xe.EVENTS]),{user:n}=Gt(),{addToast:r}=On(),[i]=iD(),{openModal:s,closeModal:l}=Hp(),{isDataAvailable:u}=$l(),{settings:d,isPrivileged:h}=xo(),p=(n==null?void 0:n.role)===Pe.ADMIN||(n==null?void 0:n.role)===Pe.OFFICER;S.useEffect(()=>{if(!u||!e)return;const E=i.get("eventId");if(E){const j=e.find(A=>A.id===E);j&&s(f.jsx(qk,{event:j,onClose:l}))}},[i,u,e]);const g=(E,j)=>{if(E==="view"&&s(f.jsx(qk,{event:j,onClose:l})),E==="edit"&&s(f.jsx(Gk,{event:j,onSave:x,onClose:l})),E==="delete"){const A=async()=>{try{await bD(j.id),r("Event deleted successfully!","success"),l()}catch{r("Failed to delete event.","error")}};s(f.jsx(Hse,{event:j,onClose:l,onConfirm:A}))}},v=()=>{s(f.jsx(Gk,{event:null,onSave:x,onClose:l}))},x=async E=>{try{E.id?(await Cw(E),r("Event updated successfully!","success")):(await xD(E),r("Event created successfully!","success")),l()}catch{r("Failed to save event.","error")}},w=S.useMemo(()=>e?e.reduce((E,j)=>((E[j.category]=E[j.category]||[]).push(j),E),{}):{},[e]),_=Object.values(_e);return u?f.jsxs(vi,{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Events"}),p&&f.jsx(me,{onClick:v,children:"Add Event"})]}),t?f.jsx("p",{children:"Loading events..."}):f.jsx("div",{className:"space-y-8",children:_.map(E=>(h||d.events.categories[E])&&w[E]&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:E}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w[E].map(j=>f.jsx(Vse,{event:j,onSelect:g,canManage:p},j.id))})]},E))})]}):f.jsx(vi,{children:f.jsx(pd,{})})},Yk=()=>{go("profile");const{userId:e}=hU(),{user:t,updateUser:n}=Gt(),{addToast:r}=On(),i=qr(),[s,l]=S.useState(null),[u,d]=S.useState(!0),[h,p]=S.useState(!1),[g,v]=S.useState([]),[x,w]=S.useState([]),[_,E]=S.useState(null),[j,A]=S.useState({}),N=!e||(t==null?void 0:t.id)===e,D=k=>{if(!k)return null;try{const Y=new Date(k),V=new Date;let se=V.getFullYear()-Y.getFullYear();const R=V.getMonth()-Y.getMonth();return(R<0||R===0&&V.getDate()<Y.getDate())&&se--,se>0?se:null}catch{return null}};S.useEffect(()=>{(async()=>{d(!0);try{const[Y,V,se]=await Promise.all([ji(),ha(),mo()]);v(Y),w(V);let R=null;if(e){if(R=se.find(G=>G.id===e),!R){r("User not found.","error"),i("/dashboard",{replace:!0});return}}else R=t;R&&(l(R),A({...R}),E(R.avatar||null))}catch(Y){console.error("Error fetching profile data",Y),r("Failed to load profile data.","error")}finally{d(!1)}})()},[e,t,i,r]),S.useEffect(()=>{!h&&s&&(A({...s}),E(s.avatar||null))},[h,s]);const T=k=>{const{name:Y,value:V}=k.target;A(se=>({...se,[Y]:V}))},P=k=>{A(Y=>{const V=Y.interestedEvents||[],se=V.includes(k)?V.filter(R=>R!==k):[...V,k];return{...Y,interestedEvents:se}})},I=k=>{var V;if(!N)return;const Y=(V=k.target.files)==null?void 0:V[0];if(Y){const se=new FileReader;se.onloadend=()=>{const R=se.result;E(R),A(G=>({...G,avatar:R}))},se.readAsDataURL(Y)}},B=async()=>{var k,Y,V;if(N){if(!((k=j.firstName)!=null&&k.trim())||!((Y=j.lastName)!=null&&Y.trim())||!((V=j.studentId)!=null&&V.trim())){r("First name, last name, and ID number are required.","error");return}try{await n(j),r("Profile updated successfully!","success"),l(j),p(!1)}catch(se){r(se.message||"Failed to update profile.","error")}}},H=()=>{p(!1)},Z="w-full px-3 py-2 bg-slate-50 dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none disabled:bg-slate-100 dark:disabled:bg-slate-800/50 disabled:cursor-not-allowed disabled:opacity-70",U="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",J=k=>{var Y;return((Y=g.find(V=>V.id===k))==null?void 0:Y.name)||"Not Assigned"};if(u)return f.jsx("div",{children:"Loading profile..."});if(!s)return f.jsx("div",{children:"User not found."});const oe=Qn(s.teamId),de=D(j.birthdate),ae=()=>{var k;return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Te,{className:"p-0 overflow-visible",children:[f.jsx("div",{className:"h-32 rounded-t-2xl",style:{background:`linear-gradient(45deg, ${oe.gradient.from}, ${oe.gradient.to})`}}),f.jsx("div",{className:"p-6 pt-0",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-4 -mt-16 relative",children:[f.jsx("img",{src:s.avatar||"https://via.placeholder.com/150",alt:"Profile",className:"h-32 w-32 rounded-full object-cover border-4 border-white dark:border-slate-800 shadow-lg"}),f.jsxs("div",{className:"text-center md:text-left md:mb-2 flex-grow",children:[f.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50 flex items-center gap-2 justify-center md:justify-start",children:[f.jsxs("span",{children:[s.firstName," ",s.lastName]}),f.jsx("span",{className:"text-2xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.2)"},children:""})]}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 uppercase font-semibold mt-1 tracking-wide",children:(k=s.role)==null?void 0:k.replace("_"," ")})]}),N&&f.jsx(me,{variant:"secondary",onClick:()=>p(!0),className:"absolute top-16 right-0 md:relative md:top-0 md:right-0",children:"Edit Profile"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[f.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[f.jsxs(Te,{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-slate-100",children:"Personal Details"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-person-vcard-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Full Name"}),f.jsxs("p",{className:"text-slate-700 dark:text-slate-200",children:[s.firstName," ",s.middleName," ",s.lastName]})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-person-badge-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Student ID"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.studentId||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-envelope-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Email"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.email})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-telephone-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Contact"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.contactInfo||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-gender-ambiguous text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Gender"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.gender||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-calendar-heart-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Birthdate & Age"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.birthdate?`${new Date(s.birthdate).toLocaleDateString()} (${D(s.birthdate)} yrs)`:"Not set"})]})]})]})]}),f.jsxs(Te,{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-2 text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:""})," Bio"]}),f.jsx("p",{className:"text-slate-700 dark:text-slate-300 whitespace-pre-wrap text-sm",children:s.bio||"No bio provided."})]})]}),f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs(Te,{className:"p-6",children:[f.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-slate-100",children:"Academic & Team"}),f.jsxs("div",{className:"space-y-4 text-sm",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-bar-chart-steps text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Year Level"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.yearLevel||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:"bi bi-people-fill text-indigo-500 mt-1"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Section"}),f.jsx("p",{className:"text-slate-700 dark:text-slate-200",children:s.section||"Not set"})]})]}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("i",{className:`${oe.icon} mt-1`,style:{color:oe.gradient.from}}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-500 dark:text-slate-400",children:"Assigned Team"}),f.jsx("p",{className:"font-bold",style:{color:oe.gradient.from},children:J(s.teamId)})]})]})]})]}),f.jsxs(Te,{className:"p-6",children:[f.jsxs("h3",{className:"font-bold text-lg mb-3 text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",style:{textShadow:"2px 2px 5px rgba(0,0,0,0.1)"},children:""})," Interested Events"]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:s.interestedEvents&&s.interestedEvents.length>0?s.interestedEvents.map((Y,V)=>f.jsx("span",{className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-800 dark:text-indigo-200 rounded-full text-sm font-medium",children:Y},V)):f.jsx("span",{className:"text-slate-500 dark:text-slate-400 italic text-sm",children:"No events selected."})})]})]})]})]})},M=()=>f.jsx("div",{className:"space-y-6",children:f.jsxs(Te,{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 pb-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:_||"https://via.placeholder.com/150",alt:"Profile",className:"h-32 w-32 rounded-full object-cover border-4 border-slate-200 dark:border-slate-700"}),f.jsxs("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[f.jsx("i",{className:"bi bi-camera-fill text-white text-2xl"}),f.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:I})]})]}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Edit Profile"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Update your personal information"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["First Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"firstName",value:j.firstName||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Middle Name"}),f.jsx("input",{name:"middleName",value:j.middleName||"",onChange:T,className:Z})]}),f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["Last Name ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"lastName",value:j.lastName||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:U,children:["Student ID ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{name:"studentId",value:j.studentId||"",onChange:T,className:Z,required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Contact Number"}),f.jsx("input",{type:"tel",name:"contactInfo",value:j.contactInfo||"",onChange:T,className:Z})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Email Address"}),f.jsx("input",{type:"email",name:"email",value:j.email||"",onChange:T,className:Z})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Gender"}),f.jsxs("select",{name:"gender",value:j.gender||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Male",children:"Male"}),f.jsx("option",{value:"Female",children:"Female"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{className:U,children:"Birthdate"}),f.jsx("input",{type:"date",name:"birthdate",value:j.birthdate||"",onChange:T,className:Z}),de!==null&&f.jsxs("span",{className:"absolute right-3 bottom-2 text-xs text-slate-400 bg-slate-100 dark:bg-slate-800 px-1 rounded",children:[de," yrs old"]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Year Level"}),f.jsxs("select",{name:"yearLevel",value:j.yearLevel||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"}),f.jsx("option",{value:"5th Year",children:"5th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Section"}),f.jsxs("select",{name:"section",value:j.section||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"Section 4",children:"Section 4"}),f.jsx("option",{value:"Section 5",children:"Section 5"}),f.jsx("option",{value:"Section 6",children:"Section 6"}),f.jsx("option",{value:"International",children:"International"}),f.jsx("option",{value:"N/A",children:"N/A"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:U,children:"Team"}),f.jsxs("select",{name:"teamId",value:j.teamId||"",onChange:T,className:Z,children:[f.jsx("option",{value:"",children:"Select..."}),g.map(k=>f.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{htmlFor:"bio",className:U,children:"Bio"}),f.jsx("textarea",{id:"bio",name:"bio",rows:3,value:j.bio||"",onChange:T,className:Z,placeholder:"Tell us something about yourself..."})]}),f.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100 mb-4",children:"Interested Events"}),f.jsx("div",{className:"max-h-60 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg p-4 grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(k=>{var Y;return f.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg cursor-pointer transition-colors",children:[f.jsx("input",{type:"checkbox",checked:(Y=j.interestedEvents)==null?void 0:Y.includes(k.name),onChange:()=>P(k.name),className:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:k.name})]},k.id)})})]})]})});return f.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-10",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:N?"My Profile":`${s.name}'s Profile`}),N&&f.jsx("div",{className:"flex space-x-2",children:h?f.jsxs(f.Fragment,{children:[f.jsx(me,{variant:"secondary",onClick:H,children:"Cancel"}),f.jsx(me,{onClick:B,children:"Save Changes"})]}):null})]}),h&&N?M():ae()]})},qse=e=>{const n=(new Date().getTime()-new Date(e).getTime())/1e3;if(n<60)return"just now";if(n<3600)return`${Math.round(n/60)}m ago`;if(n<=86400)return`${Math.round(n/3600)}h ago`;const r=Math.round(n/86400);return r<7?`${r}d ago`:new Date(e).toLocaleDateString()},Gse=(e,t)=>{var n,r;if(e.teamId){const i=t.find(s=>s.id===e.teamId);if(i){const s=Qn(i.id);let l;if(i.unitLeader===e.id)l="Leader";else if(i.unitSecretary===e.id)l="Secretary";else if(i.unitTreasurer===e.id)l="Treasurer";else if(i.adviser===e.id)l="Adviser";else if((n=i.unitErrands)!=null&&n.includes(e.id))l="Errands";else if(i.id===Rn){const d=(r=i.facilitators)==null?void 0:r.find(h=>h.userId===e.id);l=d==null?void 0:d.position}const u=l?`${l}, ${i.name}`:i.name;return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("i",{className:`${s.icon}`,style:{color:s.gradient.from}}),f.jsx("span",{children:u})]})}}return"N/A"},Yse=e=>{if(!e)return null;try{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const i=n.getMonth()-t.getMonth();return(i<0||i===0&&n.getDate()<t.getDate())&&r--,r>0?r:null}catch{return null}},Kse=()=>{const{data:e,loading:t}=an(mo,[xe.USERS]),{data:n,loading:r}=an(ji,[xe.TEAMS]),{data:i,loading:s}=an(ha,[xe.EVENTS]),l=e||[],u=n||[],d=i||[],h=t||r||s,{openModal:p,closeModal:g}=Hp(),{addToast:v}=On(),[x,w]=S.useState({name:"",role:"",gender:"",ageBracket:"",yearLevel:"",event:""}),_=S.useMemo(()=>[...new Set(l.map(B=>B.yearLevel).filter(Boolean))].sort(),[l]),E={"":"All Ages","15-18":"15-18 years","19-22":"19-22 years","23-25":"23-25 years","26+":"26+ years"},j=S.useMemo(()=>l.filter(B=>{var Z,U;const H=x.name.toLowerCase();if(x.name&&!(B.name.toLowerCase().includes(H)||(Z=B.studentId)!=null&&Z.toLowerCase().includes(H))||x.role&&B.role!==x.role||x.gender&&B.gender!==x.gender||x.yearLevel&&B.yearLevel!==x.yearLevel||x.event&&!((U=B.interestedEvents)!=null&&U.includes(x.event)))return!1;if(x.ageBracket){const J=Yse(B.birthdate);if(J===null)return!1;const oe=x.ageBracket.split("-"),de=parseInt(oe[0],10),ae=oe[1]?parseInt(oe[1],10):1/0;if(J<de||J>ae)return!1}return!0}),[l,x]),A=B=>{w(H=>({...H,[B.target.name]:B.target.value}))},N=()=>{w({name:"",role:"",gender:"",ageBracket:"",yearLevel:"",event:""})},D=async(B,H)=>{try{await yD(B,H),v("User role updated successfully","success")}catch{v("Failed to update user role","error")}},T=()=>{let B={role:Pe.USER};const H=()=>{const[Z,U]=S.useState(B),J=async()=>{if(!Z.email||!Z.password||!Z.firstName||!Z.lastName){v("Please fill all required fields.","error");return}try{await jw(Z),v("User added successfully!","success"),g()}catch(oe){v(oe.message||"Failed to add user.","error")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsx(St,{id:"firstName",label:"First Name",onChange:oe=>U({...Z,firstName:oe.target.value})}),f.jsx(St,{id:"lastName",label:"Last Name",onChange:oe=>U({...Z,lastName:oe.target.value})}),f.jsx(St,{id:"email",label:"Email",type:"email",onChange:oe=>U({...Z,email:oe.target.value})}),f.jsx(St,{id:"password",label:"Password",type:"password",onChange:oe=>U({...Z,password:oe.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all duration-150",value:Z.role,onChange:oe=>U({...Z,role:oe.target.value}),children:[f.jsx("option",{value:Pe.USER,children:"User"}),f.jsx("option",{value:Pe.TEAM_LEAD,children:"Team Lead"}),f.jsx("option",{value:Pe.OFFICER,children:"Officer"}),f.jsx("option",{value:Pe.ADMIN,children:"Admin"})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:g,children:"Cancel"}),f.jsx(me,{onClick:J,children:"Add User"})]})]})};p(f.jsx(H,{}))},P=()=>f.jsx("div",{className:"overflow-x-auto",children:f.jsx("table",{className:"min-w-full",children:f.jsx("tbody",{children:Array.from({length:5}).map((B,H)=>f.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsx(at,{className:"h-5 w-32"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(at,{className:"h-5 w-48"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(at,{className:"h-5 w-24"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(at,{className:"h-8 w-24"})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx(at,{className:"h-5 w-24"})}),f.jsx("td",{className:"px-6 py-4 text-right",children:f.jsx(at,{className:"h-5 w-16 ml-auto"})})]},H))})})}),I="w-full mt-1 px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-100 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20 focus:outline-none";return f.jsxs(Te,{children:[f.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"User Management"}),f.jsx(me,{onClick:T,children:"Add User"})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Name or ID"}),f.jsx(St,{label:"",id:"name-filter",name:"name",value:x.name,onChange:A,placeholder:"Search..."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Role"}),f.jsxs("select",{name:"role",value:x.role,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),Object.values(Pe).map(B=>f.jsx("option",{value:B,className:"capitalize",children:B.replace("_"," ")},B))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Gender"}),f.jsxs("select",{name:"gender",value:x.gender,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),f.jsx("option",{value:"Male",children:"Male"}),f.jsx("option",{value:"Female",children:"Female"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Age Bracket"}),f.jsx("select",{name:"ageBracket",value:x.ageBracket,onChange:A,className:I,children:Object.entries(E).map(([B,H])=>f.jsx("option",{value:B,children:H},B))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Year Level"}),f.jsxs("select",{name:"yearLevel",value:x.yearLevel,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),_.map(B=>f.jsx("option",{value:B,children:B},B))]})]}),f.jsxs("div",{className:"lg:col-span-2",children:[f.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"Game Interest"}),f.jsxs("select",{name:"event",value:x.event,onChange:A,className:I,children:[f.jsx("option",{value:"",children:"All"}),d.map(B=>f.jsx("option",{value:B.name,children:B.name},B.id))]})]})]}),f.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Showing ",f.jsx("strong",{children:j.length})," of ",f.jsx("strong",{children:l.length})," users."]}),f.jsx(me,{variant:"secondary",onClick:N,className:"text-xs py-1 px-3",children:"Reset Filters"})]})]}),h?P():f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[f.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Name"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Position"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Role"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Last Active"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:j.map(B=>f.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-50",children:B.name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:B.email}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:Gse(B,u)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsxs("select",{value:B.role,onChange:H=>D(B.id,H.target.value),className:"text-xs py-1 px-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 focus:ring-indigo-500/50 transition",children:[f.jsx("option",{value:Pe.USER,children:"User"}),f.jsx("option",{value:Pe.TEAM_LEAD,children:"Team Lead"}),f.jsx("option",{value:Pe.OFFICER,children:"Officer"}),f.jsx("option",{value:Pe.ADMIN,children:"Admin"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:B.lastActive?qse(B.lastActive):"Never"})]},B.id))})]})})]})},Ke=({id:e,label:t,checked:n,onChange:r})=>f.jsxs("label",{htmlFor:e,className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:t}),f.jsxs("div",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",id:e,className:"sr-only peer",checked:n,onChange:r,"aria-checked":n}),f.jsx("div",{className:"w-11 h-6 rounded-full bg-slate-200 dark:bg-slate-700 peer-checked:bg-indigo-600 transition-colors duration-150 relative peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 peer-focus:ring-offset-2 dark:peer-focus:ring-indigo-800",children:f.jsx("span",{className:"absolute left-[2px] top-0.5 h-5 w-5 bg-white rounded-full border border-slate-300 dark:border-slate-600 transform transition-transform duration-150 peer-checked:translate-x-5"})})]})]}),Wse=()=>{const{settings:e,setSettings:t}=xo(),{addToast:n}=On(),[r,i]=S.useState(null);if(!e)return f.jsx("div",{children:"Loading settings..."});const s=(u,d)=>{const h=JSON.parse(JSON.stringify(e));let p=h;for(let g=0;g<u.length-1;g++)p=p[u[g]];p[u[u.length-1]]=d,t(h),n("Visibility setting updated.","info")},l=({title:u,cardKey:d,children:h})=>{const p=r===d;return f.jsxs(Te,{className:"p-0",children:[f.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>i(p?null:d),children:[f.jsx("h3",{className:"font-semibold text-lg",children:u}),f.jsx(ii.div,{animate:{rotate:p?180:0},transition:{type:"spring",stiffness:300,damping:20},children:f.jsx("i",{className:"bi bi-chevron-down text-slate-500"})})]}),f.jsx(np,{children:p&&f.jsx(ii.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:f.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-2",children:h})})})]})};return f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Control which sections are visible to non-privileged users. This is useful for building suspense during final rounds."}),f.jsx(Te,{className:"p-4",children:f.jsx(Ke,{id:"global-scores",label:"Show Competition Scores, Ranks & Points",checked:e.competitionScores,onChange:()=>s(["competitionScores"],!e.competitionScores)})}),f.jsxs(l,{title:"Page Visibility (Sidebar)",cardKey:"pages",children:[f.jsx(Ke,{id:"page-teams",label:"Teams Page",checked:e.pages.teams,onChange:()=>s(["pages","teams"],!e.pages.teams)}),f.jsx(Ke,{id:"page-events",label:"Events Page",checked:e.pages.events,onChange:()=>s(["pages","events"],!e.pages.events)}),f.jsx(Ke,{id:"page-rules",label:"Rules Page",checked:e.pages.rules,onChange:()=>s(["pages","rules"],!e.pages.rules)}),f.jsx(Ke,{id:"page-reports",label:"Reports Page",checked:e.pages.reports,onChange:()=>s(["pages","reports"],!e.pages.reports)})]}),f.jsxs(l,{title:"Dashboard Components",cardKey:"dashboard",children:[f.jsx(Ke,{id:"dash-summary",label:"Summary Cards",checked:e.dashboard.summaryCards,onChange:()=>s(["dashboard","summaryCards"],!e.dashboard.summaryCards)}),f.jsx(Ke,{id:"dash-ranking",label:"Leaderboard Ranking Chart",checked:e.dashboard.leaderboardRanking,onChange:()=>s(["dashboard","leaderboardRanking"],!e.dashboard.leaderboardRanking)}),f.jsx(Ke,{id:"dash-top-teams",label:"Top Teams List",checked:e.dashboard.topTeams,onChange:()=>s(["dashboard","topTeams"],!e.dashboard.topTeams)}),f.jsx(Ke,{id:"dash-progress",label:"Team Score Progression Chart",checked:e.dashboard.teamScoreProgression,onChange:()=>s(["dashboard","teamScoreProgression"],!e.dashboard.teamScoreProgression)})]}),f.jsxs(l,{title:"Leaderboard Tabs",cardKey:"leaderboard",children:[f.jsx(Ke,{id:"lb-standings",label:"Team Standings Tab",checked:e.leaderboard.tabs.standings,onChange:()=>s(["leaderboard","tabs","standings"],!e.leaderboard.tabs.standings)}),f.jsx(Ke,{id:"lb-records",label:"Competition Records Tab",checked:e.leaderboard.tabs.records,onChange:()=>s(["leaderboard","tabs","records"],!e.leaderboard.tabs.records)}),f.jsx(Ke,{id:"lb-merits",label:"Merit & Demerit Log Tab",checked:e.leaderboard.tabs.meritsLog,onChange:()=>s(["leaderboard","tabs","meritsLog"],!e.leaderboard.tabs.meritsLog)})]}),f.jsxs(l,{title:"Teams Page Sections",cardKey:"teams",children:[f.jsx(Ke,{id:"teams-facilitating",label:"Facilitating Team Section",checked:e.teams.facilitatingTeam,onChange:()=>s(["teams","facilitatingTeam"],!e.teams.facilitatingTeam)}),f.jsx(Ke,{id:"teams-participating",label:"Participating Teams Section",checked:e.teams.participatingTeams,onChange:()=>s(["teams","participatingTeams"],!e.teams.participatingTeams)}),f.jsxs("div",{className:"ml-4 space-y-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("p",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Team Hub Tabs:"}),f.jsx(Ke,{id:"teams-tab-overview",label:"Overview Tab",checked:e.teams.tabs.overview,onChange:()=>s(["teams","tabs","overview"],!e.teams.tabs.overview)}),f.jsx(Ke,{id:"teams-tab-leadership",label:"Leadership Tab",checked:e.teams.tabs.leadership,onChange:()=>s(["teams","tabs","leadership"],!e.teams.tabs.leadership)}),f.jsx(Ke,{id:"teams-tab-progress",label:"Progress Charts",checked:e.teams.tabs.progress,onChange:()=>s(["teams","tabs","progress"],!e.teams.tabs.progress)}),f.jsx(Ke,{id:"teams-tab-merits",label:"Merits & Demerits",checked:e.teams.tabs.merits,onChange:()=>s(["teams","tabs","merits"],!e.teams.tabs.merits)}),f.jsx(Ke,{id:"teams-tab-scores",label:"Event Scorecards",checked:e.teams.tabs.scores,onChange:()=>s(["teams","tabs","scores"],!e.teams.tabs.scores)})]})]}),f.jsx(l,{title:"Events Categories",cardKey:"events",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ke,{id:"event-joker-flag",label:`${_e.JOKER_FLAG}`,checked:e.events.categories[_e.JOKER_FLAG],onChange:()=>s(["events","categories",_e.JOKER_FLAG],!e.events.categories[_e.JOKER_FLAG])}),f.jsx(Ke,{id:"event-cit-quest",label:`${_e.CIT_QUEST}`,checked:e.events.categories[_e.CIT_QUEST],onChange:()=>s(["events","categories",_e.CIT_QUEST],!e.events.categories[_e.CIT_QUEST])}),f.jsx(Ke,{id:"event-mindscape",label:`${_e.MINDSCAPE}`,checked:e.events.categories[_e.MINDSCAPE],onChange:()=>s(["events","categories",_e.MINDSCAPE],!e.events.categories[_e.MINDSCAPE])}),f.jsx(Ke,{id:"event-hoop-spike",label:`${_e.HOOP_SPIKE}`,checked:e.events.categories[_e.HOOP_SPIKE],onChange:()=>s(["events","categories",_e.HOOP_SPIKE],!e.events.categories[_e.HOOP_SPIKE])}),f.jsx(Ke,{id:"event-coding",label:`${_e.CODING_TECH_CHALLENGES}`,checked:e.events.categories[_e.CODING_TECH_CHALLENGES],onChange:()=>s(["events","categories",_e.CODING_TECH_CHALLENGES],!e.events.categories[_e.CODING_TECH_CHALLENGES])}),f.jsx(Ke,{id:"event-pixel-play",label:`${_e.PIXEL_PLAY}`,checked:e.events.categories[_e.PIXEL_PLAY],onChange:()=>s(["events","categories",_e.PIXEL_PLAY],!e.events.categories[_e.PIXEL_PLAY])}),f.jsx(Ke,{id:"event-table-masters",label:`${_e.TABLE_MASTERS}`,checked:e.events.categories[_e.TABLE_MASTERS],onChange:()=>s(["events","categories",_e.TABLE_MASTERS],!e.events.categories[_e.TABLE_MASTERS])})]})}),f.jsxs(l,{title:"Rules Sections",cardKey:"rules",children:[f.jsx(Ke,{id:"rules-objectives",label:"Objectives Section",checked:e.rules.sections.objectives,onChange:()=>s(["rules","sections","objectives"],!e.rules.sections.objectives)}),f.jsx(Ke,{id:"rules-house-rules",label:"House Rules Section",checked:e.rules.sections.house_rules,onChange:()=>s(["rules","sections","house_rules"],!e.rules.sections.house_rules)}),f.jsx(Ke,{id:"rules-demerit",label:"Demerit System Section",checked:e.rules.sections.demerit_system,onChange:()=>s(["rules","sections","demerit_system"],!e.rules.sections.demerit_system)}),f.jsx(Ke,{id:"rules-complaints",label:"Complaints Section",checked:e.rules.sections.complaints,onChange:()=>s(["rules","sections","complaints"],!e.rules.sections.complaints)}),f.jsx(Ke,{id:"rules-scoring",label:"Scoring System Section",checked:e.rules.sections.scoring_system,onChange:()=>s(["rules","sections","scoring_system"],!e.rules.sections.scoring_system)}),f.jsx(Ke,{id:"rules-categories",label:"Categories & Mechanics Section",checked:e.rules.sections.categories_mechanics,onChange:()=>s(["rules","sections","categories_mechanics"],!e.rules.sections.categories_mechanics)})]})]})},Xse=()=>{go("admin");const[e,t]=S.useState("users");return f.jsxs(vi,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-50",children:"Admin Panel"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[f.jsx("button",{onClick:()=>t("users"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors ${e==="users"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400"}`,children:"User Management"}),f.jsx("button",{onClick:()=>t("visibility"),className:`px-4 py-2 font-semibold text-sm rounded-t-lg transition-colors ${e==="visibility"?"bg-white dark:bg-slate-800 text-indigo-600 border-b-2 border-indigo-600":"text-slate-500 dark:text-slate-400"}`,children:"Content Visibility"})]}),e==="users"&&f.jsx(Kse,{}),e==="visibility"&&f.jsx(Wse,{})]})},o4=(e="sims",t="kv")=>new Promise((n,r)=>{const i=indexedDB.open(e,1);i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(t)||s.createObjectStore(t,{keyPath:"key"})},i.onsuccess=()=>n(i.result),i.onerror=()=>r(i.error)}),Qse=async(e,t="sims",n="kv")=>{try{const r=await o4(t,n);return await new Promise((i,s)=>{const d=r.transaction(n,"readonly").objectStore(n).get(e);d.onsuccess=()=>i(d.result?d.result.value:null),d.onerror=()=>s(d.error)})}catch(r){return console.warn("IndexedDB getKV failed",r),null}},$p=async(e,t,n="sims",r="kv")=>{try{const i=await o4(n,r);return await new Promise((s,l)=>{const h=i.transaction(r,"readwrite").objectStore(r).put({key:e,value:t});h.onsuccess=()=>s(!0),h.onerror=()=>l(h.error)})}catch(i){return console.warn("IndexedDB setKV failed",i),!1}},Za="sims_sync_queue_v1",tc=()=>{try{const e=localStorage.getItem(Za);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to read sync queue",e),[]}},qp=e=>{try{localStorage.setItem(Za,JSON.stringify(e));try{$p(Za,e).catch(()=>{})}catch{}}catch(t){console.error("Failed to write sync queue",t)}},l4=(e,t)=>{const n=tc(),r={id:`act_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,type:e,payload:t,attempts:0,createdAt:new Date().toISOString(),nextAttemptAt:null};n.push(r),qp(n)},Mm=()=>tc(),Wb=()=>{const e=tc(),t=e.length,n=e.map(i=>i.nextAttemptAt?new Date(i.nextAttemptAt).getTime():1/0).filter(Boolean),r=n.length?new Date(Math.min(...n)).toISOString():null;return{pending:t,nextAttemptAt:r}},c4=e=>{try{const t=tc().filter(n=>n.id!==e);qp(t);try{$p(Za,t).catch(()=>{})}catch{}return!0}catch(t){return console.warn("Failed to remove from queue",t),!1}},u4=e=>{try{const t=tc(),n=t.findIndex(r=>r.id===e);if(n===-1)return!1;t[n].nextAttemptAt=new Date().toISOString(),t[n].attempts=0,qp(t);try{$p(Za,t).catch(()=>{})}catch{}return!0}catch(t){return console.warn("Failed to schedule retry for",e,t),!1}},Zse=e=>new Promise(t=>setTimeout(t,e)),Jse=6,eoe=1e3,toe=300,Ys=async e=>{var u;const t=tc();if(!t.length)return;const n=Date.now(),r=t.filter(d=>!d.nextAttemptAt||new Date(d.nextAttemptAt).getTime()<=n),i=t.filter(d=>d.nextAttemptAt&&new Date(d.nextAttemptAt).getTime()>n);if(!r.length)return;const s=[];for(const d of r){try{if(d.type==="visibility:update"){try{const h=await(await ri(async()=>{const{getVisibilitySettings:v}=await Promise.resolve().then(()=>hF);return{getVisibilitySettings:v}},void 0)).getVisibilitySettings(),p=(h==null?void 0:h.version)||0,g=((u=d.payload)==null?void 0:u.version)||0;if(p>g){console.warn("Skipping visibility update due to newer server version");continue}}catch{}await Lh(d.payload)}else d.type==="rules:update"?await Tw(d.payload):d.type==="point:add"?await Nw(d.payload):d.type==="team:update"?await jl(d.payload):d.type==="event:update"?await Cw(d.payload):d.type==="activity:log"&&await ep(d.payload.userId,d.payload.action,d.payload.target)}catch(h){if(console.warn("Sync action failed, will retry later",d.type,h),d.attempts=(d.attempts||0)+1,d.attempts<Jse){const p=eoe*Math.pow(2,d.attempts-1),g=Math.floor(Math.random()*toe);d.nextAttemptAt=new Date(Date.now()+p+g).toISOString(),s.push(d)}else console.warn("Dropping sync action after max attempts",d.id,d.type)}e!=null&&e.onProgress&&e.onProgress(t.length-1),await Zse(200)}const l=s.concat(i);qp(l)};(async()=>{try{if(!await Qse(Za)){const t=localStorage.getItem(Za);if(t)try{await $p(Za,JSON.parse(t))}catch(n){console.warn("Failed to migrate queue to IDB",n)}}}catch{}})();const Ml=Object.freeze(Object.defineProperty({__proto__:null,enqueue:l4,getQueue:Mm,getQueueStats:Wb,processQueue:Ys,removeFromQueue:c4,retryNow:u4},Symbol.toStringTag,{value:"Module"})),noe=()=>{const[e,t]=yr.useState([]),[n,r]=yr.useState([]),i=async()=>{try{const s=await _D();t(s||[])}catch(s){console.warn("Failed to fetch audit logs",s)}r(Mm().filter(s=>s.type==="activity:log"))};return yr.useEffect(()=>{i();const s=setInterval(i,15e3);return()=>clearInterval(s)},[]),f.jsxs("div",{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-bold mb-2",children:"Audit Logs"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"font-semibold",children:"Server Logs"}),f.jsx("div",{className:"border rounded p-2 max-h-64 overflow-auto",children:e.length?e.map(s=>f.jsxs("div",{className:"border-b py-1 text-sm",children:[f.jsx("div",{className:"font-medium",children:s.action}),f.jsxs("div",{className:"text-xs text-gray-600",children:["By ",s.userId," at ",new Date(s.timestamp).toLocaleString()]})]},s.id)):f.jsx("div",{className:"text-xs text-gray-500",children:"No server logs"})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold",children:"Queued Local Audit Logs"}),f.jsx("div",{className:"border rounded p-2 max-h-64 overflow-auto",children:n.length?n.map(s=>f.jsxs("div",{className:"border-b py-1 text-sm",children:[f.jsx("div",{className:"font-medium",children:s.payload.action}),f.jsxs("div",{className:"text-xs text-gray-600",children:["By ",s.payload.userId||"unknown"," created ",new Date(s.createdAt).toLocaleString()]})]},s.id)):f.jsx("div",{className:"text-xs text-gray-500",children:"No queued audits"})})]})]})},roe=()=>{const e=S.useContext(LD);if(e===void 0)throw new Error("useNotification must be used within a NotificationProvider");return e},ioe=({onClose:e})=>{const[t,n]=yr.useState(()=>Mm()),r=()=>n(Mm());yr.useEffect(()=>{const u=setInterval(r,2e3);return()=>clearInterval(u)},[]);const i=u=>{c4(u),r()},s=u=>{u4(u),Ys(),r()},l=u=>{try{return u.payload?u.type==="team:update"?u.payload.name||`Team ${u.payload.id}`:u.type==="activity:log"?`${u.payload.action} by ${u.payload.userId||"unknown"}`:u.type==="visibility:update"?`Visibility changes: ${Object.keys(u.payload||{}).join(", ")}`:u.type==="point:add"?`Points ${u.payload.points} (${u.payload.type}) for ${u.payload.teamId}`:JSON.stringify(u.payload).slice(0,120):""}catch{return""}};return t.length?f.jsxs("div",{className:"bg-white border rounded shadow p-2 w-80 text-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("strong",{children:"Pending Actions"}),f.jsx("button",{className:"text-xs text-gray-600",onClick:()=>{e&&e()},children:"Close"})]}),f.jsx("div",{className:"max-h-64 overflow-auto",children:t.map(u=>f.jsx("div",{className:"border-b py-2",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:u.type}),f.jsx("div",{className:"text-xs text-gray-700",children:l(u)}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",new Date(u.createdAt).toLocaleString()]}),f.jsxs("div",{className:"text-xs text-gray-600",children:["Attempts: ",u.attempts]}),u.nextAttemptAt&&f.jsxs("div",{className:"text-xs text-gray-600",children:["Next: ",new Date(u.nextAttemptAt).toLocaleTimeString()]})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("button",{onClick:()=>s(u.id),className:"px-2 py-1 bg-green-500 text-white rounded text-xs",children:"Retry"}),f.jsx("button",{onClick:()=>i(u.id),className:"px-2 py-1 bg-red-200 text-red-700 rounded text-xs",children:"Cancel"})]})]})},u.id))})]}):f.jsx("div",{className:"p-2 text-xs",children:"No queued actions."})},aoe=()=>{const[e,t]=S.useState(navigator.onLine),[n,r]=S.useState(null),[i,s]=S.useState(0),[l,u]=S.useState(null),[d,h]=S.useState(!1);return S.useEffect(()=>{const p=()=>t(!0),g=()=>t(!1);window.addEventListener("online",p),window.addEventListener("offline",g);let v=!0;(async()=>{try{const w=await Mu();v&&r(w)}catch{v&&r(!1)}try{const w=Wb();v&&(s(w.pending),u(w.nextAttemptAt))}catch(w){console.warn("Failed to read queue stats",w)}})();const x=setInterval(async()=>{try{const w=await Mu();v&&r(w)}catch{v&&r(!1)}try{const w=Wb();v&&(s(w.pending),u(w.nextAttemptAt))}catch(w){console.warn("Failed to read queue stats",w)}},15e3);return()=>{v=!1,window.removeEventListener("online",p),window.removeEventListener("offline",g),clearInterval(x)}},[]),f.jsxs("div",{className:"inline-flex items-center gap-2 text-xs",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${e?"bg-green-500":"bg-red-400"}`,"aria-hidden":!0}),f.jsx("span",{children:e?"Online":"Offline"}),f.jsx("span",{className:"mx-2",children:""}),f.jsx("span",{children:n===null?"Checking server...":n?"Backend reachable":"Backend unreachable"}),i>0&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"mx-2",children:""}),f.jsxs("button",{className:"underline text-sm",onClick:()=>h(p=>!p),children:[i," pending"]}),l&&f.jsx("span",{className:"mx-2",children:""}),l&&f.jsxs("span",{children:["next: ",new Date(l).toLocaleTimeString()]})]}),d&&f.jsx("div",{className:"absolute z-50 mt-8 right-2",children:f.jsx(ioe,{onClose:()=>h(!1)})})]})},soe=()=>{const[e,t]=yr.useState(""),[n,r]=yr.useState(null),[i,s]=yr.useState({});return yr.useEffect(()=>{t(Sw());let l=!0;(async()=>{try{const d=await Mu();l&&r(d)}catch{l&&r(!1)}})();const u=setInterval(async()=>{try{const d=await Mu();l&&r(d)}catch{l&&r(!1)}try{l&&s(Fx())}catch{}},5e3);try{s(Fx())}catch{}return()=>{l=!1,clearInterval(u)}},[]),f.jsxs("div",{className:"text-xs bg-slate-50 dark:bg-slate-900 border rounded p-2",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"API_BASE:"})," ",e]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Ping:"})," ",n===null?"checking...":n?"ok":"down"]}),f.jsx("div",{className:"mt-2",children:f.jsx("strong",{children:"Last Firebase timestamps:"})}),f.jsxs("div",{className:"text-xs max-h-40 overflow-auto",children:[Object.keys(i).length===0&&f.jsx("div",{className:"text-gray-500",children:"(no data yet)"}),Object.entries(i).map(([l,u])=>f.jsxs("div",{children:[f.jsx("code",{className:"font-mono",children:l}),": ",u?new Date(String(u)).toLocaleTimeString():"(n/a)"]},l))]}),e==="firebase"&&f.jsx("div",{className:"mt-3",children:f.jsx("button",{onClick:async()=>{if(confirm("Seed Firebase with mock data? This will overwrite existing data for teams/events/users/visibility/notifications/rules."))try{const l={};(lD||[]).forEach(d=>l[d.id]=d),await Pt("teams",l),await Pt("users",oD);const u={};(cD||[]).forEach(d=>u[d.id]=d),await Pt("events",u),await Pt("notifications",uD||[]),await Pt("visibility",dD||{}),await Pt("rules",fD||{}),alert("Seed complete  refresh the page to load data.")}catch(l){console.error("Seeding Firebase failed",l),alert("Seeding failed  check console for details.")}},className:"mt-2 px-2 py-1 bg-indigo-600 text-white rounded text-sm",children:"Seed Firebase (mock)"})})]})},ooe=({isOpen:e})=>f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-transform duration-300 ease-in-out",children:[f.jsx("path",{d:e?"M 4 4 L 20 20":"M 4 6 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"d 0.3s"}}),f.jsx("path",{d:"M 4 12 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"opacity 0.3s",opacity:e?0:1}}),f.jsx("path",{d:e?"M 4 20 L 20 4":"M 4 18 H 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{transition:"d 0.3s"}})]}),loe=({onToggleSidebar:e,sidebarOpen:t})=>{const{user:n}=Gt(),{theme:r,toggleTheme:i}=RS(),{notifications:s,unreadCount:l,markAsRead:u,markAllAsRead:d}=roe(),h=qr(),[p,g]=S.useState(""),[v,x]=S.useState({teams:[],events:[],users:[]}),[w,_]=S.useState(!1),[E,j]=S.useState(!1),[A,N]=S.useState(!1),{data:D,isSynced:T}=an(ji,[xe.TEAMS,xe.USERS]),{data:P,isSynced:I}=an(ha,[xe.EVENTS]),{data:B,isSynced:H}=an(mo,[xe.USERS]),Z=T||I||H,U=S.useRef(null),J=S.useRef(null),oe=S.useRef(null);S.useEffect(()=>{const V=se=>{const R=se.target;U.current&&!U.current.contains(R)&&J.current&&!J.current.contains(R)&&_(!1),oe.current&&!oe.current.contains(R)&&j(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]),S.useEffect(()=>{if(p.trim()===""||!D||!P||!B){x({teams:[],events:[],users:[]});return}const V=p.toLowerCase(),se=D.filter(ie=>ie.name.toLowerCase().includes(V)),R=P.filter(ie=>ie.name.toLowerCase().includes(V)),G=B.filter(ie=>ie.name&&ie.name.toLowerCase().includes(V)||ie.firstName&&ie.firstName.toLowerCase().includes(V)||ie.lastName&&ie.lastName.toLowerCase().includes(V)||ie.studentId&&ie.studentId.toLowerCase().includes(V));x({teams:se,events:R,users:G})},[p,D,P,B]);const de=(V,se)=>{g(""),_(!1),V==="team"?h(`/teams?teamId=${se}`):V==="event"?h(`/events?eventId=${se}`):V==="user"&&h(`/profile/${se}`)},ae=(V,se)=>{u(V),j(!1),h(se)},M=()=>{j(!E),E&&N(!1)},k=w&&p&&(v.teams.length>0||v.events.length>0||v.users.length>0)&&f.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-700 overflow-hidden z-50",children:[v.teams.length>0&&f.jsxs("div",{className:"p-2",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"TEAMS"}),f.jsx("ul",{children:v.teams.slice(0,3).map(V=>f.jsxs("li",{onClick:()=>de("team",V.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200 flex justify-between",children:[f.jsx("span",{children:V.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:["Rank #",V.rank]})]},V.id))})]}),v.events.length>0&&f.jsxs("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"EVENTS"}),f.jsx("ul",{children:v.events.slice(0,3).map(V=>f.jsx("li",{onClick:()=>de("event",V.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200",children:f.jsx("span",{children:V.name})},V.id))})]}),v.users.length>0&&f.jsxs("div",{className:"p-2 border-t border-slate-100 dark:border-slate-700",children:[f.jsx("h6",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 px-2 mb-1",children:"USERS"}),f.jsx("ul",{children:v.users.slice(0,3).map(V=>f.jsxs("li",{onClick:()=>de("user",V.id),className:"px-2 py-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors text-sm text-slate-700 dark:text-slate-200 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("img",{src:V.avatar,alt:V.name,className:"h-6 w-6 rounded-full object-cover"}),f.jsx("span",{children:V.name})]}),f.jsx("span",{className:"text-xs text-slate-500",children:V.studentId})]},V.id))})]})]}),Y=A?s:s.slice(0,20);return f.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm shadow-soft dark:shadow-soft-dark z-30 p-4 relative flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:e,className:"text-slate-600 dark:text-slate-300 md:hidden",children:f.jsx(ooe,{isOpen:t})}),f.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[f.jsx("div",{className:"logo bg-indigo-600 text-white h-8 w-8 rounded-lg flex items-center justify-center text-md font-bold",children:"S"}),f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100",children:"SIMS"})]}),f.jsxs("div",{className:"hidden md:block",children:[f.jsxs("h5",{className:"font-bold text-lg text-slate-800 dark:text-slate-50 mb-0",children:["Welcome back, ",(n==null?void 0:n.firstName)||(n==null?void 0:n.name),"! "]}),f.jsx("small",{className:"text-slate-500 dark:text-slate-400",children:"Here's a look at the current standings."})]})]}),f.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[f.jsxs("div",{className:`hidden lg:flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm transition-all duration-300 ${Z?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 shadow-md shadow-green-500/20":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300"}`,children:[f.jsx("span",{className:`h-2.5 w-2.5 rounded-full transition-colors ${Z?"bg-green-500 animate-pulse":"bg-slate-400"}`}),f.jsx("span",{className:"font-semibold",children:Z?"Live Sync":"Real-time"})]}),f.jsx(aoe,{}),f.jsx("div",{className:"ml-4",children:f.jsx(soe,{})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"relative hidden md:block w-64",ref:U,children:[f.jsx("i",{className:"bi bi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx("input",{className:"pl-9 pr-4 py-2 w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-2xl text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 focus:outline-none transition",placeholder:"Search teams, events, users...",value:p,onChange:V=>{g(V.target.value),_(!0)},onFocus:()=>_(!0)}),k]}),f.jsx(ii.button,{whileHover:{scale:1.15,rotate:15},whileTap:{scale:.9},onClick:i,className:"p-2 h-10 w-10 flex items-center justify-center rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700",children:r==="dark"?f.jsx("i",{className:"bi bi-sun-fill text-lg"}):f.jsx("i",{className:"bi bi-moon-fill text-lg"})}),f.jsxs("div",{className:"relative",ref:oe,children:[f.jsxs(ii.button,{whileHover:{scale:1.15},whileTap:{scale:.9},onClick:M,className:"p-2 h-10 w-10 flex items-center justify-center rounded-full text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 relative transition-colors",children:[f.jsx("i",{className:"bi bi-bell-fill text-lg"}),l>0&&f.jsx("span",{className:"absolute top-1 right-1 h-4 w-4 bg-red-500 rounded-full text-[10px] font-bold text-white flex items-center justify-center border-2 border-white dark:border-slate-900",children:l>9?"9+":l})]}),E&&f.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden z-50 flex flex-col max-h-[80vh]",children:[f.jsxs("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h6",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Notifications"}),l>0&&f.jsx("button",{onClick:d,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:"Mark all read"})]}),f.jsx("div",{className:"overflow-y-auto",children:s.length===0?f.jsx("div",{className:"p-4 text-center text-slate-500 dark:text-slate-400 text-sm",children:"No notifications yet."}):f.jsx("ul",{children:Y.map(V=>f.jsx("li",{onClick:()=>ae(V.id,V.link),className:`p-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer transition-colors border-b border-slate-100 dark:border-slate-700/50 last:border-0 ${V.read?"":"bg-indigo-50/50 dark:bg-indigo-900/10"}`,children:f.jsxs("div",{className:"flex gap-3 items-start",children:[f.jsx("div",{className:`mt-1 h-2 w-2 rounded-full flex-shrink-0 ${V.read?"bg-transparent":"bg-indigo-600"}`}),f.jsxs("div",{children:[f.jsx("h6",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100 leading-tight mb-1",children:V.title}),f.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 line-clamp-2",children:V.message}),f.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-1 block",children:new Date(V.timestamp).toLocaleString()})]})]})},V.id))})}),s.length>20&&f.jsx("div",{className:"p-2 text-center border-t border-slate-100 dark:border-slate-700 flex-shrink-0",children:f.jsx("button",{onClick:()=>N(V=>!V),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:A?"Show Less":`Show ${s.length-20} more`})})]})]})]})]}),f.jsxs("div",{className:"relative mt-4 md:hidden",ref:J,children:[f.jsx("i",{className:"bi bi-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),f.jsx("input",{className:"pl-9 pr-4 py-2 w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-2xl text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 focus:outline-none transition",placeholder:"Search teams, events, users...",value:p,onChange:V=>{g(V.target.value),_(!0)},onFocus:()=>_(!0)}),k]})]})},Gp=()=>{const{user:e}=Gt();if(!e)return{isLoggedIn:!1,isAdmin:!1,isOfficer:!1,isTeamLead:!1,isFacilitator:!1,canManageUsers:!1,canManageEvents:!1,canEditScores:!1,canManageContentVisibility:!1,canViewAdminPanel:!1,canManageTeamInfo:p=>!1,canManageRosters:p=>!1,canViewDemeritDetails:!1};const t=e.role===Pe.ADMIN,n=e.role===Pe.OFFICER,r=e.role===Pe.TEAM_LEAD,i=e.teamId===Rn,s=t||n||i,l=t||i,u=p=>p?!!(t||i||(n||r)&&e.teamId===p):!1;return{isLoggedIn:!0,isAdmin:t,isOfficer:n,isTeamLead:r,isFacilitator:i,canManageUsers:t,canManageEvents:s,canEditScores:l,canManageContentVisibility:t,canViewAdminPanel:t,canManageTeamInfo:u,canManageRosters:u,canViewDemeritDetails:t||n}},coe=()=>f.jsx("svg",{width:"0",height:"0",style:{position:"absolute"},children:f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"icon-grad-blue",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),f.jsx("stop",{offset:"100%",stopColor:"#2563EB"})]}),f.jsxs("linearGradient",{id:"icon-grad-white",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),f.jsx("stop",{offset:"100%",stopColor:"#E5E7EB"})]}),f.jsx("filter",{id:"soft-shadow",x:"-40%",y:"-40%",width:"180%",height:"180%",children:f.jsx("feDropShadow",{dx:"0",dy:"1.5",stdDeviation:"1.5",floodColor:"#000000",floodOpacity:"0.2"})})]})}),uoe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M21.69,11.55C21.93,11.16 22,10.7 22,10.23C22,9.13 21.1,8.23 20,8.23C19.2,8.23 18.48,8.75 18.17,9.45L12.5,4.5L12.42,4.44C12.68,3.93 13,3.3 13,2.61C13,1.33 11.96,0.3 10.68,0.3C9.3,0.3 8.16,1.44 8.16,2.82C8.16,3.69 8.65,4.44 9.35,4.86L5.83,7.58C5.46,7.13 4.91,6.83 4.28,6.83C3.01,6.83 2,7.84 2,9.11C2,10.38 3.01,11.39 4.28,11.39C5.39,11.39 6.31,10.5 6.31,9.4C6.31,9.13 6.26,8.87 6.17,8.63L9.65,5.95C10.03,6.39 10.59,6.68 11.22,6.68C11.97,6.68 12.64,6.3 13.06,5.73L18.73,10.68L18.83,10.77C18.5,11.34 18.27,12.03 18.27,12.79C18.27,14.28 19.5,15.5 21,15.5C22.5,15.5 23.73,14.28 23.73,12.79C23.73,12.08 23.49,11.45 23.14,10.94L21.69,11.55Z",transform:"translate(-1, 2.5) scale(0.9)"})}),doe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M3.5,21.5V9.5C3.5,9.22 3.72,9 4,9H8C8.28,9 8.5,9.22 8.5,9.5V21.5C8.5,21.78 8.28,22 8,22H4C3.72,22 3.5,21.78 3.5,21.5M10.5,21.5V3.5C10.5,3.22 10.72,3 11,3H15C15.28,3 15.5,3.22 15.5,3.5V21.5C15.5,21.78 15.28,22 15,22H11C10.72,22 10.5,21.78 10.5,21.5M17.5,21.5V14.5C17.5,14.22 17.72,14 18,14H22C22.28,14 22.5,14.22 22.5,14.5V21.5C22.5,21.78 22.28,22 22,22H18C17.72,22 17.5,21.78 17.5,21.5Z",transform:"translate(-1.5, -0.5) scale(0.95)"})}),foe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M19.2,22C17.88,20.9 16.14,20 12,20C7.86,20 6.12,20.9 4.8,22H19.2M16,5A3,3 0 0,1 19,8A3,3 0 0,1 16,11C15.82,11 15.65,10.97 15.5,10.93C16.17,9.9 16.5,8.69 16.5,7.5C16.5,7.16 16.46,6.83 16.39,6.5C16.14,5.65 15.5,5 15.5,5C15.65,5.03 15.82,5 16,5M8,5C7.5,5 6.86,5.65 6.61,6.5C6.54,6.83 6.5,7.16 6.5,7.5C6.5,8.69 6.83,9.9 7.5,10.93C7.35,10.97 7.18,11 7,11A3,3 0 0,1 4,8A3,3 0 0,1 7,5C7.18,5 7.35,5.03 7.5,5C7.5,5 8,5 8,5Z"})}),hoe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z"})}),moe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M14.5,12.5L16.5,14.5L14.5,16.5L12,14L9.5,16.5L7.5,14.5L9.5,12.5L7.5,10.5L9.5,8.5L12,11L14.5,8.5L16.5,10.5L14.5,12.5M18,3H6A2,2 0 0,0 4,5V19A2,2 0 0,0 6,21H18A2,2 0 0,0 20,19V5A2,2 0 0,0 18,3Z"})}),poe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z"})}),goe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"})}),voe=({isActive:e})=>f.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",filter:"url(#soft-shadow)",children:f.jsx("path",{fill:e?"url(#icon-grad-white)":"url(#icon-grad-blue)",d:"M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7A2.5,2.5 0 0,1 14.5,9.5A2.5,2.5 0 0,1 12,12A2.5,2.5 0 0,1 9.5,9.5A2.5,2.5 0 0,1 12,7M12,13C13.66,13 15,14.34 15,16V17H9V16C9,14.34 10.34,13 12,13Z"})}),yoe=({to:e,label:t,icon:n,onClick:r,isCollapsed:i})=>{const s="bg-indigo-600 text-white shadow-lg",l="text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700";return f.jsxs("li",{className:"relative group",children:[f.jsx(nD,{to:e,onClick:r,className:({isActive:u})=>`${u?s:l} flex items-center ${i?"justify-center":"gap-4"} px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-200`,children:({isActive:u})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:f.jsx(n,{isActive:u})}),f.jsx("span",{className:`whitespace-nowrap transition-all duration-200 ${i?"w-0 opacity-0 overflow-hidden":"opacity-100"}`,children:t})]})}),i&&f.jsx("div",{className:"absolute left-full ml-4 px-2 py-1 bg-slate-900 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:t})]})},xoe=({isOpen:e,setIsOpen:t,isCollapsed:n,setIsCollapsed:r})=>{const{user:i,logout:s}=Gt(),{settings:l,isPrivileged:u}=xo(),{canViewAdminPanel:d}=Gp(),[h,p]=S.useState(!1),g=qr(),v=S.useRef(null),x=[{to:"/dashboard",icon:uoe,label:"Dashboard",visible:u||l.pages.dashboard},{to:"/leaderboard",icon:doe,label:"Leaderboard",visible:u||l.pages.leaderboard},{to:"/teams",icon:foe,label:"Teams",visible:u||l.pages.teams},{to:"/events",icon:hoe,label:"Events",visible:u||l.pages.events},{to:"/rules",icon:moe,label:"Rules & Regs",visible:u||l.pages.rules},{to:"/reports",icon:poe,label:"Reports",visible:u||l.pages.reports},{to:"/profile",icon:goe,label:"Profile",visible:u||l.pages.profile},{to:"/admin",icon:voe,label:"Admin Panel",visible:d}];S.useEffect(()=>{const E=j=>{v.current&&!v.current.contains(j.target)&&p(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const w=()=>{window.innerWidth<768&&t(!1)},_=()=>{s(),g("/login")};return l?f.jsxs(f.Fragment,{children:[f.jsx(coe,{}),f.jsx("div",{className:`fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>t(!1)}),f.jsx("nav",{className:`fixed top-0 left-0 h-full bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-r border-slate-200 dark:border-slate-800 z-50 transform transition-all duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 md:flex-shrink-0 ${n?"md:w-20":"md:w-64"}`,children:f.jsxs("div",{className:`flex flex-col h-full transition-all duration-300 ${n?"p-2":"p-4"}`,children:[f.jsxs("div",{className:`flex items-center gap-3 mb-8 ${n?"justify-center":""}`,children:[f.jsx("div",{className:"logo bg-indigo-600 text-white h-10 w-10 rounded-xl flex items-center justify-center text-xl font-bold flex-shrink-0",children:"S"}),f.jsxs("div",{className:`overflow-hidden transition-all duration-200 ${n?"w-0 opacity-0":"w-auto opacity-100"}`,children:[f.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 whitespace-nowrap",children:"SIMS"}),f.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-xs whitespace-nowrap",children:"Management System"})]})]}),f.jsx("ul",{className:"flex flex-col gap-2 flex-grow",children:x.filter(E=>E.visible).map(E=>f.jsx(yoe,{...E,onClick:w,isCollapsed:n},E.to))}),f.jsxs("div",{className:"flex-shrink-0 space-y-2",children:[f.jsx("button",{onClick:()=>r(!n),className:"w-full hidden md:flex items-center justify-center h-10 rounded-xl text-slate-500 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:f.jsx("i",{className:`bi ${n?"bi-chevron-double-right":"bi-chevron-double-left"}`})}),f.jsxs("div",{className:"relative",ref:v,children:[h&&f.jsx("div",{className:"absolute bottom-full left-0 w-full mb-2 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 py-1 z-50 overflow-hidden",children:f.jsxs("button",{onClick:_,className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center gap-3 font-semibold",children:[f.jsx("i",{className:"bi bi-box-arrow-right text-lg"}),f.jsx("span",{children:"Log Out"})]})}),f.jsxs("div",{className:`flex items-center pt-2 border-t border-slate-200 dark:border-slate-800 cursor-pointer p-2 rounded-lg transition-colors hover:bg-slate-100 dark:hover:bg-slate-800/50 -mx-2 mt-2 ${n?"justify-center":"gap-3"}`,onClick:()=>p(!h),children:[f.jsx("img",{src:i==null?void 0:i.avatar,className:"rounded-full object-cover w-10 h-10 flex-shrink-0",alt:i==null?void 0:i.name}),f.jsxs("div",{className:`flex-1 min-w-0 overflow-hidden transition-all duration-200 ${n?"w-0 opacity-0":"w-auto opacity-100"}`,children:[f.jsx("div",{className:"font-semibold text-sm text-slate-800 dark:text-slate-100 truncate whitespace-nowrap",children:i==null?void 0:i.name}),f.jsx("div",{className:"text-slate-500 dark:text-slate-400 text-xs truncate whitespace-nowrap",children:i==null?void 0:i.email})]}),f.jsx("div",{className:`transition-all duration-200 ${n?"w-0 opacity-0":"opacity-100"}`,children:f.jsx("i",{className:"bi bi-three-dots-vertical text-slate-400"})})]})]})]})]})})]}):null},boe=()=>{const{user:e,switchUserRole:t}=Gt();return qr(),null},woe=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState(!1);return f.jsxs("div",{className:"flex h-screen bg-transparent text-slate-800 dark:text-slate-100",children:[f.jsx(xoe,{isOpen:e,setIsOpen:t,isCollapsed:n,setIsCollapsed:r}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsx(loe,{onToggleSidebar:()=>t(!e),sidebarOpen:e}),f.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-transparent p-4 sm:p-6 lg:p-8",children:f.jsx(NU,{})})]}),f.jsx(boe,{})]})},Soe=()=>{go("rules");const{user:e}=Gt(),{addToast:t}=On(),n=(e==null?void 0:e.role)===Pe.ADMIN,{data:r,loading:i}=an(DD,[xe.RULES]),s=async p=>{try{await Tw(p),t("Rules updated successfully!","success")}catch{try{l4("rules:update",p),Ys(),t("Rules update queued  will sync when online.","info")}catch{t("Failed to update rules","error")}}},l=async p=>{if(!r)return;const g={...r,sections:r.sections.filter(v=>v.id!==p)};await s(g),t("Section deleted","success")},u=(p,g,v)=>{if(!r)return;const x=g==="heading"?{type:"heading",level:3,content:v}:g==="paragraph"?{type:"paragraph",content:v}:{type:"list",items:v.split(`
`).filter(_=>_.trim())},w={...r,sections:r.sections.map(_=>_.id===p?{..._,items:[..._.items,x]}:_)};s(w)},d=(p,g)=>{if(!r)return;const v={...r,sections:r.sections.map(x=>x.id===p?{...x,items:x.items.filter((w,_)=>_!==g)}:x)};s(v)},h=(p,g,v)=>{var x;switch(p.type){case"heading":return f.jsxs("div",{className:"relative group",children:[f.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:p.content}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);case"paragraph":return f.jsxs("div",{className:"relative group mb-3",children:[f.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:p.content}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);case"list":return f.jsxs("div",{className:"relative group mb-3",children:[f.jsx("ul",{className:"list-disc list-inside space-y-2 text-slate-600 dark:text-slate-300",children:(x=p.items)==null?void 0:x.map((w,_)=>f.jsx("li",{children:w},_))}),n&&f.jsx("button",{onClick:()=>d(g,v),className:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx("i",{className:"bi bi-trash"})})]},v);default:return null}};return i?f.jsx(at,{className:"h-96 w-full"}):r?f.jsxs("div",{className:"space-y-8 pb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-slate-100",children:r.mainTitle}),f.jsx("p",{className:"text-lg text-slate-500 dark:text-slate-400 mt-1",children:r.subTitle}),f.jsx("p",{className:"text-sm text-indigo-500 dark:text-indigo-400 mt-2",children:r.hashTags}),n&&f.jsx("div",{className:"mt-4",children:f.jsxs(me,{variant:"secondary",onClick:()=>{const p=prompt("Enter section title:");if(p){const g={id:Date.now().toString(),title:p,items:[]};s({...r,sections:[...r.sections,g]})}},children:[f.jsx("i",{className:"bi bi-plus mr-1"})," Add Section"]})})]}),f.jsx(np,{children:r.sections.map(p=>f.jsx(ii.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:f.jsxs(Te,{className:"p-6 relative group",children:[n&&f.jsx("button",{onClick:()=>l(p.id),className:"absolute top-4 right-4 p-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded transition-colors",title:"Delete section",children:f.jsx("i",{className:"bi bi-trash"})}),f.jsx("h2",{className:"text-2xl font-bold mb-4 text-indigo-600 dark:text-indigo-400",children:p.title}),f.jsx("div",{className:"space-y-3",children:p.items.map((g,v)=>h(g,p.id,v))}),n&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 space-y-3",children:[f.jsx("h4",{className:"font-semibold text-sm",children:"Add Content:"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter heading text:");g&&u(p.id,"heading",g)},children:[f.jsx("i",{className:"bi bi-type-h3 mr-1"})," Add Heading"]}),f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter paragraph text:");g&&u(p.id,"paragraph",g)},children:[f.jsx("i",{className:"bi bi-card-text mr-1"})," Add Paragraph"]}),f.jsxs(me,{variant:"secondary",className:"text-xs py-2",onClick:()=>{const g=prompt("Enter list items (one per line):");g&&u(p.id,"list",g)},children:[f.jsx("i",{className:"bi bi-list-ul mr-1"})," Add List"]})]})]})]})},p.id))})]}):f.jsx("div",{className:"text-center text-slate-500",children:"No rules data available"})},_oe=()=>{var D;const[e,t]=S.useState(1),n=qr(),r=$r(),{updateUser:i}=Gt(),{addToast:s}=On(),l=(D=r.state)==null?void 0:D.partialUser,[u,d]=S.useState({...l,studentId:"",yearLevel:"",section:"",contactInfo:"",teamId:"",bio:"",interestedEvents:[]}),[h,p]=S.useState(!1),[g,v]=S.useState([]),[x,w]=S.useState([]);S.useEffect(()=>{if(!l){n("/login",{replace:!0});return}(async()=>{p(!0);try{const[P,I]=await Promise.all([ji(),ha()]);v(P),w(I)}catch{s("Failed to load necessary data","error")}finally{p(!1)}})()},[l,n,s]);const _=T=>{d({...u,[T.target.name]:T.target.value})},E=T=>{d(P=>{const I=P.interestedEvents||[],B=I.includes(T);return{...P,interestedEvents:B?I.filter(H=>H!==T):[...I,T]}})},j=T=>{if(T.preventDefault(),!u.studentId||!u.yearLevel||!u.section){s("Please fill out all required fields.","error");return}t(2)},A=async T=>{T.preventDefault(),p(!0);try{await i(u),s("Welcome! Your profile is complete.","success"),n("/dashboard",{replace:!0})}catch(P){s(P.message||"Failed to complete profile.","error")}finally{p(!1)}},N="w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all duration-150 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none";return f.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-2xl my-8",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"Complete Your Profile"}),f.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:["Welcome, ",l==null?void 0:l.firstName,"! Just a few more details to get you started."]})]}),f.jsxs(Te,{className:"p-8",children:[e===1&&f.jsxs("form",{onSubmit:j,className:"space-y-6",children:[f.jsx("h2",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Step 1: Academic Information"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(St,{label:"Student ID *",id:"studentId",name:"studentId",value:u.studentId,onChange:_,required:!0}),f.jsx(St,{label:"Contact Info (Optional)",id:"contactInfo",name:"contactInfo",value:u.contactInfo,onChange:_})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Year Level *"}),f.jsxs("select",{name:"yearLevel",value:u.yearLevel,onChange:_,className:N,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"1st Year",children:"1st Year"}),f.jsx("option",{value:"2nd Year",children:"2nd Year"}),f.jsx("option",{value:"3rd Year",children:"3rd Year"}),f.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Section *"}),f.jsxs("select",{name:"section",value:u.section,onChange:_,className:N,required:!0,children:[f.jsx("option",{value:"",children:"Select..."}),f.jsx("option",{value:"Section 1",children:"Section 1"}),f.jsx("option",{value:"Section 2",children:"Section 2"}),f.jsx("option",{value:"Section 3",children:"Section 3"}),f.jsx("option",{value:"International",children:"International"})]})]})]}),f.jsx(me,{type:"submit",className:"w-full py-2.5 mt-4",disabled:h,children:"Next Step"})]}),e===2&&f.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f.jsx("h2",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:"Step 2: Team & Event Interests"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Select Team (Optional)"}),f.jsxs("select",{name:"teamId",value:u.teamId,onChange:_,className:N,children:[f.jsx("option",{value:"",children:"None"}),g.map(T=>f.jsx("option",{value:T.id,children:T.name},T.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bio (Optional)"}),f.jsx("textarea",{name:"bio",value:u.bio,onChange:_,className:N,rows:2,placeholder:"Short description of yourself"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interested Events (Optional)"}),f.jsx("div",{className:"max-h-40 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg p-3 grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(T=>{var P;return f.jsxs("label",{className:"flex items-center space-x-2 p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors cursor-pointer text-sm",children:[f.jsx("input",{type:"checkbox",checked:(P=u.interestedEvents)==null?void 0:P.includes(T.name),onChange:()=>E(T.name),className:"rounded text-indigo-500 focus:ring-indigo-500"}),f.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:T.name})]},T.id)})})]}),f.jsxs("div",{className:"flex gap-4 pt-4",children:[f.jsx(me,{variant:"secondary",onClick:()=>t(1),className:"w-full py-2.5",children:"Back"}),f.jsx(me,{type:"submit",className:"w-full py-2.5",disabled:h,children:h?"Saving...":"Finish & Go to Dashboard"})]})]})]})]})})},Eoe=e=>{if(!e)return 1/0;const t=e.toLowerCase();if(t.includes("all")||t.includes("open"))return 1/0;const n=e.match(/(\d+)\s*\s*(\d+)/)||e.match(/(\d+)\s*-\s*(\d+)/);if(n&&n[2])return parseInt(n[2],10);const r=e.match(/(\d+)/);return r&&r[1]?parseInt(r[1],10):1/0},joe=({team:e,allEvents:t})=>{const{canManageRosters:n}=Gp(),r=n(e.id),[i,s]=S.useState(null),[l,u]=S.useState({}),{addToast:d}=On(),h=S.useMemo(()=>{const w={};if(!e.rosters)return w;for(const _ of e.rosters)for(const E of _.participants)w[E]=(w[E]||0)+1;return w},[e.rosters]),p=S.useMemo(()=>t.reduce((w,_)=>((w[_.category]=w[_.category]||[]).push(_),w),{}),[t]),g=Object.values(_e),v=async(w,_)=>{var D,T;const E=(D=l[w])==null?void 0:D.trim();if(!E){d("Please enter a participant name.","error");return}const j=(T=e.rosters)==null?void 0:T.find(P=>P.eventId===w),A=(j==null?void 0:j.participants)||[];if(A.length>=_){d(`This event has a maximum of ${_} participants.`,"error");return}const N=[...A,E];try{await Ux(e.id,w,N),d("Participant added successfully!","success"),u(P=>({...P,[w]:""}))}catch(P){d(P.message||"Failed to add participant.","error")}},x=async(w,_)=>{var A;const E=(A=e.rosters)==null?void 0:A.find(N=>N.eventId===w);if(!E)return;const j=E.participants.filter((N,D)=>D!==_);try{await Ux(e.id,w,j),d("Participant removed.","success")}catch(N){d(N.message||"Failed to remove participant.","error")}};return f.jsx("div",{className:"space-y-6",children:g.map(w=>p[w]&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400 mb-2 pb-1 border-b border-slate-200 dark:border-slate-700",children:w}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p[w].map(_=>{var D;const E=(D=e.rosters)==null?void 0:D.find(T=>T.eventId===_.id),j=(E==null?void 0:E.participants)||[],A=Eoe(_.participantsInfo),N=i===_.id;return f.jsxs(Te,{className:"p-4",disableLayoutAnimation:!0,children:[f.jsxs("div",{className:"flex justify-between items-start mb-3 cursor-pointer",onClick:()=>s(N?null:_.id),children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100",children:_.name}),f.jsxs("p",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mt-1 font-semibold",children:[f.jsx("i",{className:"bi bi-people-fill"}),f.jsx("span",{children:_.participantsInfo}),f.jsxs("span",{className:"font-bold",children:["(Reg: ",j.length," / ",isFinite(A)?A:"",")"]})]})]}),f.jsx("i",{className:`bi bi-chevron-${N?"up":"down"} text-slate-400 text-lg`})]}),N&&f.jsxs("div",{className:"pt-3 border-t border-slate-200 dark:border-slate-700 space-y-2",children:[j.length>0?f.jsx("ul",{className:"space-y-2",children:j.map((T,P)=>{const I=h[T]||1;return f.jsxs("li",{className:"flex items-center justify-between bg-slate-100 dark:bg-slate-700/50 p-2 rounded-lg text-sm",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:T}),I>1&&f.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-yellow-200 text-yellow-800 text-xs font-semibold rounded-full",title:`${T} is in ${I} events.`,children:[I," events"]})]}),r&&f.jsx("button",{onClick:()=>x(_.id,P),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-xs font-bold",children:"REMOVE"})]},P)})}):f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"No participants registered for this event."}),r&&j.length<A&&f.jsxs("div",{className:"flex gap-2 pt-2 mt-2 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("input",{type:"text",placeholder:"Enter participant name...",className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20",value:l[_.id]||"",onChange:T=>u(P=>({...P,[_.id]:T.target.value}))}),f.jsx(me,{onClick:()=>v(_.id,A),disabled:!l[_.id],children:"Add"})]})]})]},_.id)})})]},w))})},Nu=({label:e,isActive:t,onClick:n})=>f.jsx("button",{onClick:n,className:`px-4 py-2 text-sm font-semibold rounded-full transition-colors whitespace-nowrap ${t?"bg-indigo-600 text-white":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:e}),Kk=({log:e,canViewDetails:t,type:n})=>f.jsx("li",{className:`p-3 rounded-lg ${n==="merit"?"bg-green-50 dark:bg-green-900/50":"bg-red-50 dark:bg-red-900/50"}`,children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:e.reason}),f.jsxs("small",{className:"text-slate-500 dark:text-slate-400",children:["By ",e.updatedBy," on ",new Date(e.timestamp).toLocaleDateString(),n==="demerit"&&e.responsiblePerson&&(t?f.jsxs("span",{className:"text-red-500",children:[" (Player: ",e.responsiblePerson,")"]}):f.jsx("span",{className:"text-red-500",children:" (Player involved)"}))]})]}),f.jsx("span",{className:`font-bold text-lg ${n==="merit"?"text-green-500":"text-red-500"}`,children:e.points>0?`+${e.points}`:e.points})]})}),du=(e,t)=>{var n;return e?((n=t.find(r=>r.id===e))==null?void 0:n.name)||"Unknown User":"Not Assigned"},Coe=({team:e,allUsers:t,onClose:n})=>{var U,J,oe,de;const{isAdmin:r}=Gp(),{addToast:i}=On(),{user:s}=Gt(),[l,u]=S.useState(e),[d,h]=S.useState(null),[p,g]=S.useState(!1),[v,x]=S.useState({}),[w,_]=S.useState("governors");S.useEffect(()=>{u(e)},[e]);const E=()=>{x({userId:"",position:"",roleDescription:"",permissions:{canAdd:!1,canDelete:!1,canPassScores:!0,canUpdate:!0}}),g(!0),h(null)},j=ae=>{x(JSON.parse(JSON.stringify(ae))),h(ae.userId),g(!1)},A=()=>{h(null),g(!1),x({})},N=ae=>{const{name:M,value:k,type:Y}=ae.target;if(Y==="checkbox"){const{checked:V}=ae.target,se=M;x(R=>({...R,permissions:{...R==null?void 0:R.permissions,[se]:V}}))}else x(V=>({...V,[M]:k}))},D=async()=>{if(!v||!v.userId||!v.position){i("User and Position are required.","error");return}v.position==="Governor"&&(v.permissions={canAdd:!0,canDelete:!0,canUpdate:!0,canPassScores:!0});let ae;p?ae=[...l.facilitators||[],v]:ae=(l.facilitators||[]).map(M=>M.userId===v.userId?v:M);try{await jl({...l,facilitators:ae}),A(),i(`Facilitator ${p?"added":"updated"}.`,"success")}catch{i("Failed to update facilitators; changes will be synced when online.","info");try{const{enqueue:k,processQueue:Y}=await ri(async()=>{const{enqueue:V,processQueue:se}=await Promise.resolve().then(()=>Ml);return{enqueue:V,processQueue:se}},void 0);k("team:update",{...l,facilitators:ae}),k("activity:log",{userId:s&&s.id||"unknown",action:"updated_facilitators",target:{type:"team",name:l.name,link:`/teams?teamId=${l.id}`}}),Y()}catch(k){console.warn("Failed to enqueue team update",k)}}},T=async ae=>{var k;if(!window.confirm("Are you sure you want to remove this member?"))return;const M=(k=l.facilitators)==null?void 0:k.filter(Y=>Y.userId!==ae);try{await jl({...l,facilitators:M}),i("Facilitator removed.","success")}catch{i("Failed to remove facilitator; change will be synced when online.","info");try{const{enqueue:V,processQueue:se}=await ri(async()=>{const{enqueue:R,processQueue:G}=await Promise.resolve().then(()=>Ml);return{enqueue:R,processQueue:G}},void 0);V("team:update",{...l,facilitators:M}),V("activity:log",{userId:s&&s.id||"unknown",action:"removed_facilitator",target:{type:"team",name:l.name,link:`/teams?teamId=${l.id}`}}),se()}catch(V){console.warn("Failed to enqueue team update",V)}}},P=(ae,M)=>f.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mt-2",children:Object.keys(ae).map(k=>f.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[f.jsx("input",{type:"checkbox",name:k,checked:ae[k],onChange:N,disabled:M,className:"rounded text-indigo-500 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"}),f.jsx("span",{className:"text-slate-600 dark:text-slate-300 capitalize",children:k.replace("can","")})]},k))}),I=Qn(e.id),B=((U=l.facilitators)==null?void 0:U.filter(ae=>ae.position==="Governor"))||[],H=((J=l.facilitators)==null?void 0:J.filter(ae=>ae.position!=="Governor"))||[],Z=ae=>{const M=t.find(k=>k.id===ae.userId);return f.jsx(Te,{className:"p-4",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:(M==null?void 0:M.name)||"Unknown User"}),f.jsxs("p",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 flex items-center gap-1",children:[ae.position==="Governor"&&f.jsx("i",{className:"bi bi-star-fill text-yellow-500"}),ae.position]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:ae.roleDescription})]}),r&&f.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-4",children:[f.jsx(me,{variant:"secondary",className:"!p-2 h-8 w-8 text-xs",onClick:()=>j(ae),children:f.jsx("i",{className:"bi bi-pencil-fill"})}),f.jsx(me,{variant:"danger",className:"!p-2 h-8 w-8 text-xs",onClick:()=>T(ae.userId),disabled:ae.position==="Governor",children:f.jsx("i",{className:"bi bi-trash-fill"})})]})]})},ae.userId)};return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 overflow-hidden",children:[f.jsx("span",{children:"Facilitator Hub:"}),f.jsx("i",{className:`${I.icon} text-2xl`,style:{color:I.gradient.from}}),f.jsx("span",{style:{color:I.gradient.from},className:"truncate",children:e.name})]})}),f.jsx("div",{className:"flex-shrink-0 overflow-x-auto border-b border-slate-200 dark:border-slate-700 px-4 pt-2",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(Nu,{label:f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("i",{className:"bi bi-star-fill"}),"Governors ",B.length>0&&f.jsx("span",{className:"ml-1 bg-yellow-500 text-white text-xs px-2 py-0.5 rounded-full",children:B.length})]}),isActive:w==="governors",onClick:()=>_("governors")}),f.jsx(Nu,{label:f.jsxs("span",{className:"flex items-center gap-1",children:["Facilitators ",H.length>0&&f.jsx("span",{className:"ml-1 bg-indigo-500 text-white text-xs px-2 py-0.5 rounded-full",children:H.length})]}),isActive:w==="facilitators",onClick:()=>_("facilitators")})]})}),f.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:[w==="governors"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[f.jsx("i",{className:"bi bi-star-fill text-yellow-500"}),"Governors Management"]}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Governors have full permissions and cannot be deleted"})]}),r&&!p&&!d&&B.length<5&&f.jsxs(me,{onClick:E,className:"text-xs py-1 px-3",children:[f.jsx("i",{className:"bi bi-plus-lg mr-1"})," Add Governor"]})]}),(p||d)&&v.position==="Governor"&&f.jsxs(Te,{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 mb-4",children:[f.jsx("h4",{className:"font-bold mb-3 text-yellow-900 dark:text-yellow-100",children:p?"Add New Governor":"Edit Governor"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"User"}),p?f.jsxs("select",{name:"userId",value:v.userId||"",onChange:N,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user"}),t.filter(ae=>ae.teamId!==Rn&&!B.find(M=>M.userId===ae.id)).map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]}):f.jsx(St,{label:"",id:"name",name:"name",value:((oe=t.find(ae=>ae.id===v.userId))==null?void 0:oe.name)||"",disabled:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role Description"}),f.jsx("textarea",{name:"roleDescription",value:v.roleDescription||"",onChange:N,rows:2,className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500/20"})]}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-lg text-sm",children:[f.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Permissions (Auto-set for Governors):"}),f.jsxs("div",{className:"space-y-1 text-slate-600 dark:text-slate-400 text-xs",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Add Members"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Delete Members"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Update Information"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-check-circle-fill text-green-500 mr-2"}),"Can Pass Scores"]})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:A,children:"Cancel"}),f.jsx(me,{onClick:D,children:"Save Governor"})]})]}),B.length>0?f.jsx("div",{className:"space-y-3",children:B.map(Z)}):f.jsxs(Te,{className:"p-6 text-center bg-slate-50 dark:bg-slate-900/30",children:[f.jsx("i",{className:"bi bi-star text-4xl text-slate-300 dark:text-slate-600 mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"No governors assigned yet"})]})]}),w==="facilitators"&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Facilitator Management"}),r&&!p&&!d&&f.jsxs(me,{onClick:E,className:"text-xs py-1 px-3",children:[f.jsx("i",{className:"bi bi-plus-lg mr-1"})," Add Facilitator"]})]}),(p||d)&&v.position!=="Governor"&&f.jsxs(Te,{className:"p-4 bg-slate-50 dark:bg-slate-900/50 mb-4",children:[f.jsx("h4",{className:"font-bold mb-3",children:p?"Add New Facilitator":"Edit Facilitator"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"User"}),p?f.jsxs("select",{name:"userId",value:v.userId||"",onChange:N,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user"}),t.filter(ae=>ae.teamId!==Rn).map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]}):f.jsx(St,{label:"",id:"name",name:"name",value:((de=t.find(ae=>ae.id===v.userId))==null?void 0:de.name)||"",disabled:!0})]}),f.jsx(St,{label:"Position",id:"position",name:"position",value:v.position||"",onChange:N})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role Description"}),f.jsx("textarea",{name:"roleDescription",value:v.roleDescription||"",onChange:N,rows:2,className:"w-full text-sm px-3 py-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/20"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Permissions"}),P(v.permissions||{},!1)]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx(me,{variant:"secondary",onClick:A,children:"Cancel"}),f.jsx(me,{onClick:D,children:"Save Facilitator"})]})]}),H.length>0?f.jsx("div",{className:"space-y-3",children:H.map(Z)}):f.jsxs(Te,{className:"p-6 text-center bg-slate-50 dark:bg-slate-900/30",children:[f.jsx("i",{className:"bi bi-people text-4xl text-slate-300 dark:text-slate-600 mb-2"}),f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-2",children:"No facilitators assigned yet"})]})]})]})]})},Noe=({team:e,allUsers:t,allEvents:n,onClose:r})=>{var R,G,ie,ue,ve,Ne;const[i,s]=S.useState("overview"),{addToast:l}=On(),{theme:u}=RS(),{canManageTeamInfo:d,canViewDemeritDetails:h}=Gp(),{settings:p,isPrivileged:g}=xo(),{user:v}=Gt(),{data:x,loading:w}=an(()=>ND(e.id),[xe.USERS]),[_,E]=S.useState(!1),[j,A]=S.useState(!1),[N,D]=S.useState(e.description||""),[T,P]=S.useState({unitLeader:"",unitSecretary:"",unitTreasurer:"",unitErrands:["","","",""],adviser:""}),[I,B]=S.useState(!1),[H,Z]=S.useState(""),U=d(e==null?void 0:e.id);S.useEffect(()=>{s("overview"),D(e.description||""),A(!1)},[e.id,e.description]),S.useEffect(()=>{e&&P({unitLeader:e.unitLeader||"",unitSecretary:e.unitSecretary||"",unitTreasurer:e.unitTreasurer||"",unitErrands:e.unitErrands||["","","",""],adviser:e.adviser||""})},[e]);const J=async()=>{if(!(!H||!e))try{await Ih(e.id,H,"accepted"),l("Member added successfully!","success"),Z("")}catch(te){l(te.message||"Failed to add member","error")}},oe=async te=>{if(window.confirm("Are you sure you want to remove this member from the team?"))try{await CD(te),l("Member removed successfully!","success")}catch(ye){l(ye.message||"Failed to remove member","error")}},de=(te,ye)=>{const W=[...T.unitErrands];W[te]=ye,P({...T,unitErrands:W})},ae=async()=>{if(e)try{await jl({...e,description:N}),l("Team description updated!","success"),A(!1)}catch{l("Failed to update description; change will be synced when online.","info");try{const{enqueue:ye,processQueue:W}=await ri(async()=>{const{enqueue:je,processQueue:De}=await Promise.resolve().then(()=>Ml);return{enqueue:je,processQueue:De}},void 0);ye("team:update",{...e,description:N}),ye("activity:log",{userId:v&&v.id||"unknown",action:"updated_team_description",target:{type:"team",name:e.name,link:`/teams?teamId=${e.id}`}}),W()}catch(ye){console.warn("Failed to enqueue team description update",ye)}}},M=async()=>{if(e)try{await jl({...e,...T}),l("Leadership details saved!","success"),E(!1)}catch{l("Failed to save leadership; change will be synced when online.","info");try{const{enqueue:ye,processQueue:W}=await ri(async()=>{const{enqueue:je,processQueue:De}=await Promise.resolve().then(()=>Ml);return{enqueue:je,processQueue:De}},void 0);ye("team:update",{...e,...T}),ye("activity:log",{userId:v&&v.id||"unknown",action:"updated_team_leadership",target:{type:"team",name:e.name,link:`/teams?teamId=${e.id}`}}),W()}catch(ye){console.warn("Failed to enqueue team leadership update",ye)}}},k=async(te,ye)=>{if(e)try{await Ih(e.id,te,ye),l(`Request has been ${ye}.`,"success")}catch(W){l(W.message,"error")}},Y=(te,ye)=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:ye}),f.jsxs("select",{name:te,value:T[te],onChange:W=>P(je=>({...je,[te]:W.target.value})),disabled:!_,className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg disabled:opacity-70",children:[f.jsx("option",{value:"",children:"Not Assigned"}),t.map(W=>f.jsx("option",{value:W.id,children:W.name},W.id))]})]});if(e.id===Rn)return f.jsx(Coe,{team:e,allUsers:t,onClose:r});const V=((R=e.joinRequests)==null?void 0:R.length)||0,se=Qn(e.id);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-700",children:f.jsxs("h2",{id:"modal-title",className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-3 overflow-hidden",children:[f.jsx("span",{children:"Team Hub:"}),f.jsx("i",{className:`${se.icon} text-2xl`,style:{color:se.gradient.from}}),f.jsx("span",{style:{color:se.gradient.from},className:"truncate",children:e.name})]})}),f.jsx("div",{className:"flex-shrink-0 overflow-x-auto border-b border-slate-200 dark:border-slate-700 px-4 pt-2",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(Nu,{label:"Overview",isActive:i==="overview",onClick:()=>s("overview")}),f.jsx(Nu,{label:"Leadership",isActive:i==="leadership",onClick:()=>s("leadership")}),f.jsx(Nu,{label:f.jsxs("span",{className:"relative",children:["Members",U&&V>0&&f.jsx("span",{className:"absolute -top-1 -right-3 bg-red-500 text-white text-[10px] h-4 w-4 rounded-full flex items-center justify-center",children:V})]}),isActive:i==="members",onClick:()=>s("members")})]})}),f.jsxs("div",{className:"flex-grow min-h-0 overflow-y-auto p-6",children:[i==="overview"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs(Te,{className:"p-4",children:[f.jsx("h4",{className:"text-3xl font-bold text-indigo-700 dark:text-indigo-300",children:g||p.competitionScores?`${e.score} pts`:"Scores Hidden"}),(g||p.competitionScores)&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Current Rank: #",e.rank]})]}),f.jsxs(Te,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Team Description"}),U&&!j&&f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>A(!0),children:"Edit"})]}),j?f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:N,onChange:te=>D(te.target.value),className:"w-full text-sm p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 focus:ring-2 focus:ring-indigo-500/50",rows:4}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>A(!1),children:"Cancel"}),f.jsx(me,{className:"text-xs py-1 px-2",onClick:ae,children:"Save"})]})]}):f.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:e.description||"No description available."})]})]}),(g||p.competitionScores)&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-4",children:"Progress Graph"}),f.jsxs(Te,{className:"p-4",children:[f.jsx(a4,{teams:[e]}),f.jsx("p",{className:"text-center text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Shows score progression over time. Click on a chart to see a detailed log."})]})]}),(g||p.competitionScores)&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2 text-green-600 dark:text-green-400",children:"Merits"}),f.jsx(Te,{className:"p-4 max-h-80 overflow-y-auto",children:(G=e.merits)!=null&&G.length?f.jsx("ul",{className:"space-y-2",children:e.merits.map((te,ye)=>f.jsx(Kk,{log:te,canViewDetails:h,type:"merit"},ye))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No merits recorded."})})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2 text-red-600 dark:text-red-400",children:"Demerits"}),f.jsx(Te,{className:"p-4 max-h-80 overflow-y-auto",children:(ie=e.demerits)!=null&&ie.length?f.jsx("ul",{className:"space-y-2",children:e.demerits.map((te,ye)=>f.jsx(Kk,{log:te,canViewDetails:h,type:"demerit"},ye))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No demerits recorded."})})]})]}),(g||p.competitionScores)&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Event Scorecards"}),(ue=e.eventScores)!=null&&ue.length?f.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:e.eventScores.map((te,ye)=>f.jsxs(Te,{className:"p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("h4",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:te.eventName}),f.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:["Placement: ",te.placement]})]}),f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:["Competition Points: ",f.jsx("span",{className:"font-semibold",children:te.competitionPoints})]}),f.jsx("ul",{className:"text-sm space-y-1",children:te.scores.map((W,je)=>f.jsxs("li",{className:"flex justify-between border-t border-slate-200 dark:border-slate-700 pt-1",children:[f.jsxs("span",{children:[W.criteria,":"]}),f.jsxs("span",{className:"font-medium",children:[W.score," / ",W.maxScore]})]},je))})]},ye))}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No event scores available."})]})]}),i==="leadership"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Team Leadership Structure"}),U&&!_&&f.jsx(me,{variant:"secondary",className:"py-1 px-3 text-xs",onClick:()=>E(!0),children:"Edit Information"}),_&&f.jsxs("div",{className:"space-x-2",children:[f.jsx(me,{variant:"secondary",className:"py-1 px-3 text-xs",onClick:()=>E(!1),children:"Cancel"}),f.jsx(me,{className:"py-1 px-3 text-xs",onClick:M,children:"Save Changes"})]})]}),_?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y("unitLeader","Unit Leader"),Y("adviser","Unit Adviser"),Y("unitSecretary","Unit Secretary"),Y("unitTreasurer","Unit Treasurer")]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm text-slate-700 dark:text-slate-300 mb-2",children:"Unit Operational Errands"}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from({length:4}).map((te,ye)=>f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:`Errand ${ye+1}`}),f.jsxs("select",{value:T.unitErrands[ye]||"",onChange:W=>de(ye,W.target.value),className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Not Assigned"}),t.map(W=>f.jsx("option",{value:W.id,children:W.name},W.id))]})]},ye))})]})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs(Te,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Leader"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:du(e.unitLeader,t)})]}),f.jsxs(Te,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Adviser"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:du(e.adviser,t)})]}),f.jsxs(Te,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Secretary"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:du(e.unitSecretary,t)})]}),f.jsxs(Te,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Treasurer"}),f.jsx("p",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 truncate",children:du(e.unitTreasurer,t)})]})]}),f.jsxs(Te,{className:"p-4",children:[f.jsx("h5",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:"Unit Operational Errands"}),f.jsx("ul",{className:"mt-2 space-y-1 text-slate-700 dark:text-slate-300 list-disc list-inside",children:(((ve=e.unitErrands)==null?void 0:ve.filter(te=>te))??[]).length>0?(Ne=e.unitErrands)==null?void 0:Ne.map((te,ye)=>te&&f.jsx("li",{children:du(te,t)},ye)):f.jsx("li",{className:"list-none italic",children:"No members assigned."})})]})]})]}),i==="members"&&f.jsxs("div",{className:"space-y-6",children:[U&&f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Join Requests"}),e.joinRequests&&e.joinRequests.length>0?f.jsx("div",{className:"space-y-3",children:e.joinRequests.map(te=>{const ye=t.find(W=>W.id===te.userId);return f.jsxs(Te,{className:"p-4 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:(ye==null?void 0:ye.name)||"Unknown User"}),f.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:new Date(te.timestamp).toLocaleString()})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(me,{className:"text-xs py-1 px-3",onClick:()=>k(te.userId,"accepted"),children:"Accept"}),f.jsx(me,{variant:"danger",className:"text-xs py-1 px-3",onClick:()=>k(te.userId,"rejected"),children:"Reject"})]})]},te.userId)})}):f.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No pending join requests."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Event Roster"}),f.jsx(joe,{team:e,allEvents:n})]}),f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-between items-center mt-6",children:f.jsx("h3",{className:"font-bold text-lg",children:"Team Members & Prospects"})}),f.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-4 text-sm text-indigo-700 dark:text-indigo-300 my-4",children:f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-info-circle mr-2"}),"This list shows registered team members and their self-declared interest in specific events."]})}),f.jsx("div",{className:"space-y-3",children:w?f.jsx(at,{className:"h-48 w-full"}):x&&x.length>0?x.map(te=>f.jsx(Te,{className:"p-4 hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsx("img",{src:te.avatar,alt:te.name,className:"h-12 w-12 rounded-full object-cover"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("h5",{className:"font-bold text-slate-800 dark:text-slate-100",children:[te.firstName," ",te.lastName]}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[te.yearLevel,"  ",te.section]})]}),f.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:f.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded capitalize",children:te.role.replace("_"," ")})})]}),te.interestedEvents&&te.interestedEvents.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs font-semibold text-slate-600 dark:text-slate-400 mb-1",children:"Interested in:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:te.interestedEvents.map((ye,W)=>f.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 text-xs rounded-full",children:ye},W))})]}),te.bio&&f.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400 italic",children:['"',te.bio,'"']})]})]})},te.id)):f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No members found for this team."})})]}),U&&f.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h3",{className:"font-bold text-lg",children:"Member Management"}),f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Directly add or remove members from this team. This action bypasses the join request system."}),f.jsxs(Te,{className:"p-4 mb-4 bg-slate-100 dark:bg-slate-900/50",children:[f.jsxs("h4",{className:"font-semibold mb-2",children:["Add a member to ",e.name]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:H,onChange:te=>Z(te.target.value),className:"w-full text-sm p-2 bg-white dark:bg-slate-700/50 border border-slate-300 dark:border-slate-600 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a user to add..."}),t.filter(te=>!te.teamId).map(te=>f.jsxs("option",{value:te.id,children:[te.name," (",te.email,")"]},te.id))]}),f.jsx(me,{onClick:J,disabled:!H,children:"Add"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h4",{className:"font-semibold text-md mb-2",children:"Remove Current Members"}),x&&x.length>0?x.map(te=>f.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-3 rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:te.avatar,alt:te.name,className:"h-8 w-8 rounded-full"}),f.jsx("span",{className:"font-medium text-sm",children:te.name})]}),f.jsx(me,{variant:"danger",className:"text-xs py-1 px-3",onClick:()=>oe(te.id),children:"Remove"})]},te.id)):f.jsx("p",{className:"text-sm text-slate-500 italic",children:"No members to manage."})]})]})]})]})]})},Toe=()=>{go("teams");const{isDataAvailable:e}=$l(),{user:t}=Gt(),{addToast:n}=On(),{settings:r,isPrivileged:i}=xo(),[s,l]=iD(),[u,d]=S.useState(null),{data:h,loading:p}=an(ji,[xe.TEAMS,xe.EVENTS,xe.USERS]),{data:g,loading:v}=an(mo,[xe.USERS]),{data:x,loading:w}=an(ha,[xe.EVENTS]),_=h||[],E=g||[],j=x||[],A=p||v||w,N=S.useCallback(U=>{d(U),l({teamId:U.id},{replace:!0})},[l]),D=S.useCallback(()=>{d(null),l({},{replace:!0})},[l]);S.useEffect(()=>{const U=s.get("teamId");if(U&&_.length>0){const J=_.find(oe=>oe.id===U);J?d(J):D()}else U||d(null)},[s,_,D]);const T=S.useMemo(()=>{var U;if(!t)return null;for(const J of _){const oe=(U=J.joinRequests)==null?void 0:U.find(de=>de.userId===t.id);if(oe)return{...oe,teamId:J.id}}return null},[_,t]),P=async()=>{if(!(!t||!T))try{await Ih(T.teamId,T.userId,"rejected"),n("Join request cancelled.","info")}catch(U){n(U.message,"error")}},I=!!T,B=S.useMemo(()=>_.filter(U=>U.id===Rn),[_]),H=S.useMemo(()=>_.filter(U=>U.id!==Rn).sort((U,J)=>U.rank-J.rank),[_]),Z=U=>{var de,ae;const J=Qn(U.id),oe=((de=U.facilitators)==null?void 0:de.filter(M=>M.position==="Governor"))||[];return f.jsxs(Te,{className:"cursor-pointer group flex flex-col transition-all duration-300",onClick:()=>N(U),children:[f.jsxs("div",{className:"p-5 flex-grow",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 group-hover:text-indigo-600 transition-colors flex items-center gap-2",children:[f.jsx("i",{className:`${J.icon} text-2xl`,style:{color:J.gradient.from}}),f.jsx("span",{children:U.name})]}),(i||r.competitionScores)&&U.rank>0&&f.jsxs("span",{className:"text-2xl font-bold",style:{color:J.gradient.from},children:["#",U.rank]})]}),f.jsxs("div",{className:"space-y-2 text-sm text-slate-600 dark:text-slate-400",children:[f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-person-circle mr-2"}),"Leader: ",((ae=E.find(M=>M.id===U.unitLeader))==null?void 0:ae.name)||"TBA"]}),f.jsxs("p",{children:[f.jsx("i",{className:"bi bi-people mr-2"}),"Members: ",U.playersCount]})]}),U.id===Rn&&oe.length>0&&f.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:[f.jsx("h5",{className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 mb-2",children:"Governors"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:oe.map(M=>{const k=E.find(Y=>Y.id===M.userId);return f.jsxs("button",{onClick:Y=>{Y.stopPropagation(),N(U)},className:"px-3 py-1 bg-indigo-100 dark:bg-indigo-900/30 hover:bg-indigo-200 dark:hover:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 text-xs rounded-full font-semibold transition-colors",title:`${k==null?void 0:k.name} - Governor`,children:[f.jsx("i",{className:"bi bi-star-fill mr-1"}),(k==null?void 0:k.name)||"Unknown"]},M.userId)})})]})]}),f.jsxs("div",{className:"mt-auto px-5 pb-5 pt-4 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[i||r.competitionScores?f.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-100",children:[U.score," pts"]}):f.jsx("div",{}),f.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["View Details ",f.jsx("i",{className:"bi bi-arrow-right ml-1"})]})]})]},U.id)};return e?f.jsxs(vi,{children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Teams"}),!(t!=null&&t.teamId)&&I&&f.jsx(me,{variant:"secondary",onClick:P,children:"Cancel Join Request"})]}),f.jsx("div",{className:"space-y-8",children:A?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx(at,{className:"h-8 w-1/2 mb-4"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.jsx(dl,{})})]}),f.jsxs("div",{children:[f.jsx(at,{className:"h-8 w-1/2 mb-4 mt-6"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx(dl,{}),f.jsx(dl,{}),f.jsx(dl,{}),f.jsx(dl,{})]})]})]}):f.jsxs(f.Fragment,{children:[B.length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:"Facilitating Team"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(Z)})]}),H.length>0&&f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:"Participating Teams"}),!(t!=null&&t.teamId)&&!I&&f.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm text-blue-800 dark:text-blue-200",children:"You are not yet on a team. Click a team card to view details and request to join."}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(Z)})]})]})}),f.jsx(pR,{isOpen:!!u,onClose:D,children:u&&f.jsx(Noe,{team:u,allUsers:E,allEvents:j,onClose:D})})]}):f.jsx(vi,{children:f.jsx(pd,{})})},Aoe="t5",Ooe=()=>{const{data:e,loading:t}=an(TD,[xe.REPORTS]),{data:n,loading:r}=an(mo,[xe.USERS]),{data:i,loading:s}=an(ji,[xe.TEAMS]),{isDataAvailable:l}=$l(),u=e||[],d=n||[],h=i||[],p=t||r||s,[g,v]=S.useState("view"),{user:x}=Gt(),{addToast:w}=On(),{settings:_,isPrivileged:E}=xo(),[j,A]=S.useState(""),[N,D]=S.useState(null),[T,P]=S.useState("report"),[I,B]=S.useState({problemType:"",description:"",offenderName:"",offenderTeam:"",evidence:""}),H=(x==null?void 0:x.teamId)===Aoe||(x==null?void 0:x.role)===Pe.ADMIN||(x==null?void 0:x.role)===Pe.OFFICER,Z=k=>d.find(Y=>Y.id===k),U=async k=>{if(k.preventDefault(),!!x)try{await AD({...I,type:T,submittedBy:x.id}),w(`${T==="report"?"Report":"Suggestion"} submitted successfully!`,"success"),B({problemType:"",description:"",offenderName:"",offenderTeam:"",evidence:""}),v("view")}catch{w("Failed to submit. Try again.","error")}},J=async(k,Y)=>{try{await OD(k,Y),w("Status updated!","success")}catch{w("Failed to update status.","error")}},oe=async k=>{if(!(!j.trim()||!x))try{await kD(k,{reply:j}),A(""),D(null),w("Reply posted!","success")}catch{w("Failed to post reply.","error")}},de=H?u:u.filter(k=>k.submittedBy===(x==null?void 0:x.id)),ae=H?"All Submissions":"My Submissions",M={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",reviewed:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300",resolved:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"};return p?f.jsx("div",{children:"Loading..."}):l?f.jsxs(vi,{className:"space-y-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:"Reports & Suggestions"}),f.jsxs("div",{className:"flex space-x-1 border-b border-slate-200 dark:border-slate-700",children:[(E||_.reports.tabs.view)&&f.jsx("button",{onClick:()=>v("view"),className:`px-4 py-2 text-sm font-semibold ${g==="view"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"}`,children:ae}),(E||_.reports.tabs.submit)&&f.jsx("button",{onClick:()=>v("submit"),className:`px-4 py-2 text-sm font-semibold ${g==="submit"?"border-b-2 border-indigo-500 text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400"}`,children:"Submit New"})]}),g==="view"&&(E||_.reports.tabs.view)&&f.jsx("div",{className:"space-y-4",children:de.length===0?f.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-8",children:H?"No reports have been submitted yet.":"You have not submitted any reports."}):de.map(k=>{const Y=Z(k.submittedBy),V=h.find(R=>{var G;return R.name.toLowerCase()===((G=k.offenderTeam)==null?void 0:G.toLowerCase())}),se=V?Qn(V.id):null;return f.jsxs(Te,{className:"p-5",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start gap-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full capitalize ${k.type==="report"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"}`,children:k.type}),k.problemType&&f.jsx("span",{className:"text-sm font-semibold ml-2 text-slate-700 dark:text-slate-200",children:k.problemType})]}),f.jsx("span",{className:`text-xs font-bold capitalize px-2.5 py-1 rounded-full ${M[k.status]}`,children:k.status})]}),f.jsx("p",{className:"my-3 text-slate-700 dark:text-slate-300 whitespace-pre-wrap",children:k.description}),k.offenderName&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2",children:[f.jsx("b",{className:"text-slate-700 dark:text-slate-200",children:"Offender:"}),f.jsx("span",{children:k.offenderName}),se?f.jsxs("span",{className:"flex items-center gap-1",children:["(",f.jsx("i",{className:`${se.icon}`,style:{color:se.gradient.from}}),f.jsx("span",{children:k.offenderTeam}),")"]}):k.offenderTeam&&f.jsxs("span",{children:["(",k.offenderTeam,")"]})]}),k.evidence&&f.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[f.jsx("b",{className:"text-slate-700 dark:text-slate-200",children:"Evidence:"})," ",k.evidence]}),f.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:["Submitted by ",f.jsx("b",{children:(Y==null?void 0:Y.name)||"Unknown"})," on ",new Date(k.timestamp).toLocaleString()]}),k.replies&&k.replies.length>0&&f.jsx("div",{className:"mt-4 space-y-3",children:k.replies.map(R=>{const G=Z(R.repliedBy);return f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-3 rounded-lg flex gap-3",children:[f.jsx("img",{src:G==null?void 0:G.avatar,alt:G==null?void 0:G.name,className:"h-8 w-8 rounded-full flex-shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:R.message}),f.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[f.jsx("b",{children:G==null?void 0:G.name}),"  ",new Date(R.timestamp).toLocaleString()]})]})]},R.id)})}),H&&f.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200 dark:border-slate-700",children:N!==k.id?f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>J(k.id,"reviewed"),disabled:k.status==="reviewed",children:"Mark as Reviewed"}),f.jsx(me,{variant:"secondary",className:"text-xs py-1 px-2",onClick:()=>J(k.id,"resolved"),disabled:k.status==="resolved",children:"Mark as Resolved"})]}),f.jsx(me,{className:"text-xs py-1 px-2",onClick:()=>D(k.id),children:"Reply"})]}):f.jsxs("div",{className:"space-y-2",children:[f.jsx("textarea",{value:j,onChange:R=>A(R.target.value),rows:2,className:"w-full text-sm p-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900",placeholder:"Type your reply..."}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(me,{variant:"secondary",onClick:()=>D(null),children:"Cancel"}),f.jsx(me,{onClick:()=>oe(k.id),children:"Post Reply"})]})]})})]},k.id)})}),g==="submit"&&(E||_.reports.tabs.submit)&&f.jsx(Te,{className:"p-6",children:f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Submission Type"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"type",value:"report",checked:T==="report",onChange:()=>P("report")})," Report an Issue"]}),f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:T==="suggestion",onChange:()=>P("suggestion")})," Submit a Suggestion"]})]})]}),T==="report"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Problem Type"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",value:I.problemType,onChange:k=>B({...I,problemType:k.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Select type..."}),f.jsx("option",{value:"spy",children:"Spying / Eavesdropping"}),f.jsx("option",{value:"unsportsmanlike",children:"Unsportsmanlike Behavior"}),f.jsx("option",{value:"other",children:"Other"})]})]}),T==="report"&&I.problemType&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsx(St,{label:"Offender Name (if known)",id:"offenderName",value:I.offenderName,onChange:k=>B({...I,offenderName:k.target.value})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Offender Team (if known)"}),f.jsxs("select",{className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",value:I.offenderTeam,onChange:k=>B({...I,offenderTeam:k.target.value}),children:[f.jsx("option",{value:"",children:"Select team..."}),h.map(k=>f.jsx("option",{value:k.name,children:k.name},k.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),f.jsx("textarea",{id:"description",rows:4,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-800 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all duration-150",value:I.description,onChange:k=>B({...I,description:k.target.value}),required:!0,placeholder:"Please provide specific details..."})]}),T==="report"&&f.jsx(St,{label:"Evidence (Link or description)",id:"evidence",value:I.evidence,onChange:k=>B({...I,evidence:k.target.value}),placeholder:"Link to screenshot, video, etc."}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsx(me,{type:"submit",children:T==="report"?"Submit Report":"Submit Suggestion"})})]})})]}):f.jsx(vi,{children:f.jsx(pd,{})})};var Wk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(e,t){if(!e)throw nc(t)},nc=function(e){return new Error("Firebase Database ("+d4.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},koe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],l=e[n++],u=e[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const s=e[n++],l=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return t.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],l=i+1<e.length,u=l?e[i+1]:0,d=i+2<e.length,h=d?e[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let v=(u&15)<<2|h>>6,x=h&63;d||(x=64,l||(v=64)),r.push(n[p],n[g],n[v],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f4(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):koe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],u=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const g=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new Poe;const v=s<<2|u>>4;if(r.push(v),h!==64){const x=u<<4&240|h>>2;if(r.push(x),g!==64){const w=h<<6&192|g;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Poe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h4=function(e){const t=f4(e);return IS.encodeByteArray(t,!0)},Rm=function(e){return h4(e).replace(/\./g,"")},Xb=function(e){try{return IS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Doe(e){return m4(void 0,e)}function m4(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Moe(n)||(e[n]=m4(e[n],t[n]));return e}function Moe(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Roe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe=()=>Roe().__FIREBASE_DEFAULTS__,Loe=()=>{if(typeof process>"u"||typeof Wk>"u")return;const e=Wk.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Boe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Xb(e[1]);return t&&JSON.parse(t)},p4=()=>{try{return Ioe()||Loe()||Boe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zoe=e=>{var t,n;return(n=(t=p4())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Uoe=e=>{const t=zoe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},g4=()=>{var e;return(e=p4())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Foe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Rm(JSON.stringify(n)),Rm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Voe())}function Hoe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $oe(){return d4.NODE_ADMIN===!0}function qoe(){try{return typeof indexedDB=="object"}catch{return!1}}function Goe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe="FirebaseError";class Od extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Yoe,Object.setPrototypeOf(this,Od.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y4.prototype.create)}}class y4{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],l=s?Koe(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Od(i,u,r)}}function Koe(e,t){return e.replace(Woe,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Woe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(e){return JSON.parse(e)}function $t(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ju(Xb(s[0])||""),n=Ju(Xb(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},Xoe=function(e){const t=x4(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Qoe=function(e){const t=x4(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rl(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Xk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Im(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Qb(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],l=t[i];if(Qk(s)&&Qk(l)){if(!Qb(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qk(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zoe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let g=0;g<16;g++)r[g]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let g=16;g<80;g++){const v=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],d=this.chain_[4],h,p;for(let g=0;g<80;g++){g<40?g<20?(h=u^s&(l^u),p=1518500249):(h=s^l^u,p=1859775393):g<60?(h=s&l|u&(s|l),p=2400959708):(h=s^l^u,p=3395469782);const v=(i<<5|i>>>27)+h+d+p+r[g]&4294967295;d=u,u=l,l=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}else for(;i<n;)if(s[l]=t[i],++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function LS(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ce(r<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(r)-56320;i=65536+(s<<10)+l}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Kp=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(e){return e&&e._delegate?e._delegate:e}class ed{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Yp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rle(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&t(l,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nle(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nle(e){return e===Fs?void 0:e}function rle(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ile{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tle(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const ale={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},sle=dt.INFO,ole={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},lle=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=ole[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class b4{constructor(t){this.name=t,this._logLevel=sle,this._logHandler=lle,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ale[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const cle=(e,t)=>t.some(n=>e instanceof n);let Zk,Jk;function ule(){return Zk||(Zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dle(){return Jk||(Jk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w4=new WeakMap,Zb=new WeakMap,S4=new WeakMap,jx=new WeakMap,BS=new WeakMap;function fle(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(Ja(e.result)),i()},l=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&w4.set(n,e)}).catch(()=>{}),BS.set(t,e),t}function hle(e){if(Zb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});Zb.set(e,t)}let Jb={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zb.get(e);if(t==="objectStoreNames")return e.objectStoreNames||S4.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mle(e){Jb=e(Jb)}function ple(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Cx(this),t,...n);return S4.set(r,t.sort?t.sort():[t]),Ja(r)}:dle().includes(e)?function(...t){return e.apply(Cx(this),t),Ja(w4.get(this))}:function(...t){return Ja(e.apply(Cx(this),t))}}function gle(e){return typeof e=="function"?ple(e):(e instanceof IDBTransaction&&hle(e),cle(e,ule())?new Proxy(e,Jb):e)}function Ja(e){if(e instanceof IDBRequest)return fle(e);if(jx.has(e))return jx.get(e);const t=gle(e);return t!==e&&(jx.set(e,t),BS.set(t,e)),t}const Cx=e=>BS.get(e);function vle(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(e,t),u=Ja(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ja(l.result),d.oldVersion,d.newVersion,Ja(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const yle=["get","getKey","getAll","getAllKeys","count"],xle=["put","add","delete","clear"],Nx=new Map;function eP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Nx.get(t))return Nx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=xle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yle.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&d.done]))[0]};return Nx.set(t,s),s}mle(e=>({...e,get:(t,n,r)=>eP(t,n)||e.get(t,n,r),has:(t,n)=>!!eP(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wle(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wle(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ew="@firebase/app",tP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new b4("@firebase/app"),Sle="@firebase/app-compat",_le="@firebase/analytics-compat",Ele="@firebase/analytics",jle="@firebase/app-check-compat",Cle="@firebase/app-check",Nle="@firebase/auth",Tle="@firebase/auth-compat",Ale="@firebase/database",Ole="@firebase/data-connect",kle="@firebase/database-compat",Ple="@firebase/functions",Dle="@firebase/functions-compat",Mle="@firebase/installations",Rle="@firebase/installations-compat",Ile="@firebase/messaging",Lle="@firebase/messaging-compat",Ble="@firebase/performance",zle="@firebase/performance-compat",Ule="@firebase/remote-config",Fle="@firebase/remote-config-compat",Vle="@firebase/storage",Hle="@firebase/storage-compat",$le="@firebase/firestore",qle="@firebase/vertexai-preview",Gle="@firebase/firestore-compat",Yle="firebase",Kle="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="[DEFAULT]",Wle={[ew]:"fire-core",[Sle]:"fire-core-compat",[Ele]:"fire-analytics",[_le]:"fire-analytics-compat",[Cle]:"fire-app-check",[jle]:"fire-app-check-compat",[Nle]:"fire-auth",[Tle]:"fire-auth-compat",[Ale]:"fire-rtdb",[Ole]:"fire-data-connect",[kle]:"fire-rtdb-compat",[Ple]:"fire-fn",[Dle]:"fire-fn-compat",[Mle]:"fire-iid",[Rle]:"fire-iid-compat",[Ile]:"fire-fcm",[Lle]:"fire-fcm-compat",[Ble]:"fire-perf",[zle]:"fire-perf-compat",[Ule]:"fire-rc",[Fle]:"fire-rc-compat",[Vle]:"fire-gcs",[Hle]:"fire-gcs-compat",[$le]:"fire-fst",[Gle]:"fire-fst-compat",[qle]:"fire-vertex","fire-js":"fire-js",[Yle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,Xle=new Map,nw=new Map;function nP(e,t){try{e.container.addComponent(t)}catch(n){ua.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Bm(e){const t=e.name;if(nw.has(t))return ua.debug(`There were multiple attempts to register component ${t}.`),!1;nw.set(t,e);for(const n of Lm.values())nP(n,e);for(const n of Xle.values())nP(n,e);return!0}function Qle(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new y4("app","Firebase",Zle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ed("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece=Kle;function _4(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:tw,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(n||(n=g4()),!n)throw es.create("no-options");const s=Lm.get(i);if(s){if(Qb(n,s.options)&&Qb(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const l=new ile(i);for(const d of nw.values())l.addComponent(d);const u=new Jle(n,r,l);return Lm.set(i,u),u}function tce(e=tw){const t=Lm.get(e);if(!t&&e===tw&&g4())return _4();if(!t)throw es.create("no-app",{appName:e});return t}function Sl(e,t,n){var r;let i=(r=Wle[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${t}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ua.warn(u.join(" "));return}Bm(new ed(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce="firebase-heartbeat-database",rce=1,td="firebase-heartbeat-store";let Tx=null;function E4(){return Tx||(Tx=vle(nce,rce,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(e=>{throw es.create("idb-open",{originalErrorMessage:e.message})})),Tx}async function ice(e){try{const n=(await E4()).transaction(td),r=await n.objectStore(td).get(j4(e));return await n.done,r}catch(t){if(t instanceof Od)ua.warn(t.message);else{const n=es.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ua.warn(n.message)}}}async function rP(e,t){try{const r=(await E4()).transaction(td,"readwrite");await r.objectStore(td).put(t,j4(e)),await r.done}catch(n){if(n instanceof Od)ua.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(r.message)}}}function j4(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=1024,sce=720*60*60*1e3;class oce{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cce(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iP();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=sce}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ua.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iP(),{heartbeatsToSend:r,unsentEntries:i}=lce(this._heartbeatsCache.heartbeats),s=Rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ua.warn(n),""}}}function iP(){return new Date().toISOString().substring(0,10)}function lce(e,t=ace){const n=[];let r=e.slice();for(const i of e){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),aP(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aP(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cce{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qoe()?Goe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ice(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rP(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rP(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function aP(e){return Rm(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uce(e){Bm(new ed("platform-logger",t=>new ble(t),"PRIVATE")),Bm(new ed("heartbeat",t=>new oce(t),"PRIVATE")),Sl(ew,tP,e),Sl(ew,tP,"esm2017"),Sl("fire-js","")}uce("");var dce="firebase",fce="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl(dce,fce,"app");var sP={};const oP="@firebase/database",lP="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C4="";function N4(e){C4=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hce{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$t(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ju(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return wa(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hce(t)}}catch{}return new mce},Ks=T4("localStorage"),pce=T4("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new b4("@firebase/database"),gce=(function(){let e=1;return function(){return e++}})(),A4=function(e){const t=ele(e),n=new Joe;n.update(t);const r=n.digest();return IS.encodeByteArray(r)},kd=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=kd.apply(null,r):typeof r=="object"?t+=$t(r):t+=r,t+=" "}return t};let Tu=null,cP=!0;const vce=function(e,t){ce(!0,"Can't turn on custom loggers persistently."),_l.logLevel=dt.VERBOSE,Tu=_l.log.bind(_l)},Tn=function(...e){if(cP===!0&&(cP=!1,Tu===null&&pce.get("logging_enabled")===!0&&vce()),Tu){const t=kd.apply(null,e);Tu(t)}},Pd=function(e){return function(...t){Tn(e,...t)}},rw=function(...e){const t="FIREBASE INTERNAL ERROR: "+kd(...e);_l.error(t)},da=function(...e){const t=`FIREBASE FATAL ERROR: ${kd(...e)}`;throw _l.error(t),new Error(t)},Zn=function(...e){const t="FIREBASE WARNING: "+kd(...e);_l.warn(t)},yce=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},O4=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},xce=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Il="[MIN_NAME]",oo="[MAX_NAME]",rc=function(e,t){if(e===t)return 0;if(e===Il||t===oo)return-1;if(t===Il||e===oo)return 1;{const n=uP(e),r=uP(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},bce=function(e,t){return e===t?0:e<t?-1:1},fu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$t(t))},zS=function(e){if(typeof e!="object"||e===null)return $t(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=$t(t[r]),n+=":",n+=zS(e[t[r]]);return n+="}",n},k4=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Jn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const P4=function(e){ce(!O4(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,l,u,d;e===0?(s=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=u+r,l=Math.round(e*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,l=Math.round(e/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(l%2?1:0),l=Math.floor(l/2);for(d=t;d;d-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(d=0;d<64;d+=8){let v=parseInt(p.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},wce=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Sce=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _ce(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Ece=new RegExp("^-?(0*)\\d{1,10}$"),jce=-2147483648,Cce=2147483647,uP=function(e){if(Ece.test(e)){const t=Number(e);if(t>=jce&&t<=Cce)return t}return null},ic=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Zn("Exception was thrown by user callback.",n),t},Math.floor(0))}},Nce=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Au=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Zn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zn(t)}}class Dh{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Dh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="5",D4="v",M4="s",R4="r",I4="f",L4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B4="ls",z4="p",iw="ac",U4="websocket",F4="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,n,r,i,s=!1,l="",u=!1,d=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ks.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ks.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Oce(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function H4(e,t,n){ce(typeof t=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let r;if(t===U4)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===F4)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Oce(e)&&(n.ns=e.namespace);const i=[];return Jn(n,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(){this.counters_={}}incrementCounter(t,n=1){wa(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Doe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={},Ox={};function FS(e){const t=e.toString();return Ax[t]||(Ax[t]=new kce),Ax[t]}function Pce(e,t){const n=e.toString();return Ox[n]||(Ox[n]=t()),Ox[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ic(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="start",Mce="close",Rce="pLPCommand",Ice="pRTLPCB",$4="id",q4="pw",G4="ser",Lce="cb",Bce="seg",zce="ts",Uce="d",Fce="dframe",Y4=1870,K4=30,Vce=Y4-K4,Hce=25e3,$ce=3e4;class xl{constructor(t,n,r,i,s,l,u){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pd(t),this.stats_=FS(n),this.urlFn=d=>(this.appCheckToken&&(d[iw]=this.appCheckToken),H4(n,F4,d))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dce(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($ce)),xce(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VS((...s)=>{const[l,u,d,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===dP)this.id=u,this.password=d;else if(l===Mce)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[dP]="t",r[G4]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Lce]=this.scriptTagHolder.uniqueCallbackIdentifier),r[D4]=US,this.transportSessionId&&(r[M4]=this.transportSessionId),this.lastSessionId&&(r[B4]=this.lastSessionId),this.applicationId&&(r[z4]=this.applicationId),this.appCheckToken&&(r[iw]=this.appCheckToken),typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(r[R4]=I4);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return xl.forceAllow_?!0:!xl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wce()&&!Sce()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=h4(n),i=k4(r,Vce);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Fce]="t",r[$4]=t,r[q4]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=$t(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class VS{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gce(),window[Rce+this.uniqueCallbackIdentifier]=t,window[Ice+this.uniqueCallbackIdentifier]=n,this.myIFrame=VS.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){Tn("frame writing exception"),u.stack&&Tn(u.stack),Tn(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Tn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$4]=this.myID,t[q4]=this.myPW,t[G4]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+K4+r.length<=Y4;){const l=this.pendingSegs.shift();r=r+"&"+Bce+i+"="+l.seg+"&"+zce+i+"="+l.ts+"&"+Uce+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Hce)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Tn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qce=16384,Gce=45e3;let zm=null;typeof MozWebSocket<"u"?zm=MozWebSocket:typeof WebSocket<"u"&&(zm=WebSocket);class Jr{constructor(t,n,r,i,s,l,u){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pd(this.connId),this.stats_=FS(n),this.connURL=Jr.connectionURL_(n,l,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const l={};return l[D4]=US,typeof location<"u"&&location.hostname&&L4.test(location.hostname)&&(l[R4]=I4),n&&(l[M4]=n),r&&(l[B4]=r),i&&(l[iw]=i),s&&(l[z4]=s),H4(t,U4,l)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ks.set("previous_websocket_failure",!0);try{let r;$oe(),this.mySock=new zm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Jr.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&zm!==null&&!Jr.forceDisallow_}static previouslyFailed(){return Ks.isInMemoryStorage||Ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ks.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ju(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ce(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=$t(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=k4(n,qce);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Gce))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jr.responsesRequiredToBeHealthy=2;Jr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[xl,Jr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Jr&&Jr.isAvailable();let r=n&&!Jr.previouslyFailed();if(t.webSocketOnly&&(n||Zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Jr];else{const i=this.transports_=[];for(const s of nd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);nd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yce=6e4,Kce=5e3,Wce=10*1024,Xce=100*1024,kx="t",fP="d",Qce="s",hP="r",Zce="e",mP="o",pP="a",gP="n",vP="p",Jce="h";class eue{constructor(t,n,r,i,s,l,u,d,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pd("c:"+this.id+":"),this.transportManager_=new nd(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Au(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Xce?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wce?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(kx in t){const n=t[kx];n===pP?this.upgradeIfSecondaryHealthy_():n===hP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=fu("t",t),r=fu("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=fu("t",t),r=fu("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=fu(kx,t);if(fP in t){const r=t[fP];if(n===Jce){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===gP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Qce?this.onConnectionShutdown_(r):n===hP?this.onReset_(r):n===Zce?rw("Server Error: "+r):n===mP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rw("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),US!==r&&Zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Au(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Yce))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Au(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Kce))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vP,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t){this.allowedEvents_=t,this.listeners_={},ce(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){ce(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends X4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!v4()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Um}getInitialEvent(t){return ce(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=32,xP=768;class lt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function We(){return new lt("")}function Re(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function os(e){return e.pieces_.length-e.pieceNum_}function ft(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new lt(e.pieces_,t)}function Q4(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function tue(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Z4(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function J4(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lt(t,0)}function qt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new lt(n,0)}function Ue(e){return e.pieceNum_>=e.pieces_.length}function Mn(e,t){const n=Re(e),r=Re(t);if(n===null)return t;if(n===r)return Mn(ft(e),ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function HS(e,t){if(os(e)!==os(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ei(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(os(e)>os(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class nue{constructor(t,n){this.errorPrefix_=n,this.parts_=Z4(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kp(this.parts_[r]);e6(this)}}function rue(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Kp(t),e6(e)}function iue(e){const t=e.parts_.pop();e.byteLength_-=Kp(t),e.parts_.length>0&&(e.byteLength_-=1)}function e6(e){if(e.byteLength_>xP)throw new Error(e.errorPrefix_+"has a key path longer than "+xP+" bytes ("+e.byteLength_+").");if(e.parts_.length>yP)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yP+") or object contains a cycle "+Vs(e))}function Vs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends X4{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $S}getInitialEvent(t){return ce(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=1e3,aue=300*1e3,bP=30*1e3,sue=1.3,oue=3e4,lue="server_kill",wP=3;class ta extends W4{constructor(t,n,r,i,s,l,u,d){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=d,this.id=ta.nextPersistentConnectionId_++,this.log_=Pd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hu,this.maxReconnectDelay_=aue,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$S.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Um.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_($t(s)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Yp,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(l).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},l="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(l,s,u=>{const d=u.d,h=u.s;ta.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",u),h!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(h,d))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&wa(t,"w")){const r=Rl(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Qoe(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bP)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Xoe(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,l=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},l="n";i&&(s.q=r,s.t=i),this.sendRequest(l,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$t(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):rw("Unrecognized action received from server: "+$t(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oue&&(this.reconnectDelay_=hu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sue)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ta.nextConnectionId_++,s=this.lastSessionId;let l=!1,u=null;const d=function(){u?u.close():(l=!0,r())},h=function(g){ce(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:d,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);l?Tn("getToken() completed but was canceled"):(Tn("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,u=new eue(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,x=>{Zn(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(lue)},s))}catch(g){this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&Zn(g),d())}}}interrupt(t){Tn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Tn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xk(this.interruptReasons_)&&(this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>zS(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new lt(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Tn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wP&&(this.reconnectDelay_=bP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Tn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+C4.replace(/\./g,"-")]=1,v4()?t["framework.cordova"]=1:Hoe()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Um.getInstance().currentlyOnline();return Xk(this.interruptReasons_)&&t}}ta.nextPersistentConnectionId_=0;ta.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ie(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ie(Il,t),i=new Ie(Il,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h;class t6 extends Wp{static get __EMPTY_NODE(){return _h}static set __EMPTY_NODE(t){_h=t}compare(t,n){return rc(t.name,n.name)}isDefinedOn(t){throw nc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(oo,_h)}makePost(t,n){return ce(typeof t=="string","KeyIndex indexValue must always be a string."),new Ie(t,_h)}toString(){return".key"}}const El=new t6;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=n?r(t.key,n):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??nn.RED,this.left=i??Xn.EMPTY_NODE,this.right=s??Xn.EMPTY_NODE}copy(t,n,r,i,s){return new nn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Xn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class cue{copy(t,n,r,i,s){return this}insert(t,n,r){return new nn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xn{constructor(t,n=Xn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Xn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(t){return new Xn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Eh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Eh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Eh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Eh(this.root_,null,this.comparator_,!0,t)}}Xn.EMPTY_NODE=new cue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(e,t){return rc(e.name,t.name)}function qS(e,t){return rc(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aw;function due(e){aw=e}const n6=function(e){return typeof e=="number"?"number:"+P4(e):"string:"+e},r6=function(e){if(e.isLeafNode()){const t=e.val();ce(typeof t=="string"||typeof t=="number"||typeof t=="object"&&wa(t,".sv"),"Priority must be a string or number.")}else ce(e===aw||e.isEmpty(),"priority of unexpected type.");ce(e===aw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SP;class en{constructor(t,n=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),r6(this.priorityNode_)}static set __childrenNodeConstructor(t){SP=t}static get __childrenNodeConstructor(){return SP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ue(t)?this:Re(t)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Re(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ce(r!==".priority"||os(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+n6(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=P4(this.value_):t+=this.value_,this.lazyHash_=A4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:(ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(n),s=en.VALUE_TYPE_ORDER.indexOf(r);return ce(i>=0,"Unknown leaf type: "+n),ce(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i6,a6;function fue(e){i6=e}function hue(e){a6=e}class mue extends Wp{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?rc(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(oo,new en("[PRIORITY-POST]",a6))}makePost(t,n){const r=i6(t);return new Ie(n,new en("[PRIORITY-POST]",r))}toString(){return".priority"}}const Nt=new mue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pue=Math.log(2);class gue{constructor(t){const n=s=>parseInt(Math.log(s)/pue,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fm=function(e,t,n,r){e.sort(t);const i=function(d,h){const p=h-d;let g,v;if(p===0)return null;if(p===1)return g=e[d],v=n?n(g):g,new nn(v,g.node,nn.BLACK,null,null);{const x=parseInt(p/2,10)+d,w=i(d,x),_=i(x+1,h);return g=e[x],v=n?n(g):g,new nn(v,g.node,nn.BLACK,w,_)}},s=function(d){let h=null,p=null,g=e.length;const v=function(w,_){const E=g-w,j=g;g-=w;const A=i(E+1,j),N=e[E],D=n?n(N):N;x(new nn(D,N.node,_,null,A))},x=function(w){h?(h.left=w,h=w):(p=w,h=w)};for(let w=0;w<d.count;++w){const _=d.nextBitIsOne(),E=Math.pow(2,d.count-(w+1));_?v(E,nn.BLACK):(v(E,nn.BLACK),v(E,nn.RED))}return p},l=new gue(e.length),u=s(l);return new Xn(r||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Px;const ul={};class Wi{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ce(ul&&Nt,"ChildrenNode.ts has not been loaded"),Px=Px||new Wi({".priority":ul},{".priority":Nt}),Px}get(t){const n=Rl(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Xn?n:null}hasIndex(t){return wa(this.indexSet_,t.toString())}addIndex(t,n){ce(t!==El,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ie.Wrap);let l=s.getNext();for(;l;)i=i||t.isDefinedOn(l.node),r.push(l),l=s.getNext();let u;i?u=Fm(r,t.getCompare()):u=ul;const d=t.toString(),h=Object.assign({},this.indexSet_);h[d]=t;const p=Object.assign({},this.indexes_);return p[d]=u,new Wi(p,h)}addToIndexes(t,n){const r=Im(this.indexes_,(i,s)=>{const l=Rl(this.indexSet_,s);if(ce(l,"Missing index implementation for "+s),i===ul)if(l.isDefinedOn(t.node)){const u=[],d=n.getIterator(Ie.Wrap);let h=d.getNext();for(;h;)h.name!==t.name&&u.push(h),h=d.getNext();return u.push(t),Fm(u,l.getCompare())}else return ul;else{const u=n.get(t.name);let d=i;return u&&(d=d.remove(new Ie(t.name,u))),d.insert(t,t.node)}});return new Wi(r,this.indexSet_)}removeFromIndexes(t,n){const r=Im(this.indexes_,i=>{if(i===ul)return i;{const s=n.get(t.name);return s?i.remove(new Ie(t.name,s)):i}});return new Wi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;class Ae{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&r6(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mu||(mu=new Ae(new Xn(qS),null,Wi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mu}updatePriority(t){return this.children_.isEmpty()?this:new Ae(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?mu:n}}getChild(t){const n=Re(t);return n===null?this:this.getImmediateChild(n).getChild(ft(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ce(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ie(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?mu:this.priorityNode_;return new Ae(i,l,s)}}updateChild(t,n){const r=Re(t);if(r===null)return n;{ce(Re(t)!==".priority"||os(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ft(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Nt,(l,u)=>{n[l]=u.val(t),r++,s&&Ae.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){const l=[];for(const u in n)l[u]=n[u];return l}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+n6(this.getPriority().val())+":"),this.forEachChild(Nt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":A4(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ie(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ie(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Dd?-1:0}withIndex(t){if(t===El||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Ae(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===El||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Nt),i=n.getIterator(Nt);let s=r.getNext(),l=i.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=i.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===El?null:this.indexMap_.get(t.toString())}}Ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vue extends Ae{constructor(){super(new Xn(qS),Ae.EMPTY_NODE,Wi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ae.EMPTY_NODE}isEmpty(){return!1}}const Dd=new vue;Object.defineProperties(Ie,{MIN:{value:new Ie(Il,Ae.EMPTY_NODE)},MAX:{value:new Ie(oo,Dd)}});t6.__EMPTY_NODE=Ae.EMPTY_NODE;en.__childrenNodeConstructor=Ae;due(Dd);hue(Dd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=!0;function rn(e,t=null){if(e===null)return Ae.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ce(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new en(n,rn(t))}if(!(e instanceof Array)&&yue){const n=[];let r=!1;if(Jn(e,(l,u)=>{if(l.substring(0,1)!=="."){const d=rn(u);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new Ie(l,d)))}}),n.length===0)return Ae.EMPTY_NODE;const s=Fm(n,uue,l=>l.name,qS);if(r){const l=Fm(n,Nt.getCompare());return new Ae(s,rn(t),new Wi({".priority":l},{".priority":Nt}))}else return new Ae(s,rn(t),Wi.Default)}else{let n=Ae.EMPTY_NODE;return Jn(e,(r,i)=>{if(wa(e,r)&&r.substring(0,1)!=="."){const s=rn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(rn(t))}}fue(rn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue extends Wp{constructor(t){super(),this.indexPath_=t,ce(!Ue(t)&&Re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?rc(t.name,n.name):s}makePost(t,n){const r=rn(t),i=Ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const t=Ae.EMPTY_NODE.updateChild(this.indexPath_,Dd);return new Ie(oo,t)}toString(){return Z4(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue extends Wp{compare(t,n){const r=t.node.compareTo(n.node);return r===0?rc(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(t,n){const r=rn(t);return new Ie(n,r)}toString(){return".value"}}const wue=new bue;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(e){return{type:"value",snapshotNode:e}}function Ll(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function rd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function id(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Sue(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.index_=t}updateChild(t,n,r,i,s,l){ce(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?t.hasChild(n)?l.trackChildChange(rd(n,u)):ce(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ll(n,r)):l.trackChildChange(id(n,r,u))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Nt,(i,s)=>{n.hasChild(i)||r.trackChildChange(rd(i,s))}),n.isLeafNode()||n.forEachChild(Nt,(i,s)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(s)||r.trackChildChange(id(i,s,l))}else r.trackChildChange(Ll(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ae.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.indexedFilter_=new GS(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ad.getStartPost_(t),this.endPost_=ad.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,l){return this.matches(new Ie(n,r))||(r=Ae.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,l)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Ae.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ae.EMPTY_NODE);const s=this;return n.forEachChild(Nt,(l,u)=>{s.matches(new Ie(l,u))||(i=i.updateImmediateChild(l,Ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ad(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,l){return this.rangedFilter_.matches(new Ie(n,r))||(r=Ae.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,l):this.fullLimitUpdateChild_(t,n,r,s,l)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ae.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ae.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,Ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let l;if(this.reverse_){const g=this.index_.getCompare();l=(v,x)=>g(x,v)}else l=this.index_.getCompare();const u=t;ce(u.numChildren()===this.limit_,"");const d=new Ie(n,r),h=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(u.hasChild(n)){const g=u.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:l(v,d);if(p&&!r.isEmpty()&&x>=0)return s!=null&&s.trackChildChange(id(n,r,g)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(rd(n,g));const _=u.updateImmediateChild(n,Ae.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s!=null&&s.trackChildChange(Ll(v.name,v.node)),_.updateImmediateChild(v.name,v.node)):_}}else return r.isEmpty()?t:p&&l(h,d)>=0?(s!=null&&(s.trackChildChange(rd(h.name,h.node)),s.trackChildChange(Ll(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(h.name,Ae.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Il}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const t=new Xp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Eue(e){return e.loadsAllData()?new GS(e.getIndex()):e.hasLimit()?new _ue(e):new ad(e)}function _P(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Nt?n="$priority":e.index_===wue?n="$value":e.index_===El?n="$key":(ce(e.index_ instanceof xue,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=$t(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=$t(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+$t(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=$t(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+$t(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function EP(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Nt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends W4{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ce(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const l=Vm.getListenId_(t,r),u={};this.listens_[l]=u;const d=_P(t._queryParams);this.restRequest_(s+".json",d,(h,p)=>{let g=p;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(s,g,!1,r),Rl(this.listens_,l)===u){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",i(v,null)}})}unlisten(t,n){const r=Vm.getListenId_(t,n);delete this.listens_[r]}get(t){const n=_P(t._queryParams),r=t._path.toString(),i=new Yp;return this.restRequest_(r+".json",n,(s,l)=>{let u=l;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Zoe(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let d=null;if(u.status>=200&&u.status<300){try{d=Ju(u.responseText)}catch{Zn("Failed to parse JSON response for "+l+": "+u.responseText)}r(null,d)}else u.status!==401&&u.status!==404&&Zn("Got unsuccessful REST response for "+l+" Status: "+u.status),r(u.status);r=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(){this.rootNode_=Ae.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){return{value:null,children:new Map}}function o6(e,t,n){if(Ue(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Re(t);e.children.has(r)||e.children.set(r,Hm());const i=e.children.get(r);t=ft(t),o6(i,t,n)}}function sw(e,t,n){e.value!==null?n(t,e.value):Cue(e,(r,i)=>{const s=new lt(t.toString()+"/"+r);sw(i,s,n)})}function Cue(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Jn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=10*1e3,Tue=30*1e3,Aue=300*1e3;class Oue{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nue(t);const r=jP+(Tue-jP)*Math.random();Au(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Jn(t,(i,s)=>{s>0&&wa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Au(this.reportStats_.bind(this),Math.floor(Math.random()*2*Aue))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ti||(ti={}));function l6(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function KS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ti.ACK_USER_WRITE,this.source=l6()}operationForChild(t){if(Ue(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new lt(t));return new $m(We(),n,this.revert)}}else return ce(Re(this.path)===t,"operationForChild called for unrelated child."),new $m(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.source=t,this.path=n,this.type=ti.LISTEN_COMPLETE}operationForChild(t){return Ue(this.path)?new sd(this.source,We()):new sd(this.source,ft(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ti.OVERWRITE}operationForChild(t){return Ue(this.path)?new lo(this.source,We(),this.snap.getImmediateChild(t)):new lo(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ti.MERGE}operationForChild(t){if(Ue(this.path)){const n=this.children.subtree(new lt(t));return n.isEmpty()?null:n.value?new lo(this.source,We(),n.value):new od(this.source,We(),n)}else return ce(Re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new od(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ue(t))return this.isFullyInitialized()&&!this.filtered_;const n=Re(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Pue(e,t,n,r){const i=[],s=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(Sue(l.childName,l.snapshotNode))}),pu(e,i,"child_removed",t,r,n),pu(e,i,"child_added",t,r,n),pu(e,i,"child_moved",s,r,n),pu(e,i,"child_changed",t,r,n),pu(e,i,"value",t,r,n),i}function pu(e,t,n,r,i,s){const l=r.filter(u=>u.type===n);l.sort((u,d)=>Mue(e,u,d)),l.forEach(u=>{const d=Due(e,u,s);i.forEach(h=>{h.respondsTo(u.type)&&t.push(h.createEvent(d,e.query_))})})}function Due(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Mue(e,t,n){if(t.childName==null||n.childName==null)throw nc("Should only compare child_ events.");const r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(e,t){return{eventCache:e,serverCache:t}}function Ou(e,t,n,r){return Qp(new ls(t,n,r),e.serverCache)}function c6(e,t,n,r){return Qp(e.eventCache,new ls(t,n,r))}function qm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function co(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dx;const Rue=()=>(Dx||(Dx=new Xn(bce)),Dx);class pt{constructor(t,n=Rue()){this.value=t,this.children=n}static fromObject(t){let n=new pt(null);return Jn(t,(r,i)=>{n=n.set(new lt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:We(),value:this.value};if(Ue(t))return null;{const r=Re(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ft(t),n);return s!=null?{path:qt(new lt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ue(t))return this;{const n=Re(t),r=this.children.get(n);return r!==null?r.subtree(ft(t)):new pt(null)}}set(t,n){if(Ue(t))return new pt(n,this.children);{const r=Re(t),s=(this.children.get(r)||new pt(null)).set(ft(t),n),l=this.children.insert(r,s);return new pt(this.value,l)}}remove(t){if(Ue(t))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const n=Re(t),r=this.children.get(n);if(r){const i=r.remove(ft(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pt(null):new pt(this.value,s)}else return this}}get(t){if(Ue(t))return this.value;{const n=Re(t),r=this.children.get(n);return r?r.get(ft(t)):null}}setTree(t,n){if(Ue(t))return n;{const r=Re(t),s=(this.children.get(r)||new pt(null)).setTree(ft(t),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new pt(this.value,l)}}fold(t){return this.fold_(We(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(qt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,We(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ue(t))return null;{const s=Re(t),l=this.children.get(s);return l?l.findOnPath_(ft(t),qt(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,We(),n)}foreachOnPath_(t,n,r){if(Ue(t))return this;{this.value&&r(n,this.value);const i=Re(t),s=this.children.get(i);return s?s.foreachOnPath_(ft(t),qt(n,i),r):new pt(null)}}foreach(t){this.foreach_(We(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(qt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this.writeTree_=t}static empty(){return new ni(new pt(null))}}function ku(e,t,n){if(Ue(t))return new ni(new pt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const l=Mn(i,t);return s=s.updateChild(l,n),new ni(e.writeTree_.set(i,s))}else{const i=new pt(n),s=e.writeTree_.setTree(t,i);return new ni(s)}}}function CP(e,t,n){let r=e;return Jn(n,(i,s)=>{r=ku(r,qt(t,i),s)}),r}function NP(e,t){if(Ue(t))return ni.empty();{const n=e.writeTree_.setTree(t,new pt(null));return new ni(n)}}function ow(e,t){return wo(e,t)!=null}function wo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Mn(n.path,t)):null}function TP(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Nt,(r,i)=>{t.push(new Ie(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Ie(r,i.value))}),t}function ts(e,t){if(Ue(t))return e;{const n=wo(e,t);return n!=null?new ni(new pt(n)):new ni(e.writeTree_.subtree(t))}}function lw(e){return e.writeTree_.isEmpty()}function Bl(e,t){return u6(We(),e.writeTree_,t)}function u6(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(ce(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=u6(qt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(qt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(e,t){return m6(t,e)}function Iue(e,t,n,r,i){ce(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ku(e.visibleWrites,t,n)),e.lastWriteId=r}function Lue(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function Bue(e,t){const n=e.allWrites.findIndex(u=>u.writeId===t);ce(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=n&&zue(u,r.path)?i=!1:ei(r.path,u.path)&&(s=!0)),l--}if(i){if(s)return Uue(e),!0;if(r.snap)e.visibleWrites=NP(e.visibleWrites,r.path);else{const u=r.children;Jn(u,d=>{e.visibleWrites=NP(e.visibleWrites,qt(r.path,d))})}return!0}else return!1}function zue(e,t){if(e.snap)return ei(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ei(qt(e.path,n),t))return!0;return!1}function Uue(e){e.visibleWrites=d6(e.allWrites,Fue,We()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Fue(e){return e.visible}function d6(e,t,n){let r=ni.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const l=s.path;let u;if(s.snap)ei(n,l)?(u=Mn(n,l),r=ku(r,u,s.snap)):ei(l,n)&&(u=Mn(l,n),r=ku(r,We(),s.snap.getChild(u)));else if(s.children){if(ei(n,l))u=Mn(n,l),r=CP(r,u,s.children);else if(ei(l,n))if(u=Mn(l,n),Ue(u))r=CP(r,We(),s.children);else{const d=Rl(s.children,Re(u));if(d){const h=d.getChild(ft(u));r=ku(r,We(),h)}}}else throw nc("WriteRecord should have .snap or .children")}}return r}function f6(e,t,n,r,i){if(!r&&!i){const s=wo(e.visibleWrites,t);if(s!=null)return s;{const l=ts(e.visibleWrites,t);if(lw(l))return n;if(n==null&&!ow(l,We()))return null;{const u=n||Ae.EMPTY_NODE;return Bl(l,u)}}}else{const s=ts(e.visibleWrites,t);if(!i&&lw(s))return n;if(!i&&n==null&&!ow(s,We()))return null;{const l=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(ei(h.path,t)||ei(t,h.path))},u=d6(e.allWrites,l,t),d=n||Ae.EMPTY_NODE;return Bl(u,d)}}}function Vue(e,t,n){let r=Ae.EMPTY_NODE;const i=wo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Nt,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=ts(e.visibleWrites,t);return n.forEachChild(Nt,(l,u)=>{const d=Bl(ts(s,new lt(l)),u);r=r.updateImmediateChild(l,d)}),TP(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=ts(e.visibleWrites,t);return TP(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function Hue(e,t,n,r,i){ce(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=qt(t,n);if(ow(e.visibleWrites,s))return null;{const l=ts(e.visibleWrites,s);return lw(l)?i.getChild(n):Bl(l,i.getChild(n))}}function $ue(e,t,n,r){const i=qt(t,n),s=wo(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=ts(e.visibleWrites,i);return Bl(l,r.getNode().getImmediateChild(n))}else return null}function que(e,t){return wo(e.visibleWrites,t)}function Gue(e,t,n,r,i,s,l){let u;const d=ts(e.visibleWrites,t),h=wo(d,We());if(h!=null)u=h;else if(n!=null)u=Bl(d,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const p=[],g=l.getCompare(),v=s?u.getReverseIteratorFrom(r,l):u.getIteratorFrom(r,l);let x=v.getNext();for(;x&&p.length<i;)g(x,r)!==0&&p.push(x),x=v.getNext();return p}else return[]}function Yue(){return{visibleWrites:ni.empty(),allWrites:[],lastWriteId:-1}}function Gm(e,t,n,r){return f6(e.writeTree,e.treePath,t,n,r)}function WS(e,t){return Vue(e.writeTree,e.treePath,t)}function AP(e,t,n,r){return Hue(e.writeTree,e.treePath,t,n,r)}function Ym(e,t){return que(e.writeTree,qt(e.treePath,t))}function Kue(e,t,n,r,i,s){return Gue(e.writeTree,e.treePath,t,n,r,i,s)}function XS(e,t,n){return $ue(e.writeTree,e.treePath,t,n)}function h6(e,t){return m6(qt(e.treePath,t),e.writeTree)}function m6(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,id(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,rd(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ll(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,id(r,t.snapshotNode,i.oldSnap));else throw nc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const p6=new Xue;class QS{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XS(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:co(this.viewCache_),s=Kue(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Que(e){return{filter:e}}function Zue(e,t){ce(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ce(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Jue(e,t,n,r,i){const s=new Wue;let l,u;if(n.type===ti.OVERWRITE){const h=n;h.source.fromUser?l=cw(e,t,h.path,h.snap,r,i,s):(ce(h.source.fromServer,"Unknown source."),u=h.source.tagged||t.serverCache.isFiltered()&&!Ue(h.path),l=Km(e,t,h.path,h.snap,r,i,u,s))}else if(n.type===ti.MERGE){const h=n;h.source.fromUser?l=tde(e,t,h.path,h.children,r,i,s):(ce(h.source.fromServer,"Unknown source."),u=h.source.tagged||t.serverCache.isFiltered(),l=uw(e,t,h.path,h.children,r,i,u,s))}else if(n.type===ti.ACK_USER_WRITE){const h=n;h.revert?l=ide(e,t,h.path,r,i,s):l=nde(e,t,h.path,h.affectedTree,r,i,s)}else if(n.type===ti.LISTEN_COMPLETE)l=rde(e,t,n.path,r,s);else throw nc("Unknown operation type: "+n.type);const d=s.getChanges();return ede(t,l,d),{viewCache:l,changes:d}}function ede(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=qm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(s6(qm(t)))}}function g6(e,t,n,r,i,s){const l=t.eventCache;if(Ym(r,n)!=null)return t;{let u,d;if(Ue(n))if(ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=co(t),p=h instanceof Ae?h:Ae.EMPTY_NODE,g=WS(r,p);u=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{const h=Gm(r,co(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const h=Re(n);if(h===".priority"){ce(os(n)===1,"Can't have a priority with additional path components");const p=l.getNode();d=t.serverCache.getNode();const g=AP(r,n,p,d);g!=null?u=e.filter.updatePriority(p,g):u=l.getNode()}else{const p=ft(n);let g;if(l.isCompleteForChild(h)){d=t.serverCache.getNode();const v=AP(r,n,l.getNode(),d);v!=null?g=l.getNode().getImmediateChild(h).updateChild(p,v):g=l.getNode().getImmediateChild(h)}else g=XS(r,h,t.serverCache);g!=null?u=e.filter.updateChild(l.getNode(),h,g,p,i,s):u=l.getNode()}}return Ou(t,u,l.isFullyInitialized()||Ue(n),e.filter.filtersNodes())}}function Km(e,t,n,r,i,s,l,u){const d=t.serverCache;let h;const p=l?e.filter:e.filter.getIndexedFilter();if(Ue(n))h=p.updateFullNode(d.getNode(),r,null);else if(p.filtersNodes()&&!d.isFiltered()){const x=d.getNode().updateChild(n,r);h=p.updateFullNode(d.getNode(),x,null)}else{const x=Re(n);if(!d.isCompleteForPath(n)&&os(n)>1)return t;const w=ft(n),E=d.getNode().getImmediateChild(x).updateChild(w,r);x===".priority"?h=p.updatePriority(d.getNode(),E):h=p.updateChild(d.getNode(),x,E,w,p6,null)}const g=c6(t,h,d.isFullyInitialized()||Ue(n),p.filtersNodes()),v=new QS(i,g,s);return g6(e,g,n,i,v,u)}function cw(e,t,n,r,i,s,l){const u=t.eventCache;let d,h;const p=new QS(i,t,s);if(Ue(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,l),d=Ou(t,h,!0,e.filter.filtersNodes());else{const g=Re(n);if(g===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),d=Ou(t,h,u.isFullyInitialized(),u.isFiltered());else{const v=ft(n),x=u.getNode().getImmediateChild(g);let w;if(Ue(v))w=r;else{const _=p.getCompleteChild(g);_!=null?Q4(v)===".priority"&&_.getChild(J4(v)).isEmpty()?w=_:w=_.updateChild(v,r):w=Ae.EMPTY_NODE}if(x.equals(w))d=t;else{const _=e.filter.updateChild(u.getNode(),g,w,v,p,l);d=Ou(t,_,u.isFullyInitialized(),e.filter.filtersNodes())}}}return d}function OP(e,t){return e.eventCache.isCompleteForChild(t)}function tde(e,t,n,r,i,s,l){let u=t;return r.foreach((d,h)=>{const p=qt(n,d);OP(t,Re(p))&&(u=cw(e,u,p,h,i,s,l))}),r.foreach((d,h)=>{const p=qt(n,d);OP(t,Re(p))||(u=cw(e,u,p,h,i,s,l))}),u}function kP(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function uw(e,t,n,r,i,s,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,h;Ue(n)?h=r:h=new pt(null).setTree(n,r);const p=t.serverCache.getNode();return h.children.inorderTraversal((g,v)=>{if(p.hasChild(g)){const x=t.serverCache.getNode().getImmediateChild(g),w=kP(e,x,v);d=Km(e,d,new lt(g),w,i,s,l,u)}}),h.children.inorderTraversal((g,v)=>{const x=!t.serverCache.isCompleteForChild(g)&&v.value===null;if(!p.hasChild(g)&&!x){const w=t.serverCache.getNode().getImmediateChild(g),_=kP(e,w,v);d=Km(e,d,new lt(g),_,i,s,l,u)}}),d}function nde(e,t,n,r,i,s,l){if(Ym(i,n)!=null)return t;const u=t.serverCache.isFiltered(),d=t.serverCache;if(r.value!=null){if(Ue(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Km(e,t,n,d.getNode().getChild(n),i,s,u,l);if(Ue(n)){let h=new pt(null);return d.getNode().forEachChild(El,(p,g)=>{h=h.set(new lt(p),g)}),uw(e,t,n,h,i,s,u,l)}else return t}else{let h=new pt(null);return r.foreach((p,g)=>{const v=qt(n,p);d.isCompleteForPath(v)&&(h=h.set(p,d.getNode().getChild(v)))}),uw(e,t,n,h,i,s,u,l)}}function rde(e,t,n,r,i){const s=t.serverCache,l=c6(t,s.getNode(),s.isFullyInitialized()||Ue(n),s.isFiltered());return g6(e,l,n,r,p6,i)}function ide(e,t,n,r,i,s){let l;if(Ym(r,n)!=null)return t;{const u=new QS(r,t,i),d=t.eventCache.getNode();let h;if(Ue(n)||Re(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=Gm(r,co(t));else{const g=t.serverCache.getNode();ce(g instanceof Ae,"serverChildren would be complete if leaf node"),p=WS(r,g)}p=p,h=e.filter.updateFullNode(d,p,s)}else{const p=Re(n);let g=XS(r,p,t.serverCache);g==null&&t.serverCache.isCompleteForChild(p)&&(g=d.getImmediateChild(p)),g!=null?h=e.filter.updateChild(d,p,g,ft(n),u,s):t.eventCache.getNode().hasChild(p)?h=e.filter.updateChild(d,p,Ae.EMPTY_NODE,ft(n),u,s):h=d,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=Gm(r,co(t)),l.isLeafNode()&&(h=e.filter.updateFullNode(h,l,s)))}return l=t.serverCache.isFullyInitialized()||Ym(r,We())!=null,Ou(t,h,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ade{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new GS(r.getIndex()),s=Eue(r);this.processor_=Que(s);const l=n.serverCache,u=n.eventCache,d=i.updateFullNode(Ae.EMPTY_NODE,l.getNode(),null),h=s.updateFullNode(Ae.EMPTY_NODE,u.getNode(),null),p=new ls(d,l.isFullyInitialized(),i.filtersNodes()),g=new ls(h,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Qp(g,p),this.eventGenerator_=new kue(this.query_)}get query(){return this.query_}}function sde(e){return e.viewCache_.serverCache.getNode()}function ode(e){return qm(e.viewCache_)}function lde(e,t){const n=co(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ue(t)&&!n.getImmediateChild(Re(t)).isEmpty())?n.getChild(t):null}function PP(e){return e.eventRegistrations_.length===0}function cde(e,t){e.eventRegistrations_.push(t)}function DP(e,t,n){const r=[];if(n){ce(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,i);l&&r.push(l)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const l=e.eventRegistrations_[s];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function MP(e,t,n,r){t.type===ti.MERGE&&t.source.queryId!==null&&(ce(co(e.viewCache_),"We should always have a full cache before handling merges"),ce(qm(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Jue(e.processor_,i,t,n,r);return Zue(e.processor_,s.viewCache),ce(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,v6(e,s.changes,s.viewCache.eventCache.getNode(),null)}function ude(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Nt,(s,l)=>{r.push(Ll(s,l))}),n.isFullyInitialized()&&r.push(s6(n.getNode())),v6(e,r,n.getNode(),t)}function v6(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Pue(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wm;class y6{constructor(){this.views=new Map}}function dde(e){ce(!Wm,"__referenceConstructor has already been defined"),Wm=e}function fde(){return ce(Wm,"Reference.ts has not been loaded"),Wm}function hde(e){return e.views.size===0}function ZS(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return ce(s!=null,"SyncTree gave us an op for an invalid query."),MP(s,t,n,r)}else{let s=[];for(const l of e.views.values())s=s.concat(MP(l,t,n,r));return s}}function x6(e,t,n,r,i){const s=t._queryIdentifier,l=e.views.get(s);if(!l){let u=Gm(n,i?r:null),d=!1;u?d=!0:r instanceof Ae?(u=WS(n,r),d=!1):(u=Ae.EMPTY_NODE,d=!1);const h=Qp(new ls(u,d,!1),new ls(r,i,!1));return new ade(t,h)}return l}function mde(e,t,n,r,i,s){const l=x6(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),cde(l,n),ude(l,n)}function pde(e,t,n,r){const i=t._queryIdentifier,s=[];let l=[];const u=cs(e);if(i==="default")for(const[d,h]of e.views.entries())l=l.concat(DP(h,n,r)),PP(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||s.push(h.query));else{const d=e.views.get(i);d&&(l=l.concat(DP(d,n,r)),PP(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||s.push(d.query)))}return u&&!cs(e)&&s.push(new(fde())(t._repo,t._path)),{removed:s,events:l}}function b6(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ns(e,t){let n=null;for(const r of e.views.values())n=n||lde(r,t);return n}function w6(e,t){if(t._queryParams.loadsAllData())return Jp(e);{const r=t._queryIdentifier;return e.views.get(r)}}function S6(e,t){return w6(e,t)!=null}function cs(e){return Jp(e)!=null}function Jp(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm;function gde(e){ce(!Xm,"__referenceConstructor has already been defined"),Xm=e}function vde(){return ce(Xm,"Reference.ts has not been loaded"),Xm}let yde=1;class RP{constructor(t){this.listenProvider_=t,this.syncPointTree_=new pt(null),this.pendingWriteTree_=Yue(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _6(e,t,n,r,i){return Iue(e.pendingWriteTree_,t,n,r,i),i?Rd(e,new lo(l6(),t,n)):[]}function Ws(e,t,n=!1){const r=Lue(e.pendingWriteTree_,t);if(Bue(e.pendingWriteTree_,t)){let s=new pt(null);return r.snap!=null?s=s.set(We(),!0):Jn(r.children,l=>{s=s.set(new lt(l),!0)}),Rd(e,new $m(r.path,s,n))}else return[]}function Md(e,t,n){return Rd(e,new lo(YS(),t,n))}function xde(e,t,n){const r=pt.fromObject(n);return Rd(e,new od(YS(),t,r))}function bde(e,t){return Rd(e,new sd(YS(),t))}function wde(e,t,n){const r=e_(e,n);if(r){const i=t_(r),s=i.path,l=i.queryId,u=Mn(s,t),d=new sd(KS(l),u);return n_(e,s,d)}else return[]}function Qm(e,t,n,r,i=!1){const s=t._path,l=e.syncPointTree_.get(s);let u=[];if(l&&(t._queryIdentifier==="default"||S6(l,t))){const d=pde(l,t,n,r);hde(l)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const h=d.removed;if(u=d.events,!i){const p=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,g=e.syncPointTree_.findOnPath(s,(v,x)=>cs(x));if(p&&!g){const v=e.syncPointTree_.subtree(s);if(!v.isEmpty()){const x=Ede(v);for(let w=0;w<x.length;++w){const _=x[w],E=_.query,j=N6(e,_);e.listenProvider_.startListening(Pu(E),ld(e,E),j.hashFn,j.onComplete)}}}!g&&h.length>0&&!r&&(p?e.listenProvider_.stopListening(Pu(t),null):h.forEach(v=>{const x=e.queryToTagMap.get(eg(v));e.listenProvider_.stopListening(Pu(v),x)}))}jde(e,h)}return u}function E6(e,t,n,r){const i=e_(e,r);if(i!=null){const s=t_(i),l=s.path,u=s.queryId,d=Mn(l,t),h=new lo(KS(u),d,n);return n_(e,l,h)}else return[]}function Sde(e,t,n,r){const i=e_(e,r);if(i){const s=t_(i),l=s.path,u=s.queryId,d=Mn(l,t),h=pt.fromObject(n),p=new od(KS(u),d,h);return n_(e,l,p)}else return[]}function dw(e,t,n,r=!1){const i=t._path;let s=null,l=!1;e.syncPointTree_.foreachOnPath(i,(v,x)=>{const w=Mn(v,i);s=s||ns(x,w),l=l||cs(x)});let u=e.syncPointTree_.get(i);u?(l=l||cs(u),s=s||ns(u,We())):(u=new y6,e.syncPointTree_=e.syncPointTree_.set(i,u));let d;s!=null?d=!0:(d=!1,s=Ae.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((x,w)=>{const _=ns(w,We());_&&(s=s.updateImmediateChild(x,_))}));const h=S6(u,t);if(!h&&!t._queryParams.loadsAllData()){const v=eg(t);ce(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=Cde();e.queryToTagMap.set(v,x),e.tagToQueryMap.set(x,v)}const p=Zp(e.pendingWriteTree_,i);let g=mde(u,t,n,p,s,d);if(!h&&!l&&!r){const v=w6(u,t);g=g.concat(Nde(e,t,v))}return g}function JS(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(l,u)=>{const d=Mn(l,t),h=ns(u,d);if(h)return h});return f6(i,t,s,n,!0)}function _de(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(h,p)=>{const g=Mn(h,n);r=r||ns(p,g)});let i=e.syncPointTree_.get(n);i?r=r||ns(i,We()):(i=new y6,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,l=s?new ls(r,!0,!1):null,u=Zp(e.pendingWriteTree_,t._path),d=x6(i,t,u,s?l.getNode():Ae.EMPTY_NODE,s);return ode(d)}function Rd(e,t){return j6(t,e.syncPointTree_,null,Zp(e.pendingWriteTree_,We()))}function j6(e,t,n,r){if(Ue(e.path))return C6(e,t,n,r);{const i=t.get(We());n==null&&i!=null&&(n=ns(i,We()));let s=[];const l=Re(e.path),u=e.operationForChild(l),d=t.children.get(l);if(d&&u){const h=n?n.getImmediateChild(l):null,p=h6(r,l);s=s.concat(j6(u,d,h,p))}return i&&(s=s.concat(ZS(i,e,r,n))),s}}function C6(e,t,n,r){const i=t.get(We());n==null&&i!=null&&(n=ns(i,We()));let s=[];return t.children.inorderTraversal((l,u)=>{const d=n?n.getImmediateChild(l):null,h=h6(r,l),p=e.operationForChild(l);p&&(s=s.concat(C6(p,u,d,h)))}),i&&(s=s.concat(ZS(i,e,r,n))),s}function N6(e,t){const n=t.query,r=ld(e,n);return{hashFn:()=>(sde(t)||Ae.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?wde(e,n._path,r):bde(e,n._path);{const s=_ce(i,n);return Qm(e,n,null,s)}}}}function ld(e,t){const n=eg(t);return e.queryToTagMap.get(n)}function eg(e){return e._path.toString()+"$"+e._queryIdentifier}function e_(e,t){return e.tagToQueryMap.get(t)}function t_(e){const t=e.indexOf("$");return ce(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lt(e.substr(0,t))}}function n_(e,t,n){const r=e.syncPointTree_.get(t);ce(r,"Missing sync point for query tag that we're tracking");const i=Zp(e.pendingWriteTree_,t);return ZS(r,n,i,null)}function Ede(e){return e.fold((t,n,r)=>{if(n&&cs(n))return[Jp(n)];{let i=[];return n&&(i=b6(n)),Jn(r,(s,l)=>{i=i.concat(l)}),i}})}function Pu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vde())(e._repo,e._path):e}function jde(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=eg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function Cde(){return yde++}function Nde(e,t,n){const r=t._path,i=ld(e,t),s=N6(e,n),l=e.listenProvider_.startListening(Pu(t),i,s.hashFn,s.onComplete),u=e.syncPointTree_.subtree(r);if(i)ce(!cs(u.value),"If we're adding a query, it shouldn't be shadowed");else{const d=u.fold((h,p,g)=>{if(!Ue(h)&&p&&cs(p))return[Jp(p).query];{let v=[];return p&&(v=v.concat(b6(p).map(x=>x.query))),Jn(g,(x,w)=>{v=v.concat(w)}),v}});for(let h=0;h<d.length;++h){const p=d[h];e.listenProvider_.stopListening(Pu(p),ld(e,p))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new r_(n)}node(){return this.node_}}class i_{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=qt(this.path_,t);return new i_(this.syncTree_,n)}node(){return JS(this.syncTree_,this.path_)}}const Tde=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},IP=function(e,t,n){if(!e||typeof e!="object")return e;if(ce(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Ade(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Ode(e[".sv"],t);ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Ade=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+e)}},Ode=function(e,t,n){e.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&ce(!1,"Unexpected increment value: "+r);const i=t.node();if(ce(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},kde=function(e,t,n,r){return a_(t,new i_(n,e),r)},T6=function(e,t,n){return a_(e,new r_(t),n)};function a_(e,t,n){const r=e.getPriority().val(),i=IP(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const l=e,u=IP(l.getValue(),t,n);return u!==l.getValue()||i!==l.getPriority().val()?new en(u,rn(i)):e}else{const l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new en(i))),l.forEachChild(Nt,(u,d)=>{const h=a_(d,t.getImmediateChild(u),n);h!==d&&(s=s.updateImmediateChild(u,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function o_(e,t){let n=t instanceof lt?t:new lt(t),r=e,i=Re(n);for(;i!==null;){const s=Rl(r.node.children,i)||{children:{},childCount:0};r=new s_(i,r,s),n=ft(n),i=Re(n)}return r}function ac(e){return e.node.value}function A6(e,t){e.node.value=t,fw(e)}function O6(e){return e.node.childCount>0}function Pde(e){return ac(e)===void 0&&!O6(e)}function tg(e,t){Jn(e.node.children,(n,r)=>{t(new s_(n,e,r))})}function k6(e,t,n,r){n&&t(e),tg(e,i=>{k6(i,t,!0)})}function Dde(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Id(e){return new lt(e.parent===null?e.name:Id(e.parent)+"/"+e.name)}function fw(e){e.parent!==null&&Mde(e.parent,e.name,e)}function Mde(e,t,n){const r=Pde(n),i=wa(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fw(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,fw(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rde=/[\[\].#$\/\u0000-\u001F\u007F]/,Ide=/[\[\].#$\u0000-\u001F\u007F]/,Mx=10*1024*1024,P6=function(e){return typeof e=="string"&&e.length!==0&&!Rde.test(e)},D6=function(e){return typeof e=="string"&&e.length!==0&&!Ide.test(e)},Lde=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),D6(e)},M6=function(e,t,n,r){r&&t===void 0||l_(LS(e,"value"),t,n)},l_=function(e,t,n){const r=n instanceof lt?new nue(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Vs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Vs(r)+" with contents = "+t.toString());if(O4(t))throw new Error(e+"contains "+t.toString()+" "+Vs(r));if(typeof t=="string"&&t.length>Mx/3&&Kp(t)>Mx)throw new Error(e+"contains a string greater than "+Mx+" utf8 bytes "+Vs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Jn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!P6(l)))throw new Error(e+" contains an invalid key ("+l+") "+Vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rue(r,l),l_(e,u,r),iue(r)}),i&&s)throw new Error(e+' contains ".value" child '+Vs(r)+" in addition to actual children.")}},c_=function(e,t,n,r){if(!D6(n))throw new Error(LS(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Bde=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),c_(e,t,n)},u_=function(e,t){if(Re(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},zde=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!P6(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Lde(n))throw new Error(LS(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function d_(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!HS(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function R6(e,t,n){d_(e,n),I6(e,r=>HS(r,t))}function _i(e,t,n){d_(e,n),I6(e,r=>ei(r,t)||ei(t,r))}function I6(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(Fde(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fde(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Tu&&Tn("event: "+n.toString()),ic(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vde="repo_interrupt",Hde=25;class $de{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ude,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hm(),this.transactionQueueTree_=new s_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qde(e,t,n){if(e.stats_=FS(e.repoInfo_),e.forceRestClient_||Nce())e.server_=new Vm(e.repoInfo_,(r,i,s,l)=>{LP(e,r,i,s,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>BP(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ta(e.repoInfo_,t,(r,i,s,l)=>{LP(e,r,i,s,l)},r=>{BP(e,r)},r=>{Gde(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Pce(e.repoInfo_,()=>new Oue(e.stats_,e.server_)),e.infoData_=new jue,e.infoSyncTree_=new RP({startListening:(r,i,s,l)=>{let u=[];const d=e.infoData_.getNode(r._path);return d.isEmpty()||(u=Md(e.infoSyncTree_,r._path,d),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),h_(e,"connected",!1),e.serverSyncTree_=new RP({startListening:(r,i,s,l)=>(e.server_.listen(r,s,i,(u,d)=>{const h=l(u,d);_i(e.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function L6(e){const n=e.infoData_.getNode(new lt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f_(e){return Tde({timestamp:L6(e)})}function LP(e,t,n,r,i){e.dataUpdateCount++;const s=new lt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let l=[];if(i)if(r){const d=Im(n,h=>rn(h));l=Sde(e.serverSyncTree_,s,d,i)}else{const d=rn(n);l=E6(e.serverSyncTree_,s,d,i)}else if(r){const d=Im(n,h=>rn(h));l=xde(e.serverSyncTree_,s,d)}else{const d=rn(n);l=Md(e.serverSyncTree_,s,d)}let u=s;l.length>0&&(u=rg(e,s)),_i(e.eventQueue_,u,l)}function BP(e,t){h_(e,"connected",t),t===!1&&Wde(e)}function Gde(e,t){Jn(t,(n,r)=>{h_(e,n,r)})}function h_(e,t,n){const r=new lt("/.info/"+t),i=rn(n);e.infoData_.updateSnapshot(r,i);const s=Md(e.infoSyncTree_,r,i);_i(e.eventQueue_,r,s)}function B6(e){return e.nextWriteId_++}function Yde(e,t,n){const r=_de(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=rn(i).withIndex(t._queryParams.getIndex());dw(e.serverSyncTree_,t,n,!0);let l;if(t._queryParams.loadsAllData())l=Md(e.serverSyncTree_,t._path,s);else{const u=ld(e.serverSyncTree_,t);l=E6(e.serverSyncTree_,t._path,s,u)}return _i(e.eventQueue_,t._path,l),Qm(e.serverSyncTree_,t,n,null,!0),s},i=>(ng(e,"get for query "+$t(t)+" failed: "+i),Promise.reject(new Error(i))))}function Kde(e,t,n,r,i){ng(e,"set",{path:t.toString(),value:n,priority:r});const s=f_(e),l=rn(n,r),u=JS(e.serverSyncTree_,t),d=T6(l,u,s),h=B6(e),p=_6(e.serverSyncTree_,t,d,h,!0);d_(e.eventQueue_,p),e.server_.put(t.toString(),l.val(!0),(v,x)=>{const w=v==="ok";w||Zn("set at "+t+" failed: "+v);const _=Ws(e.serverSyncTree_,h,!w);_i(e.eventQueue_,t,_),Zde(e,i,v,x)});const g=H6(e,t);rg(e,g),_i(e.eventQueue_,g,[])}function Wde(e){ng(e,"onDisconnectEvents");const t=f_(e),n=Hm();sw(e.onDisconnect_,We(),(i,s)=>{const l=kde(i,s,e.serverSyncTree_,t);o6(n,i,l)});let r=[];sw(n,We(),(i,s)=>{r=r.concat(Md(e.serverSyncTree_,i,s));const l=H6(e,i);rg(e,l)}),e.onDisconnect_=Hm(),_i(e.eventQueue_,We(),r)}function Xde(e,t,n){let r;Re(t._path)===".info"?r=dw(e.infoSyncTree_,t,n):r=dw(e.serverSyncTree_,t,n),R6(e.eventQueue_,t._path,r)}function hw(e,t,n){let r;Re(t._path)===".info"?r=Qm(e.infoSyncTree_,t,n):r=Qm(e.serverSyncTree_,t,n),R6(e.eventQueue_,t._path,r)}function Qde(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Vde)}function ng(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Tn(n,...t)}function Zde(e,t,n,r){t&&ic(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,t(l)}})}function z6(e,t,n){return JS(e.serverSyncTree_,t,n)||Ae.EMPTY_NODE}function m_(e,t=e.transactionQueueTree_){if(t||ig(e,t),ac(t)){const n=F6(e,t);ce(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Jde(e,Id(t),n)}else O6(t)&&tg(t,n=>{m_(e,n)})}function Jde(e,t,n){const r=n.map(h=>h.currentWriteId),i=z6(e,t,r);let s=i;const l=i.hash();for(let h=0;h<n.length;h++){const p=n[h];ce(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=Mn(t,p.path);s=s.updateChild(g,p.currentOutputSnapshotRaw)}const u=s.val(!0),d=t;e.server_.put(d.toString(),u,h=>{ng(e,"transaction put response",{path:d.toString(),status:h});let p=[];if(h==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Ws(e.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ig(e,o_(e.transactionQueueTree_,t)),m_(e,e.transactionQueueTree_),_i(e.eventQueue_,t,p);for(let v=0;v<g.length;v++)ic(g[v])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Zn("transaction at "+d.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}rg(e,t)}},l)}function rg(e,t){const n=U6(e,t),r=Id(n),i=F6(e,n);return efe(e,i,r),r}function efe(e,t,n){if(t.length===0)return;const r=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const d=t[u],h=Mn(n,d.path);let p=!1,g;if(ce(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)p=!0,g=d.abortReason,i=i.concat(Ws(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=Hde)p=!0,g="maxretry",i=i.concat(Ws(e.serverSyncTree_,d.currentWriteId,!0));else{const v=z6(e,d.path,l);d.currentInputSnapshot=v;const x=t[u].update(v.val());if(x!==void 0){l_("transaction failed: Data returned ",x,d.path);let w=rn(x);typeof x=="object"&&x!=null&&wa(x,".priority")||(w=w.updatePriority(v.getPriority()));const E=d.currentWriteId,j=f_(e),A=T6(w,v,j);d.currentOutputSnapshotRaw=w,d.currentOutputSnapshotResolved=A,d.currentWriteId=B6(e),l.splice(l.indexOf(E),1),i=i.concat(_6(e.serverSyncTree_,d.path,A,d.currentWriteId,d.applyLocally)),i=i.concat(Ws(e.serverSyncTree_,E,!0))}else p=!0,g="nodata",i=i.concat(Ws(e.serverSyncTree_,d.currentWriteId,!0))}_i(e.eventQueue_,n,i),i=[],p&&(t[u].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[u].unwatcher),t[u].onComplete&&(g==="nodata"?r.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):r.push(()=>t[u].onComplete(new Error(g),!1,null))))}ig(e,e.transactionQueueTree_);for(let u=0;u<r.length;u++)ic(r[u]);m_(e,e.transactionQueueTree_)}function U6(e,t){let n,r=e.transactionQueueTree_;for(n=Re(t);n!==null&&ac(r)===void 0;)r=o_(r,n),t=ft(t),n=Re(t);return r}function F6(e,t){const n=[];return V6(e,t,n),n.sort((r,i)=>r.order-i.order),n}function V6(e,t,n){const r=ac(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);tg(t,i=>{V6(e,i,n)})}function ig(e,t){const n=ac(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,A6(t,n.length>0?n:void 0)}tg(t,r=>{ig(e,r)})}function H6(e,t){const n=Id(U6(e,t)),r=o_(e.transactionQueueTree_,t);return Dde(r,i=>{Rx(e,i)}),Rx(e,r),k6(r,i=>{Rx(e,i)}),n}function Rx(e,t){const n=ac(t);if(n){const r=[];let i=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(ce(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(ce(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(Ws(e.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?A6(t,void 0):n.length=s+1,_i(e.eventQueue_,Id(t),i);for(let l=0;l<r.length;l++)ic(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tfe(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function nfe(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Zn(`Invalid query segment '${n}' in query '${e}'`)}return t}const zP=function(e,t){const n=rfe(e),r=n.namespace;n.domain==="firebase.com"&&da(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&da("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yce();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new V4(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new lt(n.pathString)}},rfe=function(e){let t="",n="",r="",i="",s="",l=!0,u="https",d=443;if(typeof e=="string"){let h=e.indexOf("//");h>=0&&(u=e.substring(0,h-1),e=e.substring(h+2));let p=e.indexOf("/");p===-1&&(p=e.length);let g=e.indexOf("?");g===-1&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=tfe(e.substring(p,g)));const v=nfe(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(l=u==="https"||u==="wss",d=parseInt(t.substring(h+1),10)):h=t.length;const x=t.slice(0,h);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in v&&(s=v.ns)}return{host:t,port:d,domain:n,subdomain:r,secure:l,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ife=(function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=UP.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let l=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=UP.charAt(t[i]);return ce(l.length===20,"nextPushId: Length should be 20."),l}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$t(this.snapshot.exportVal())}}class q6{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ue(this._path)?null:Q4(this._path)}get ref(){return new oi(this._repo,this._path)}get _queryIdentifier(){const t=EP(this._queryParams),n=zS(t);return n==="{}"?"default":n}get _queryObject(){return EP(this._queryParams)}isEqual(t){if(t=bo(t),!(t instanceof ag))return!1;const n=this._repo===t._repo,r=HS(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tue(this._path)}}class oi extends ag{constructor(t,n){super(t,n,new Xp,!1)}get parent(){const t=J4(this._path);return t===null?null:new oi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class uo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new lt(t),r=fo(this.ref,t);return new uo(this._node.getChild(n),r,Nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new uo(i,fo(this.ref,r),Nt)))}hasChild(t){const n=new lt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ld(e,t){return e=bo(e),e._checkNotDeleted("ref"),t!==void 0?fo(e._root,t):e._root}function fo(e,t){return e=bo(e),Re(e._path)===null?Bde("child","path",t):c_("child","path",t),new oi(e._repo,qt(e._path,t))}function G6(e,t){e=bo(e),u_("push",e._path),M6("push",t,e._path,!0);const n=L6(e._repo),r=ife(n),i=fo(e,r),s=fo(e,r);let l;return l=Promise.resolve(s),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function g_(e,t){e=bo(e),u_("set",e._path),M6("set",t,e._path,!1);const n=new Yp;return Kde(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function afe(e){e=bo(e);const t=new p_(()=>{}),n=new Bd(t);return Yde(e._repo,e,n).then(r=>new uo(r,new oi(e._repo,e._path),e._queryParams.getIndex()))}class Bd{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new $6("value",this,new uo(t.snapshotNode,new oi(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new q6(this,t,n):null}matches(t){return t instanceof Bd?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class v_{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new q6(this,t,n):null}createEvent(t,n){ce(t.childName!=null,"Child events should have a childName.");const r=fo(new oi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new $6(t.type,this,new uo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof v_?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function sfe(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const d=n,h=(p,g)=>{hw(e._repo,e,u),d(p,g)};h.userCallback=n.userCallback,h.context=n.context,n=h}const l=new p_(n,s||void 0),u=new Bd(l);return Xde(e._repo,e,u),()=>hw(e._repo,e,u)}function y_(e,t,n,r){return sfe(e,"value",t,n,r)}function x_(e,t,n){let r=null;const i=n?new p_(n):null;t==="value"?r=new Bd(i):t&&(r=new v_(t,i)),hw(e._repo,e,r)}dde(oi);gde(oi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ofe="FIREBASE_DATABASE_EMULATOR_HOST",mw={};let lfe=!1;function cfe(e,t,n,r){e.repoInfo_=new V4(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Y6(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||da("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=zP(s,i),u=l.repoInfo,d;typeof process<"u"&&sP&&(d=sP[ofe]),d?(s=`http://${d}?ns=${u.namespace}`,l=zP(s,i),u=l.repoInfo):l.repoInfo.secure;const h=new Ace(e.name,e.options,t);zde("Invalid Firebase Database URL",l),Ue(l.path)||da("Database URL must point to the root of a Firebase Database (not including a child path).");const p=dfe(u,e,h,new Tce(e.name,n));return new K6(p,e)}function ufe(e,t){const n=mw[t];(!n||n[e.key]!==e)&&da(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Qde(e),delete n[e.key]}function dfe(e,t,n,r){let i=mw[t.name];i||(i={},mw[t.name]=i);let s=i[e.toURLString()];return s&&da("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $de(e,lfe,n,r),i[e.toURLString()]=s,s}class K6{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qde(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oi(this._repo,We())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ufe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&da("Cannot call "+t+" on a deleted database.")}}function W6(e=tce(),t){const n=Qle(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Uoe("database");r&&X6(n,...r)}return n}function X6(e,t,n,r={}){e=bo(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&da("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&da('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Dh(Dh.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:Foe(r.mockUserToken,e.app.options.projectId);s=new Dh(l)}cfe(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ffe(e){N4(ece),Bm(new ed("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Y6(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Sl(oP,lP,e),Sl(oP,lP,"esm2017")}ta.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ta.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};ffe();const b_=Object.freeze(Object.defineProperty({__proto__:null,DataSnapshot:uo,Database:K6,_QueryImpl:ag,_QueryParams:Xp,_ReferenceImpl:oi,_repoManagerDatabaseFromApp:Y6,_setSDKVersion:N4,_validatePathString:c_,_validateWritablePath:u_,child:fo,connectDatabaseEmulator:X6,get:afe,getDatabase:W6,off:x_,onValue:y_,push:G6,ref:Ld,set:g_},Symbol.toStringTag,{value:"Module"}));let wu=null;function sc(){if(wu)return wu;const e={apiKey:"AIzaSyDToRKTx5chlXxZUMdbFbHhmMPrycDduUg",authDomain:"sims-b1280.firebaseapp.com",projectId:"sims-b1280",storageBucket:"sims-b1280.firebasestorage.app",messagingSenderId:"31719859362",databaseURL:"https://sims-b1280-default-rtdb.asia-southeast1.firebasedatabase.app",appId:"1:31719859362:web:e5f085bbbef8a8b95463fb"};if(!e.projectId||!e.databaseURL)return console.warn("[Firebase] Missing Firebase config. Realtime disabled."),null;try{const t=_4(e);return wu=W6(t),console.log("[Firebase] Initialized successfully"),wu}catch(t){return console.error("[Firebase] Initialization failed:",t),null}}function Q6(e,t,n){const r=sc();if(!r)return Promise.reject(new Error("Firebase not initialized"));const i=new Date().toISOString(),s=Ld(r,`channels/${e}/${t}`),l=G6(s);return g_(l,{...n,timestamp:i,id:l.key})}function Z6(e,t,n){const r=sc();if(!r)return()=>{};const i=Ld(r,`channels/${e}/${t}`),s=l=>{if(l.exists()){const u=l.val();if(typeof u=="object"&&u!==null){const d=Object.keys(u).sort().pop();d&&n(u[d])}else n(u)}};return y_(i,s),()=>x_(i,"value",s)}function hfe(e,t){const n=sc();if(!n)return()=>{};const r=Ld(n,e),i=s=>{s.exists()?t(s.val()):t(null)};return y_(r,i),()=>x_(r,"value",i)}function mfe(e,t){const n=sc();if(!n)return Promise.reject(new Error("Firebase not initialized"));const r=Ld(n,e);return g_(r,t)}function pfe(){wu=null}const gfe=Object.freeze(Object.defineProperty({__proto__:null,initFirebase:sc,publishMessage:Q6,shutdownFirebase:pfe,subscribeToChannel:Z6,subscribeToData:hfe,updateData:mfe},Symbol.toStringTag,{value:"Module"})),vfe=()=>{const[e,t]=S.useState(!1),[n,r]=S.useState([]),[i,s]=S.useState("sims-realtime"),[l,u]=S.useState("data-update"),[d,h]=S.useState('{"status":"active","lastUpdated":"now"}'),[p,g]=S.useState("Initializing..."),[v,x]=S.useState(null);S.useEffect(()=>(sc()?(t(!0),g(" Firebase Realtime Database connected")):g(" Firebase not configured. Add credentials to .env.production"),()=>{v&&v()}),[]);const w=()=>{if(!e){g("Firebase not initialized");return}v&&v();const j=Z6(i,l,A=>{r(N=>[...N.slice(-19),{event:l,data:A,timestamp:new Date().toLocaleTimeString()}])});x(()=>j),g(` Listening to "${i}"  "${l}"`)},_=async()=>{if(!e){g("Firebase not initialized");return}try{let j={};try{j=JSON.parse(d)}catch{g(" Invalid JSON payload");return}await Q6(i,l,j),g(` Published to "${i}"  "${l}"`)}catch(j){g(` Publish error: ${j.message}`)}},E=()=>r([]);return f.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow p-6 space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Firebase Realtime Test"}),f.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded text-sm font-mono text-slate-700 dark:text-slate-300 whitespace-pre-wrap break-all",children:["Status: ",p]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Channel Name"}),f.jsx("input",{type:"text",value:i,onChange:j=>s(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Event Name"}),f.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"JSON Payload to Publish"}),f.jsx("textarea",{value:d,onChange:j=>h(j.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-800 text-slate-900 dark:text-white font-mono text-sm"})]})]}),f.jsxs("div",{className:"flex gap-3 flex-wrap",children:[f.jsx("button",{onClick:w,disabled:!e,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded font-medium transition",children:"Subscribe"}),f.jsx("button",{onClick:_,disabled:!e,className:"px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-slate-400 text-white rounded font-medium transition",children:"Publish"}),f.jsx("button",{onClick:E,className:"px-4 py-2 bg-slate-400 hover:bg-slate-500 text-white rounded font-medium transition",children:"Clear Messages"})]}),f.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded p-4 space-y-2 max-h-96 overflow-y-auto",children:[f.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white",children:["Received Messages (",n.length,"):"]}),n.length===0?f.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 italic",children:"No messages yet..."}):n.map((j,A)=>f.jsxs("div",{className:"bg-white dark:bg-slate-700 p-2 rounded text-xs font-mono border-l-4 border-blue-500",children:[f.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:j.timestamp}),f.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["Event: ",j.event]}),f.jsx("div",{className:"text-slate-900 dark:text-white whitespace-pre-wrap break-all",children:JSON.stringify(j.data,null,2)})]},A))]}),f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded p-3 text-sm",children:[f.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"How to Test:"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800 dark:text-blue-200",children:[f.jsxs("li",{children:["Create a Firebase project at ",f.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"https://console.firebase.google.com"})]}),f.jsx("li",{children:"Enable Realtime Database in your project"}),f.jsx("li",{children:"Get your Firebase config and add to .env.local (see instructions below)"}),f.jsx("li",{children:"Open this page in two tabs or devices"}),f.jsx("li",{children:'In Tab A: Click "Subscribe" to listen for events'}),f.jsx("li",{children:'In Tab B: Change channel/event names and click "Publish"'}),f.jsx("li",{children:"Messages appear instantly in Tab A"})]})]})]})},yfe=()=>f.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-950 dark:to-slate-900 py-12 px-4",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"Firebase Realtime Testing"}),f.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Test Firebase Realtime Database publish/subscribe. Open this page in multiple tabs or devices to see messages propagate in real-time across all clients."})]}),f.jsx(vfe,{}),f.jsxs("div",{className:"mt-8 bg-slate-100 dark:bg-slate-800 rounded p-6 space-y-4",children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Setup Instructions"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-slate-700 dark:text-slate-300",children:[f.jsxs("li",{children:["Create a Firebase project at"," ",f.jsx("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold",children:"https://console.firebase.google.com"})]}),f.jsxs("li",{children:["In your project:",f.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[f.jsxs("li",{children:["Go to ",f.jsx("strong",{children:"Build"}),"  ",f.jsx("strong",{children:"Realtime Database"})]}),f.jsxs("li",{children:["Click ",f.jsx("strong",{children:"Create Database"})]}),f.jsxs("li",{children:["Choose location and start in ",f.jsx("strong",{children:"test mode"})," (for development)"]})]})]}),f.jsxs("li",{children:["In ",f.jsx("strong",{children:"Project Settings"}),", copy your web app config. Add to ",f.jsx("code",{className:"bg-white dark:bg-slate-900 px-2 py-1 rounded",children:".env.local"}),":",f.jsx("pre",{className:"bg-white dark:bg-slate-900 p-3 rounded mt-2 text-sm overflow-x-auto break-words whitespace-pre-wrap",children:`VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id
VITE_FIREBASE_DATABASE_URL=https://your_project.firebaseio.com`})]}),f.jsxs("li",{children:["Restart dev server: ",f.jsx("code",{className:"bg-white dark:bg-slate-900 px-2 py-1 rounded",children:"npm run dev"})]}),f.jsxs("li",{children:["Open this page in multiple tabs/browsers:",f.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1",children:[f.jsx("li",{children:'In Tab A: Click "Subscribe" on a channel'}),f.jsx("li",{children:"In Tab B: Publish a message to the same channel"}),f.jsx("li",{children:"Watch Tab A receive the message in real-time "})]})]})]})]}),f.jsxs("div",{className:"mt-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded p-4",children:[f.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-300 mb-2",children:" Cross-Device Sync"}),f.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Changes made on any device are instantly visible on all other connected devices because Firebase Realtime Database syncs all clients automatically."})]})]})});function xfe(){return yr.useEffect(()=>{Ys();const e=()=>Ys(),t=()=>Ys();window.addEventListener("online",e),window.addEventListener("focus",t);const n=setInterval(()=>Ys(),6e4);return()=>{window.removeEventListener("online",e),window.removeEventListener("focus",t),clearInterval(n)}},[]),f.jsx(lF,{children:f.jsx(mF,{children:f.jsx(vF,{children:f.jsx(yF,{children:f.jsx(wF,{children:f.jsx(K$,{children:f.jsx(xF,{children:f.jsx(JU,{children:f.jsxs(AU,{children:[f.jsx(Jt,{path:"/login",element:f.jsx(W$,{})}),f.jsx(Jt,{path:"/signup",element:f.jsx(X$,{})}),f.jsx(Jt,{path:"/complete-profile",element:f.jsx(_oe,{})}),f.jsxs(Jt,{path:"/",element:f.jsx(Y0,{children:f.jsx(woe,{})}),children:[f.jsx(Jt,{index:!0,element:f.jsx(Rh,{to:"/dashboard",replace:!0})}),f.jsx(Jt,{path:"dashboard",element:f.jsx(Lse,{})}),f.jsx(Jt,{path:"leaderboard",element:f.jsx(zse,{})}),f.jsx(Jt,{path:"teams",element:f.jsx(Toe,{})}),f.jsx(Jt,{path:"events",element:f.jsx($se,{})}),f.jsx(Jt,{path:"rules",element:f.jsx(Soe,{})}),f.jsx(Jt,{path:"reports",element:f.jsx(Ooe,{})}),f.jsx(Jt,{path:"realtime-test",element:f.jsx(yfe,{})}),f.jsx(Jt,{path:"profile",element:f.jsx(Yk,{})}),f.jsx(Jt,{path:"profile/:userId",element:f.jsx(Yk,{})}),f.jsx(Jt,{path:"admin",element:f.jsx(Y0,{roles:[Pe.ADMIN],children:f.jsx(Xse,{})})}),f.jsx(Jt,{path:"admin/audit",element:f.jsx(Y0,{roles:[Pe.ADMIN],children:f.jsx(noe,{})})})]}),f.jsx(Jt,{path:"*",element:f.jsx(Rh,{to:"/"})})]})})})})})})})})})}const J6=document.getElementById("root");if(!J6)throw new Error("Could not find root element to mount to");const bfe=Rz.createRoot(J6);bfe.render(f.jsx(yr.StrictMode,{children:f.jsx(xfe,{})}));
